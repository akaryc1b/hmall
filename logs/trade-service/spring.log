15:26:41:987  INFO 26168 --- [main] com.hmall.trade.TradeApplication         : The following 1 profile is active: "local"
15:26:42:674  INFO 26168 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
15:26:42:675  INFO 26168 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
15:26:42:699  INFO 26168 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
15:26:42:866  INFO 26168 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=7531f02f-4db1-3eac-b513-63c7cb60005a
15:26:42:910  INFO 26168 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
15:26:42:910  INFO 26168 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springApplicationContextProvider' of type [io.seata.spring.boot.autoconfigure.provider.SpringApplicationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
15:26:42:910  INFO 26168 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'io.seata.spring.boot.autoconfigure.SeataAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
15:26:42:936  INFO 26168 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'failureHandler' of type [io.seata.tm.api.DefaultFailureHandlerImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
15:26:42:939  INFO 26168 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
15:26:42:939  INFO 26168 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
15:26:42:940  INFO 26168 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$591/0x000000080069d840] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
15:26:42:940  INFO 26168 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
15:26:42:942  INFO 26168 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springCloudAlibabaConfiguration' of type [io.seata.spring.boot.autoconfigure.properties.SpringCloudAlibabaConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
15:26:42:943  INFO 26168 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'seataProperties' of type [io.seata.spring.boot.autoconfigure.properties.SeataProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
15:26:42:944  INFO 26168 --- [main] i.s.s.b.a.SeataAutoConfiguration         : Automatically configure Seata
15:26:42:996  INFO 26168 --- [main] io.seata.config.ConfigurationFactory     : load Configuration from :Spring Configuration
15:26:43:001  INFO 26168 --- [main] io.seata.config.ConfigurationFactory     : load Configuration from :Spring Configuration
15:26:43:045  INFO 26168 --- [main] i.s.s.a.GlobalTransactionScanner         : Initializing Global Transaction Clients ... 
15:26:43:108  INFO 26168 --- [main] i.s.core.rpc.netty.NettyClientBootstrap  : NettyClientBootstrap has started
15:26:43:507  INFO 26168 --- [main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of e62129ab-f7dd-44e1-af68-c846cdd0b231
15:26:43:507  INFO 26168 --- [main] com.alibaba.nacos.common.remote.client   : [e62129ab-f7dd-44e1-af68-c846cdd0b231] RpcClient init label, labels = {module=naming, source=sdk}
15:26:43:509  INFO 26168 --- [main] com.alibaba.nacos.common.remote.client   : [e62129ab-f7dd-44e1-af68-c846cdd0b231] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
15:26:43:509  INFO 26168 --- [main] com.alibaba.nacos.common.remote.client   : [e62129ab-f7dd-44e1-af68-c846cdd0b231] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
15:26:43:509  INFO 26168 --- [main] com.alibaba.nacos.common.remote.client   : [e62129ab-f7dd-44e1-af68-c846cdd0b231] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
15:26:43:510  INFO 26168 --- [main] com.alibaba.nacos.common.remote.client   : [e62129ab-f7dd-44e1-af68-c846cdd0b231] Try to connect to server on start up, server: {serverIp = '192.168.15.215', server main port = 8848}
15:26:43:637  INFO 26168 --- [main] com.alibaba.nacos.common.remote.client   : [e62129ab-f7dd-44e1-af68-c846cdd0b231] Success to connect to server [192.168.15.215:8848] on start up, connectionId = 1719559603732_192.168.15.235_36881
15:26:43:637  INFO 26168 --- [main] com.alibaba.nacos.common.remote.client   : [e62129ab-f7dd-44e1-af68-c846cdd0b231] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
15:26:43:637  INFO 26168 --- [main] com.alibaba.nacos.common.remote.client   : [e62129ab-f7dd-44e1-af68-c846cdd0b231] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$470/0x0000000800423040
15:26:43:637  INFO 26168 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [e62129ab-f7dd-44e1-af68-c846cdd0b231] Notify connected event to listeners.
15:26:43:698 ERROR 26168 --- [main] i.s.c.r.netty.NettyClientChannelManager  : no available service found in cluster 'default', please make sure registry config correct and keep your seata server running
15:26:43:698  INFO 26168 --- [main] i.s.s.a.GlobalTransactionScanner         : Transaction Manager Client is initialized. applicationId[trade-service] txServiceGroup[hmall]
15:26:43:705  INFO 26168 --- [main] io.seata.rm.datasource.AsyncWorker       : Async Commit Buffer Limit: 10000
15:26:43:705  INFO 26168 --- [main] i.s.rm.datasource.xa.ResourceManagerXA   : ResourceManagerXA init ...
15:26:43:713  INFO 26168 --- [main] i.s.core.rpc.netty.NettyClientBootstrap  : NettyClientBootstrap has started
15:26:43:713  INFO 26168 --- [main] i.s.s.a.GlobalTransactionScanner         : Resource Manager is initialized. applicationId[trade-service] txServiceGroup[hmall]
15:26:43:713  INFO 26168 --- [main] i.s.s.a.GlobalTransactionScanner         : Global Transaction Clients are initialized. 
15:26:43:714  INFO 26168 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'io.seata.spring.boot.autoconfigure.SeataDataSourceAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataDataSourceAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
15:26:43:785  INFO 26168 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'com.alibaba.cloud.seata.feign.SeataFeignClientAutoConfiguration$FeignBeanPostProcessorConfiguration' of type [com.alibaba.cloud.seata.feign.SeataFeignClientAutoConfiguration$FeignBeanPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
15:26:43:787  INFO 26168 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'seataFeignObjectWrapper' of type [com.alibaba.cloud.seata.feign.SeataFeignObjectWrapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
15:26:43:985  INFO 26168 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8085 (http)
15:26:43:993  INFO 26168 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
15:26:43:993  INFO 26168 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.75]
15:26:44:167  INFO 26168 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
15:26:44:167  INFO 26168 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2162 ms
15:26:44:252  INFO 26168 --- [nacos-grpc-client-executor-8] com.alibaba.nacos.common.remote.client   : [e62129ab-f7dd-44e1-af68-c846cdd0b231] Receive server push request, request = NotifySubscriberRequest, requestId = 1
15:26:44:254  INFO 26168 --- [nacos-grpc-client-executor-8] com.alibaba.nacos.common.remote.client   : [e62129ab-f7dd-44e1-af68-c846cdd0b231] Ack server push request, request = NotifySubscriberRequest, requestId = 1
15:26:44:370  INFO 26168 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'item-service' URL not provided. Will try picking an instance via load-balancing.
15:26:44:425  INFO 26168 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'cart-service' URL not provided. Will try picking an instance via load-balancing.
15:26:44:531  INFO 26168 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
15:26:44:796  INFO 26168 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
15:26:44:844 ERROR 26168 --- [main] i.s.c.r.netty.NettyClientChannelManager  : no available service found in cluster 'default', please make sure registry config correct and keep your seata server running
15:26:47:755  INFO 26168 --- [main] i.s.s.a.GlobalTransactionScanner         : Bean[com.hmall.trade.service.impl.OrderServiceImpl$$EnhancerBySpringCGLIB$$34106adb] with name [orderServiceImpl] would use interceptor [io.seata.spring.annotation.GlobalTransactionalInterceptor]
15:26:49:273  INFO 26168 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)]
15:26:51:551  INFO 26168 --- [main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of 541dc54c-154e-498d-bdd5-3294c0e1c32b
15:26:51:551  INFO 26168 --- [main] com.alibaba.nacos.common.remote.client   : [541dc54c-154e-498d-bdd5-3294c0e1c32b] RpcClient init label, labels = {module=naming, source=sdk}
15:26:51:552  INFO 26168 --- [main] com.alibaba.nacos.common.remote.client   : [541dc54c-154e-498d-bdd5-3294c0e1c32b] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
15:26:51:552  INFO 26168 --- [main] com.alibaba.nacos.common.remote.client   : [541dc54c-154e-498d-bdd5-3294c0e1c32b] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
15:26:51:552  INFO 26168 --- [main] com.alibaba.nacos.common.remote.client   : [541dc54c-154e-498d-bdd5-3294c0e1c32b] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
15:26:51:552  INFO 26168 --- [main] com.alibaba.nacos.common.remote.client   : [541dc54c-154e-498d-bdd5-3294c0e1c32b] Try to connect to server on start up, server: {serverIp = '192.168.15.215', server main port = 8848}
15:26:51:664  INFO 26168 --- [main] com.alibaba.nacos.common.remote.client   : [541dc54c-154e-498d-bdd5-3294c0e1c32b] Success to connect to server [192.168.15.215:8848] on start up, connectionId = 1719559611772_192.168.15.235_36956
15:26:51:664  INFO 26168 --- [main] com.alibaba.nacos.common.remote.client   : [541dc54c-154e-498d-bdd5-3294c0e1c32b] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
15:26:51:664  INFO 26168 --- [main] com.alibaba.nacos.common.remote.client   : [541dc54c-154e-498d-bdd5-3294c0e1c32b] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$470/0x0000000800423040
15:26:51:664  INFO 26168 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [541dc54c-154e-498d-bdd5-3294c0e1c32b] Notify connected event to listeners.
15:26:51:679  INFO 26168 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8085 (http) with context path ''
15:26:51:705  INFO 26168 --- [main] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP trade-service 192.168.209.1:8085 register finished
15:26:52:257  INFO 26168 --- [nacos-grpc-client-executor-8] com.alibaba.nacos.common.remote.client   : [541dc54c-154e-498d-bdd5-3294c0e1c32b] Receive server push request, request = NotifySubscriberRequest, requestId = 2
15:26:52:259  INFO 26168 --- [nacos-grpc-client-executor-8] com.alibaba.nacos.common.remote.client   : [541dc54c-154e-498d-bdd5-3294c0e1c32b] Ack server push request, request = NotifySubscriberRequest, requestId = 2
15:26:52:768  INFO 26168 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Documentation plugins bootstrapped
15:26:52:771  INFO 26168 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
15:26:52:785  INFO 26168 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
15:26:52:835  INFO 26168 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.15.215:5672]
15:26:52:868  INFO 26168 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#eb23b9c:0/SimpleConnection@3503e68e [delegate=amqp://hmall@192.168.15.215:5672//hmall, localPort= 36959]
15:26:52:950  INFO 26168 --- [main] com.hmall.trade.TradeApplication         : Started TradeApplication in 17.719 seconds (JVM running for 19.316)
15:26:52:953  INFO 26168 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=trade-service, group=DEFAULT_GROUP
15:26:52:953  INFO 26168 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=trade-service-local.yaml, group=DEFAULT_GROUP
15:26:52:953  INFO 26168 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=trade-service.yaml, group=DEFAULT_GROUP
15:27:43:115 ERROR 26168 --- [timeoutChecker_1_1] i.s.c.r.netty.NettyClientChannelManager  : no available service found in cluster 'default', please make sure registry config correct and keep your seata server running
15:27:43:719 ERROR 26168 --- [timeoutChecker_2_1] i.s.c.r.netty.NettyClientChannelManager  : no available service found in cluster 'default', please make sure registry config correct and keep your seata server running
15:27:53:109 ERROR 26168 --- [timeoutChecker_1_1] i.s.c.r.netty.NettyClientChannelManager  : no available service found in cluster 'default', please make sure registry config correct and keep your seata server running
15:27:53:721 ERROR 26168 --- [timeoutChecker_2_1] i.s.c.r.netty.NettyClientChannelManager  : no available service found in cluster 'default', please make sure registry config correct and keep your seata server running
15:28:03:115 ERROR 26168 --- [timeoutChecker_1_1] i.s.c.r.netty.NettyClientChannelManager  : no available service found in cluster 'default', please make sure registry config correct and keep your seata server running
15:28:03:717 ERROR 26168 --- [timeoutChecker_2_1] i.s.c.r.netty.NettyClientChannelManager  : no available service found in cluster 'default', please make sure registry config correct and keep your seata server running
15:28:13:114 ERROR 26168 --- [timeoutChecker_1_1] i.s.c.r.netty.NettyClientChannelManager  : no available service found in cluster 'default', please make sure registry config correct and keep your seata server running
15:28:13:720 ERROR 26168 --- [timeoutChecker_2_1] i.s.c.r.netty.NettyClientChannelManager  : no available service found in cluster 'default', please make sure registry config correct and keep your seata server running
15:28:23:120 ERROR 26168 --- [timeoutChecker_1_1] i.s.c.r.netty.NettyClientChannelManager  : no available service found in cluster 'default', please make sure registry config correct and keep your seata server running
15:28:23:714 ERROR 26168 --- [timeoutChecker_2_1] i.s.c.r.netty.NettyClientChannelManager  : no available service found in cluster 'default', please make sure registry config correct and keep your seata server running
15:28:33:115 ERROR 26168 --- [timeoutChecker_1_1] i.s.c.r.netty.NettyClientChannelManager  : no available service found in cluster 'default', please make sure registry config correct and keep your seata server running
15:28:33:724 ERROR 26168 --- [timeoutChecker_2_1] i.s.c.r.netty.NettyClientChannelManager  : no available service found in cluster 'default', please make sure registry config correct and keep your seata server running
15:28:43:117 ERROR 26168 --- [timeoutChecker_1_1] i.s.c.r.netty.NettyClientChannelManager  : no available service found in cluster 'default', please make sure registry config correct and keep your seata server running
15:28:43:726 ERROR 26168 --- [timeoutChecker_2_1] i.s.c.r.netty.NettyClientChannelManager  : no available service found in cluster 'default', please make sure registry config correct and keep your seata server running
15:28:53:114 ERROR 26168 --- [timeoutChecker_1_1] i.s.c.r.netty.NettyClientChannelManager  : no available service found in cluster 'default', please make sure registry config correct and keep your seata server running
15:28:53:720 ERROR 26168 --- [timeoutChecker_2_1] i.s.c.r.netty.NettyClientChannelManager  : no available service found in cluster 'default', please make sure registry config correct and keep your seata server running
15:29:03:120 ERROR 26168 --- [timeoutChecker_1_1] i.s.c.r.netty.NettyClientChannelManager  : no available service found in cluster 'default', please make sure registry config correct and keep your seata server running
15:29:03:723 ERROR 26168 --- [timeoutChecker_2_1] i.s.c.r.netty.NettyClientChannelManager  : no available service found in cluster 'default', please make sure registry config correct and keep your seata server running
15:29:13:112 ERROR 26168 --- [timeoutChecker_1_1] i.s.c.r.netty.NettyClientChannelManager  : no available service found in cluster 'default', please make sure registry config correct and keep your seata server running
15:29:13:716 ERROR 26168 --- [timeoutChecker_2_1] i.s.c.r.netty.NettyClientChannelManager  : no available service found in cluster 'default', please make sure registry config correct and keep your seata server running
15:29:23:118 ERROR 26168 --- [timeoutChecker_1_1] i.s.c.r.netty.NettyClientChannelManager  : no available service found in cluster 'default', please make sure registry config correct and keep your seata server running
15:29:23:723 ERROR 26168 --- [timeoutChecker_2_1] i.s.c.r.netty.NettyClientChannelManager  : no available service found in cluster 'default', please make sure registry config correct and keep your seata server running
15:29:33:110 ERROR 26168 --- [timeoutChecker_1_1] i.s.c.r.netty.NettyClientChannelManager  : no available service found in cluster 'default', please make sure registry config correct and keep your seata server running
15:29:33:721 ERROR 26168 --- [timeoutChecker_2_1] i.s.c.r.netty.NettyClientChannelManager  : no available service found in cluster 'default', please make sure registry config correct and keep your seata server running
15:29:43:113 ERROR 26168 --- [timeoutChecker_1_1] i.s.c.r.netty.NettyClientChannelManager  : no available service found in cluster 'default', please make sure registry config correct and keep your seata server running
15:29:43:715 ERROR 26168 --- [timeoutChecker_2_1] i.s.c.r.netty.NettyClientChannelManager  : no available service found in cluster 'default', please make sure registry config correct and keep your seata server running
15:29:47:149  INFO 26168 --- [nacos-grpc-client-executor-55] com.alibaba.nacos.common.remote.client   : [e62129ab-f7dd-44e1-af68-c846cdd0b231] Receive server push request, request = NotifySubscriberRequest, requestId = 3
15:29:47:152  INFO 26168 --- [nacos-grpc-client-executor-55] com.alibaba.nacos.common.remote.client   : [e62129ab-f7dd-44e1-af68-c846cdd0b231] Ack server push request, request = NotifySubscriberRequest, requestId = 3
15:29:53:111  INFO 26168 --- [timeoutChecker_1_1] i.s.c.r.netty.NettyClientChannelManager  : will connect to 192.168.15.215:8099
15:29:53:716  INFO 26168 --- [timeoutChecker_2_1] i.s.c.r.netty.NettyClientChannelManager  : will connect to 192.168.15.215:8099
15:29:53:716  INFO 26168 --- [timeoutChecker_2_1] i.s.c.rpc.netty.RmNettyRemotingClient    : RM will register :jdbc:mysql://192.168.15.215:3306/hm-trade
15:29:53:719  INFO 26168 --- [timeoutChecker_2_1] i.s.core.rpc.netty.NettyPoolableFactory  : NettyPool create channel to transactionRole:RMROLE,address:192.168.15.215:8099,msg:< RegisterRMRequest{resourceIds='jdbc:mysql://192.168.15.215:3306/hm-trade', applicationId='trade-service', transactionServiceGroup='hmall'} >
15:29:53:863  INFO 26168 --- [timeoutChecker_2_1] i.s.c.rpc.netty.RmNettyRemotingClient    : register RM success. client version:1.5.2, server version:1.5.2,channel:[id: 0xad9b478e, L:/192.168.15.235:37241 - R:/192.168.15.215:8099]
15:29:53:868  INFO 26168 --- [timeoutChecker_2_1] i.s.core.rpc.netty.NettyPoolableFactory  : register success, cost 88 ms, version:1.5.2,role:RMROLE,channel:[id: 0xad9b478e, L:/192.168.15.235:37241 - R:/192.168.15.215:8099]
15:29:53:903  INFO 26168 --- [timeoutChecker_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : NettyPool create channel to transactionRole:TMROLE,address:192.168.15.215:8099,msg:< RegisterTMRequest{applicationId='trade-service', transactionServiceGroup='hmall'} >
15:29:53:912  INFO 26168 --- [timeoutChecker_1_1] i.s.c.rpc.netty.TmNettyRemotingClient    : register TM success. client version:1.5.2, server version:1.5.2,channel:[id: 0x5b805e69, L:/192.168.15.235:37242 - R:/192.168.15.215:8099]
15:29:53:913  INFO 26168 --- [timeoutChecker_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : register success, cost 8 ms, version:1.5.2,role:TMROLE,channel:[id: 0x5b805e69, L:/192.168.15.235:37242 - R:/192.168.15.215:8099]
15:32:45:350  INFO 26168 --- [rpcDispatch_RMROLE_1_1_24] i.s.c.r.p.client.RmUndoLogProcessor      : rm handle undo log process:UndoLogDeleteRequest{resourceId='jdbc:mysql://192.168.15.215:3306/hm-trade', saveDays=7, branchType=AT}
15:42:50:360  INFO 26168 --- [http-nio-8085-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
15:42:50:363  INFO 26168 --- [http-nio-8085-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
15:42:50:384  INFO 26168 --- [http-nio-8085-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 21 ms
15:42:50:477  INFO 26168 --- [http-nio-8085-exec-1] io.seata.tm.TransactionManagerHolder     : TransactionManager Singleton io.seata.tm.DefaultTransactionManager@102a44ad
15:42:50:523  INFO 26168 --- [http-nio-8085-exec-1] i.seata.tm.api.DefaultGlobalTransaction  : Begin new global transaction [192.168.15.215:8099:81601879587348483]
15:42:50:562 DEBUG 26168 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] ---> GET http://item-service/items?ids=14741770661 HTTP/1.1
15:42:50:562 DEBUG 26168 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] user-info: 1
15:42:50:562 DEBUG 26168 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] ---> END HTTP (0-byte body)
15:42:51:207  INFO 26168 --- [nacos-grpc-client-executor-207] com.alibaba.nacos.common.remote.client   : [541dc54c-154e-498d-bdd5-3294c0e1c32b] Receive server push request, request = NotifySubscriberRequest, requestId = 19
15:42:51:208  INFO 26168 --- [nacos-grpc-client-executor-207] com.alibaba.nacos.common.remote.client   : [541dc54c-154e-498d-bdd5-3294c0e1c32b] Ack server push request, request = NotifySubscriberRequest, requestId = 19
15:42:51:241 DEBUG 26168 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] <--- HTTP/1.1 200 (678ms)
15:42:51:241 DEBUG 26168 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] connection: keep-alive
15:42:51:241 DEBUG 26168 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] content-type: application/json
15:42:51:241 DEBUG 26168 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] date: Fri, 28 Jun 2024 07:42:51 GMT
15:42:51:241 DEBUG 26168 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] keep-alive: timeout=60
15:42:51:241 DEBUG 26168 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] transfer-encoding: chunked
15:42:51:241 DEBUG 26168 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] 
15:42:51:241 DEBUG 26168 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] [{"id":"14741770661","name":"康佳（KONKA） LED49UC3 49英寸超薄曲面36核4K HDR人工智能电视","price":144600,"stock":9992,"image":"https://m.360buyimg.com/mobilecms/s720x720_jfs/t16477/84/2032772431/400946/2887be91/5a912776N7e343ec3.jpg!q70.jpg.webp","category":"曲面电视","brand":"康佳","spec":"{}","sold":0,"commentCount":0,"isAD":false,"status":1}]
15:42:51:241 DEBUG 26168 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] <--- END HTTP (370-byte body)
15:42:51:288 DEBUG 26168 --- [http-nio-8085-exec-1] c.hmall.trade.mapper.OrderMapper.insert  : ==>  Preparing: INSERT INTO `order` ( id, total_fee, payment_type, user_id, status ) VALUES ( ?, ?, ?, ?, ? )
15:42:51:454 DEBUG 26168 --- [http-nio-8085-exec-1] c.hmall.trade.mapper.OrderMapper.insert  : ==> Parameters: 1806594092826750977(Long), 144600(Integer), 3(Integer), 1(Long), 1(Integer)
15:42:51:481 DEBUG 26168 --- [http-nio-8085-exec-1] c.hmall.trade.mapper.OrderMapper.insert  : <==    Updates: 1
15:42:51:489 DEBUG 26168 --- [http-nio-8085-exec-1] c.h.t.mapper.OrderDetailMapper.insert    : ==>  Preparing: INSERT INTO order_detail ( order_id, item_id, num, name, spec, price, image ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
15:42:51:490 DEBUG 26168 --- [http-nio-8085-exec-1] c.h.t.mapper.OrderDetailMapper.insert    : ==> Parameters: 1806594092826750977(Long), 14741770661(Long), 1(Integer), 康佳（KONKA） LED49UC3 49英寸超薄曲面36核4K HDR人工智能电视(String), {}(String), 144600(Integer), https://m.360buyimg.com/mobilecms/s720x720_jfs/t16477/84/2032772431/400946/2887be91/5a912776N7e343ec3.jpg!q70.jpg.webp(String)
15:42:51:533 DEBUG 26168 --- [http-nio-8085-exec-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] ---> DELETE http://cart-service/carts?ids=14741770661 HTTP/1.1
15:42:51:533 DEBUG 26168 --- [http-nio-8085-exec-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] user-info: 1
15:42:51:533 DEBUG 26168 --- [http-nio-8085-exec-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] ---> END HTTP (0-byte body)
15:42:51:803 DEBUG 26168 --- [http-nio-8085-exec-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] <--- HTTP/1.1 200 (268ms)
15:42:51:803 DEBUG 26168 --- [http-nio-8085-exec-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] connection: keep-alive
15:42:51:803 DEBUG 26168 --- [http-nio-8085-exec-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] content-length: 0
15:42:51:803 DEBUG 26168 --- [http-nio-8085-exec-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] date: Fri, 28 Jun 2024 07:42:51 GMT
15:42:51:803 DEBUG 26168 --- [http-nio-8085-exec-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] keep-alive: timeout=60
15:42:51:803 DEBUG 26168 --- [http-nio-8085-exec-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] 
15:42:51:803 DEBUG 26168 --- [http-nio-8085-exec-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] <--- END HTTP (0-byte body)
15:42:51:813 DEBUG 26168 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] ---> PUT http://item-service/items/stock/deduct HTTP/1.1
15:42:51:813 DEBUG 26168 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] Content-Length: 34
15:42:51:813 DEBUG 26168 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] Content-Type: application/json
15:42:51:813 DEBUG 26168 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] user-info: 1
15:42:51:813 DEBUG 26168 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] 
15:42:51:814 DEBUG 26168 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] [{"itemId":"14741770661","num":1}]
15:42:51:814 DEBUG 26168 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] ---> END HTTP (34-byte body)
15:42:51:957 DEBUG 26168 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] <--- HTTP/1.1 200 (143ms)
15:42:51:957 DEBUG 26168 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] connection: keep-alive
15:42:51:958 DEBUG 26168 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] content-length: 0
15:42:51:958 DEBUG 26168 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] date: Fri, 28 Jun 2024 07:42:51 GMT
15:42:51:958 DEBUG 26168 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] keep-alive: timeout=60
15:42:51:958 DEBUG 26168 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] 
15:42:51:958 DEBUG 26168 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] <--- END HTTP (0-byte body)
15:42:52:032  INFO 26168 --- [http-nio-8085-exec-1] i.seata.tm.api.DefaultGlobalTransaction  : Suspending current transaction, xid = 192.168.15.215:8099:81601879587348483
15:42:52:032  INFO 26168 --- [http-nio-8085-exec-1] i.seata.tm.api.DefaultGlobalTransaction  : [192.168.15.215:8099:81601879587348483] commit status: Committed
15:42:52:112  INFO 26168 --- [nacos-grpc-client-executor-210] com.alibaba.nacos.common.remote.client   : [541dc54c-154e-498d-bdd5-3294c0e1c32b] Receive server push request, request = NotifySubscriberRequest, requestId = 20
15:42:52:113  INFO 26168 --- [nacos-grpc-client-executor-210] com.alibaba.nacos.common.remote.client   : [541dc54c-154e-498d-bdd5-3294c0e1c32b] Ack server push request, request = NotifySubscriberRequest, requestId = 20
15:42:52:253 DEBUG 26168 --- [http-nio-8085-exec-2] c.h.trade.mapper.OrderMapper.selectById  : ==>  Preparing: SELECT id,total_fee,payment_type,user_id,status,create_time,pay_time,consign_time,end_time,close_time,comment_time,update_time FROM `order` WHERE id=?
15:42:52:254 DEBUG 26168 --- [http-nio-8085-exec-2] c.h.trade.mapper.OrderMapper.selectById  : ==> Parameters: 1806594092826750977(Long)
15:42:52:269 DEBUG 26168 --- [http-nio-8085-exec-2] c.h.trade.mapper.OrderMapper.selectById  : <==      Total: 1
15:42:52:356  INFO 26168 --- [rpcDispatch_RMROLE_1_2_24] i.s.c.r.p.c.RmBranchCommitProcessor      : rm client handle branch commit process:xid=192.168.15.215:8099:81601879587348483,branchId=81601879587348490,branchType=AT,resourceId=jdbc:mysql://192.168.15.215:3306/hm-trade,applicationData={"autoCommit":false,"skipCheckLock":true}
15:42:52:361  INFO 26168 --- [rpcDispatch_RMROLE_1_2_24] io.seata.rm.AbstractRMHandler            : Branch committing: 192.168.15.215:8099:81601879587348483 81601879587348490 jdbc:mysql://192.168.15.215:3306/hm-trade {"autoCommit":false,"skipCheckLock":true}
15:42:52:363  INFO 26168 --- [rpcDispatch_RMROLE_1_2_24] io.seata.rm.AbstractRMHandler            : Branch commit result: PhaseTwo_Committed
15:46:07:084 DEBUG 26168 --- [http-nio-8085-exec-4] c.h.trade.mapper.OrderMapper.selectById  : ==>  Preparing: SELECT id,total_fee,payment_type,user_id,status,create_time,pay_time,consign_time,end_time,close_time,comment_time,update_time FROM `order` WHERE id=?
15:46:07:084 DEBUG 26168 --- [http-nio-8085-exec-4] c.h.trade.mapper.OrderMapper.selectById  : ==> Parameters: 1806594092826750977(Long)
15:46:07:087 DEBUG 26168 --- [http-nio-8085-exec-4] c.h.trade.mapper.OrderMapper.selectById  : <==      Total: 1
15:47:08:277  INFO 26168 --- [http-nio-8085-exec-6] i.seata.tm.api.DefaultGlobalTransaction  : Begin new global transaction [192.168.15.215:8099:81601879587348878]
15:47:08:282 DEBUG 26168 --- [http-nio-8085-exec-6] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] ---> GET http://item-service/items?ids=40305713537 HTTP/1.1
15:47:08:282 DEBUG 26168 --- [http-nio-8085-exec-6] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] user-info: 1
15:47:08:282 DEBUG 26168 --- [http-nio-8085-exec-6] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] ---> END HTTP (0-byte body)
15:47:08:804 DEBUG 26168 --- [http-nio-8085-exec-6] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] <--- HTTP/1.1 200 (522ms)
15:47:08:804 DEBUG 26168 --- [http-nio-8085-exec-6] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] connection: keep-alive
15:47:08:804 DEBUG 26168 --- [http-nio-8085-exec-6] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] content-type: application/json
15:47:08:804 DEBUG 26168 --- [http-nio-8085-exec-6] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] date: Fri, 28 Jun 2024 07:47:08 GMT
15:47:08:804 DEBUG 26168 --- [http-nio-8085-exec-6] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] keep-alive: timeout=60
15:47:08:805 DEBUG 26168 --- [http-nio-8085-exec-6] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] transfer-encoding: chunked
15:47:08:805 DEBUG 26168 --- [http-nio-8085-exec-6] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] 
15:47:08:805 DEBUG 26168 --- [http-nio-8085-exec-6] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] [{"id":"40305713537","name":"【官方正品 品牌直营】奥古狮登小白鞋女秋季透气2018新款百搭韩版休闲鞋运动鞋女鞋厚底板鞋女 浅蓝【厚底】 41","price":35400,"stock":10000,"image":"https://m.360buyimg.com/mobilecms/s720x720_jfs/t1/14147/34/2890/275451/5c225484Ebd346404/e61513be4639ee2e.jpg!q70.jpg.webp","category":"休闲鞋","brand":"奥古狮登","spec":"{\"颜色\": \"金色\", \"尺码\": \"41\"}","sold":0,"commentCount":0,"isAD":false,"status":1}]
15:47:08:805 DEBUG 26168 --- [http-nio-8085-exec-6] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] <--- END HTTP (493-byte body)
15:47:08:810 DEBUG 26168 --- [http-nio-8085-exec-6] c.hmall.trade.mapper.OrderMapper.insert  : ==>  Preparing: INSERT INTO `order` ( id, total_fee, payment_type, user_id, status ) VALUES ( ?, ?, ?, ?, ? )
15:47:08:815 DEBUG 26168 --- [http-nio-8085-exec-6] c.hmall.trade.mapper.OrderMapper.insert  : ==> Parameters: 1806595172931334145(Long), 35400(Integer), 3(Integer), 1(Long), 1(Integer)
15:47:08:818 DEBUG 26168 --- [http-nio-8085-exec-6] c.hmall.trade.mapper.OrderMapper.insert  : <==    Updates: 1
15:47:08:820 DEBUG 26168 --- [http-nio-8085-exec-6] c.h.t.mapper.OrderDetailMapper.insert    : ==>  Preparing: INSERT INTO order_detail ( order_id, item_id, num, name, spec, price, image ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
15:47:08:820 DEBUG 26168 --- [http-nio-8085-exec-6] c.h.t.mapper.OrderDetailMapper.insert    : ==> Parameters: 1806595172931334145(Long), 40305713537(Long), 1(Integer), 【官方正品 品牌直营】奥古狮登小白鞋女秋季透气2018新款百搭韩版休闲鞋运动鞋女鞋厚底板鞋女 浅蓝【厚底】 41(String), {"颜色": "金色", "尺码": "41"}(String), 35400(Integer), https://m.360buyimg.com/mobilecms/s720x720_jfs/t1/14147/34/2890/275451/5c225484Ebd346404/e61513be4639ee2e.jpg!q70.jpg.webp(String)
15:47:08:828 DEBUG 26168 --- [http-nio-8085-exec-6] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] ---> DELETE http://cart-service/carts?ids=40305713537 HTTP/1.1
15:47:08:828 DEBUG 26168 --- [http-nio-8085-exec-6] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] user-info: 1
15:47:08:828 DEBUG 26168 --- [http-nio-8085-exec-6] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] ---> END HTTP (0-byte body)
15:47:08:860 DEBUG 26168 --- [http-nio-8085-exec-6] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] <--- HTTP/1.1 200 (30ms)
15:47:08:860 DEBUG 26168 --- [http-nio-8085-exec-6] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] connection: keep-alive
15:47:08:860 DEBUG 26168 --- [http-nio-8085-exec-6] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] content-length: 0
15:47:08:860 DEBUG 26168 --- [http-nio-8085-exec-6] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] date: Fri, 28 Jun 2024 07:47:08 GMT
15:47:08:860 DEBUG 26168 --- [http-nio-8085-exec-6] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] keep-alive: timeout=60
15:47:08:860 DEBUG 26168 --- [http-nio-8085-exec-6] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] 
15:47:08:860 DEBUG 26168 --- [http-nio-8085-exec-6] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] <--- END HTTP (0-byte body)
15:47:08:862 DEBUG 26168 --- [http-nio-8085-exec-6] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] ---> PUT http://item-service/items/stock/deduct HTTP/1.1
15:47:08:862 DEBUG 26168 --- [http-nio-8085-exec-6] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] Content-Length: 34
15:47:08:862 DEBUG 26168 --- [http-nio-8085-exec-6] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] Content-Type: application/json
15:47:08:862 DEBUG 26168 --- [http-nio-8085-exec-6] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] user-info: 1
15:47:08:862 DEBUG 26168 --- [http-nio-8085-exec-6] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] 
15:47:08:862 DEBUG 26168 --- [http-nio-8085-exec-6] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] [{"itemId":"40305713537","num":1}]
15:47:08:862 DEBUG 26168 --- [http-nio-8085-exec-6] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] ---> END HTTP (34-byte body)
15:47:08:887 DEBUG 26168 --- [http-nio-8085-exec-6] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] <--- HTTP/1.1 200 (25ms)
15:47:08:887 DEBUG 26168 --- [http-nio-8085-exec-6] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] connection: keep-alive
15:47:08:887 DEBUG 26168 --- [http-nio-8085-exec-6] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] content-length: 0
15:47:08:887 DEBUG 26168 --- [http-nio-8085-exec-6] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] date: Fri, 28 Jun 2024 07:47:08 GMT
15:47:08:887 DEBUG 26168 --- [http-nio-8085-exec-6] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] keep-alive: timeout=60
15:47:08:887 DEBUG 26168 --- [http-nio-8085-exec-6] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] 
15:47:08:887 DEBUG 26168 --- [http-nio-8085-exec-6] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] <--- END HTTP (0-byte body)
15:47:08:918  INFO 26168 --- [http-nio-8085-exec-6] i.seata.tm.api.DefaultGlobalTransaction  : Suspending current transaction, xid = 192.168.15.215:8099:81601879587348878
15:47:08:918  INFO 26168 --- [http-nio-8085-exec-6] i.seata.tm.api.DefaultGlobalTransaction  : [192.168.15.215:8099:81601879587348878] commit status: Committed
15:47:09:082 DEBUG 26168 --- [http-nio-8085-exec-5] c.h.trade.mapper.OrderMapper.selectById  : ==>  Preparing: SELECT id,total_fee,payment_type,user_id,status,create_time,pay_time,consign_time,end_time,close_time,comment_time,update_time FROM `order` WHERE id=?
15:47:09:082 DEBUG 26168 --- [http-nio-8085-exec-5] c.h.trade.mapper.OrderMapper.selectById  : ==> Parameters: 1806595172931334145(Long)
15:47:09:084 DEBUG 26168 --- [http-nio-8085-exec-5] c.h.trade.mapper.OrderMapper.selectById  : <==      Total: 1
15:47:09:251  INFO 26168 --- [rpcDispatch_RMROLE_1_3_24] i.s.c.r.p.c.RmBranchCommitProcessor      : rm client handle branch commit process:xid=192.168.15.215:8099:81601879587348878,branchId=81601879587348884,branchType=AT,resourceId=jdbc:mysql://192.168.15.215:3306/hm-trade,applicationData={"autoCommit":false,"skipCheckLock":true}
15:47:09:251  INFO 26168 --- [rpcDispatch_RMROLE_1_3_24] io.seata.rm.AbstractRMHandler            : Branch committing: 192.168.15.215:8099:81601879587348878 81601879587348884 jdbc:mysql://192.168.15.215:3306/hm-trade {"autoCommit":false,"skipCheckLock":true}
15:47:09:251  INFO 26168 --- [rpcDispatch_RMROLE_1_3_24] io.seata.rm.AbstractRMHandler            : Branch commit result: PhaseTwo_Committed
15:58:13:023  WARN 26168 --- [Thread-5] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Start destroying Publisher
15:58:13:023  WARN 26168 --- [Thread-1] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Start destroying common HttpClient
15:58:13:024  WARN 26168 --- [Thread-5] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Destruction of the end
15:58:13:025  WARN 26168 --- [Thread-1] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Destruction of the end
15:58:13:062  INFO 26168 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
15:58:13:374  INFO 26168 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
15:58:14:141  INFO 26168 --- [SpringContextShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registering from Nacos Server now...
15:58:14:147  INFO 26168 --- [SpringContextShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registration finished.
15:58:14:476  INFO 26168 --- [SpringContextShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown rpc client, set status to shutdown
15:58:14:476  INFO 26168 --- [SpringContextShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@194a2de9[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
15:58:14:476  INFO 26168 --- [SpringContextShutdownHook] com.alibaba.nacos.common.remote.client   : Close current connection 1719559611772_192.168.15.235_36956
15:58:14:478  INFO 26168 --- [nacos-grpc-client-executor-429] c.a.n.c.remote.client.grpc.GrpcClient    : [1719559611772_192.168.15.235_36956]Ignore complete event,isRunning:false,isAbandon=false
15:58:14:482  INFO 26168 --- [SpringContextShutdownHook] c.a.n.c.remote.client.grpc.GrpcClient    : Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@1578e4f5[Running, pool size = 5, active threads = 0, queued tasks = 0, completed tasks = 430]
15:58:14:486  INFO 26168 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
15:58:14:500  INFO 26168 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
15:58:14:503  INFO 26168 --- [SpringContextShutdownHook] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is already stopped
15:58:14:509  INFO 26168 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : channel inactive: [id: 0xad9b478e, L:/192.168.15.235:37241 ! R:/192.168.15.215:8099]
15:58:14:509  INFO 26168 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.netty.NettyClientChannelManager  : return to pool, rm channel:[id: 0xad9b478e, L:/192.168.15.235:37241 ! R:/192.168.15.215:8099]
15:58:14:509  INFO 26168 --- [NettyClientSelector_RMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : channel valid false,channel:[id: 0xad9b478e, L:/192.168.15.235:37241 ! R:/192.168.15.215:8099]
15:58:14:509  INFO 26168 --- [NettyClientSelector_RMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : will destroy channel:[id: 0xad9b478e, L:/192.168.15.235:37241 ! R:/192.168.15.215:8099]
15:58:14:509  INFO 26168 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0xad9b478e, L:/192.168.15.235:37241 ! R:/192.168.15.215:8099]) will closed
15:58:14:509  INFO 26168 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0xad9b478e, L:/192.168.15.235:37241 ! R:/192.168.15.215:8099]) will closed
15:58:24:853  INFO 30180 --- [main] com.hmall.trade.TradeApplication         : The following 1 profile is active: "local"
15:58:25:503  INFO 30180 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
15:58:25:505  INFO 30180 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
15:58:25:526  INFO 30180 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
15:58:25:690  INFO 30180 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=7531f02f-4db1-3eac-b513-63c7cb60005a
15:58:25:735  INFO 30180 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
15:58:25:735  INFO 30180 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springApplicationContextProvider' of type [io.seata.spring.boot.autoconfigure.provider.SpringApplicationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
15:58:25:735  INFO 30180 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'io.seata.spring.boot.autoconfigure.SeataAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
15:58:25:759  INFO 30180 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'failureHandler' of type [io.seata.tm.api.DefaultFailureHandlerImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
15:58:25:760  INFO 30180 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
15:58:25:762  INFO 30180 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
15:58:25:762  INFO 30180 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$591/0x00000008006a5840] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
15:58:25:763  INFO 30180 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
15:58:25:765  INFO 30180 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springCloudAlibabaConfiguration' of type [io.seata.spring.boot.autoconfigure.properties.SpringCloudAlibabaConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
15:58:25:766  INFO 30180 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'seataProperties' of type [io.seata.spring.boot.autoconfigure.properties.SeataProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
15:58:25:767  INFO 30180 --- [main] i.s.s.b.a.SeataAutoConfiguration         : Automatically configure Seata
15:58:25:826  INFO 30180 --- [main] io.seata.config.ConfigurationFactory     : load Configuration from :Spring Configuration
15:58:25:829  INFO 30180 --- [main] io.seata.config.ConfigurationFactory     : load Configuration from :Spring Configuration
15:58:25:874  INFO 30180 --- [main] i.s.s.a.GlobalTransactionScanner         : Initializing Global Transaction Clients ... 
15:58:25:926  INFO 30180 --- [main] i.s.core.rpc.netty.NettyClientBootstrap  : NettyClientBootstrap has started
15:58:26:052  INFO 30180 --- [main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of a32c9ce3-23c9-47d8-ae72-05b974beb591
15:58:26:052  INFO 30180 --- [main] com.alibaba.nacos.common.remote.client   : [a32c9ce3-23c9-47d8-ae72-05b974beb591] RpcClient init label, labels = {module=naming, source=sdk}
15:58:26:053  INFO 30180 --- [main] com.alibaba.nacos.common.remote.client   : [a32c9ce3-23c9-47d8-ae72-05b974beb591] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
15:58:26:053  INFO 30180 --- [main] com.alibaba.nacos.common.remote.client   : [a32c9ce3-23c9-47d8-ae72-05b974beb591] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
15:58:26:054  INFO 30180 --- [main] com.alibaba.nacos.common.remote.client   : [a32c9ce3-23c9-47d8-ae72-05b974beb591] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
15:58:26:054  INFO 30180 --- [main] com.alibaba.nacos.common.remote.client   : [a32c9ce3-23c9-47d8-ae72-05b974beb591] Try to connect to server on start up, server: {serverIp = '192.168.15.215', server main port = 8848}
15:58:26:172  INFO 30180 --- [main] com.alibaba.nacos.common.remote.client   : [a32c9ce3-23c9-47d8-ae72-05b974beb591] Success to connect to server [192.168.15.215:8848] on start up, connectionId = 1719561506300_192.168.15.235_16538
15:58:26:172  INFO 30180 --- [main] com.alibaba.nacos.common.remote.client   : [a32c9ce3-23c9-47d8-ae72-05b974beb591] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
15:58:26:172  INFO 30180 --- [main] com.alibaba.nacos.common.remote.client   : [a32c9ce3-23c9-47d8-ae72-05b974beb591] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$470/0x000000080042b040
15:58:26:172  INFO 30180 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [a32c9ce3-23c9-47d8-ae72-05b974beb591] Notify connected event to listeners.
15:58:26:198  INFO 30180 --- [main] i.s.c.r.netty.NettyClientChannelManager  : will connect to 192.168.15.215:8099
15:58:26:690  INFO 30180 --- [nacos-grpc-client-executor-5] com.alibaba.nacos.common.remote.client   : [a32c9ce3-23c9-47d8-ae72-05b974beb591] Receive server push request, request = NotifySubscriberRequest, requestId = 24
15:58:26:691  INFO 30180 --- [nacos-grpc-client-executor-5] com.alibaba.nacos.common.remote.client   : [a32c9ce3-23c9-47d8-ae72-05b974beb591] Ack server push request, request = NotifySubscriberRequest, requestId = 24
15:58:26:952  INFO 30180 --- [main] i.s.core.rpc.netty.NettyPoolableFactory  : NettyPool create channel to transactionRole:TMROLE,address:192.168.15.215:8099,msg:< RegisterTMRequest{applicationId='trade-service', transactionServiceGroup='hmall'} >
15:58:27:774  INFO 30180 --- [main] i.s.c.rpc.netty.TmNettyRemotingClient    : register TM success. client version:1.5.2, server version:1.5.2,channel:[id: 0x535f2a47, L:/192.168.15.235:16541 - R:/192.168.15.215:8099]
15:58:27:776  INFO 30180 --- [main] i.s.core.rpc.netty.NettyPoolableFactory  : register success, cost 41 ms, version:1.5.2,role:TMROLE,channel:[id: 0x535f2a47, L:/192.168.15.235:16541 - R:/192.168.15.215:8099]
15:58:27:777  INFO 30180 --- [main] i.s.s.a.GlobalTransactionScanner         : Transaction Manager Client is initialized. applicationId[trade-service] txServiceGroup[hmall]
15:58:27:784  INFO 30180 --- [main] io.seata.rm.datasource.AsyncWorker       : Async Commit Buffer Limit: 10000
15:58:27:784  INFO 30180 --- [main] i.s.rm.datasource.xa.ResourceManagerXA   : ResourceManagerXA init ...
15:58:27:790  INFO 30180 --- [main] i.s.core.rpc.netty.NettyClientBootstrap  : NettyClientBootstrap has started
15:58:27:791  INFO 30180 --- [main] i.s.s.a.GlobalTransactionScanner         : Resource Manager is initialized. applicationId[trade-service] txServiceGroup[hmall]
15:58:27:791  INFO 30180 --- [main] i.s.s.a.GlobalTransactionScanner         : Global Transaction Clients are initialized. 
15:58:27:792  INFO 30180 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'io.seata.spring.boot.autoconfigure.SeataDataSourceAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataDataSourceAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
15:58:27:855  INFO 30180 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'com.alibaba.cloud.seata.feign.SeataFeignClientAutoConfiguration$FeignBeanPostProcessorConfiguration' of type [com.alibaba.cloud.seata.feign.SeataFeignClientAutoConfiguration$FeignBeanPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
15:58:27:856  INFO 30180 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'seataFeignObjectWrapper' of type [com.alibaba.cloud.seata.feign.SeataFeignObjectWrapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
15:58:28:070  INFO 30180 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8085 (http)
15:58:28:078  INFO 30180 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
15:58:28:078  INFO 30180 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.75]
15:58:28:228  INFO 30180 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
15:58:28:228  INFO 30180 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3362 ms
15:58:28:384  INFO 30180 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'item-service' URL not provided. Will try picking an instance via load-balancing.
15:58:28:438  INFO 30180 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'cart-service' URL not provided. Will try picking an instance via load-balancing.
15:58:28:528  INFO 30180 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
15:58:28:698  INFO 30180 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
15:58:28:745  INFO 30180 --- [main] i.s.c.r.netty.NettyClientChannelManager  : will connect to 192.168.15.215:8099
15:58:28:745  INFO 30180 --- [main] i.s.c.rpc.netty.RmNettyRemotingClient    : RM will register :jdbc:mysql://192.168.15.215:3306/hm-trade
15:58:28:745  INFO 30180 --- [main] i.s.core.rpc.netty.NettyPoolableFactory  : NettyPool create channel to transactionRole:RMROLE,address:192.168.15.215:8099,msg:< RegisterRMRequest{resourceIds='jdbc:mysql://192.168.15.215:3306/hm-trade', applicationId='trade-service', transactionServiceGroup='hmall'} >
15:58:28:765  INFO 30180 --- [main] i.s.c.rpc.netty.RmNettyRemotingClient    : register RM success. client version:1.5.2, server version:1.5.2,channel:[id: 0x52157f36, L:/192.168.15.235:16546 - R:/192.168.15.215:8099]
15:58:28:765  INFO 30180 --- [main] i.s.core.rpc.netty.NettyPoolableFactory  : register success, cost 11 ms, version:1.5.2,role:RMROLE,channel:[id: 0x52157f36, L:/192.168.15.235:16546 - R:/192.168.15.215:8099]
15:58:31:492  INFO 30180 --- [main] i.s.s.a.GlobalTransactionScanner         : Bean[com.hmall.trade.service.impl.OrderServiceImpl$$EnhancerBySpringCGLIB$$5c996e48] with name [orderServiceImpl] would use interceptor [io.seata.spring.annotation.GlobalTransactionalInterceptor]
15:58:32:960  INFO 30180 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)]
15:58:34:581  INFO 30180 --- [main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of 02fbd789-35d1-47df-828f-2ace570c2ba4
15:58:34:582  INFO 30180 --- [main] com.alibaba.nacos.common.remote.client   : [02fbd789-35d1-47df-828f-2ace570c2ba4] RpcClient init label, labels = {module=naming, source=sdk}
15:58:34:582  INFO 30180 --- [main] com.alibaba.nacos.common.remote.client   : [02fbd789-35d1-47df-828f-2ace570c2ba4] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
15:58:34:582  INFO 30180 --- [main] com.alibaba.nacos.common.remote.client   : [02fbd789-35d1-47df-828f-2ace570c2ba4] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
15:58:34:582  INFO 30180 --- [main] com.alibaba.nacos.common.remote.client   : [02fbd789-35d1-47df-828f-2ace570c2ba4] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
15:58:34:583  INFO 30180 --- [main] com.alibaba.nacos.common.remote.client   : [02fbd789-35d1-47df-828f-2ace570c2ba4] Try to connect to server on start up, server: {serverIp = '192.168.15.215', server main port = 8848}
15:58:34:702  INFO 30180 --- [main] com.alibaba.nacos.common.remote.client   : [02fbd789-35d1-47df-828f-2ace570c2ba4] Success to connect to server [192.168.15.215:8848] on start up, connectionId = 1719561514828_192.168.15.235_16573
15:58:34:702  INFO 30180 --- [main] com.alibaba.nacos.common.remote.client   : [02fbd789-35d1-47df-828f-2ace570c2ba4] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
15:58:34:702  INFO 30180 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [02fbd789-35d1-47df-828f-2ace570c2ba4] Notify connected event to listeners.
15:58:34:702  INFO 30180 --- [main] com.alibaba.nacos.common.remote.client   : [02fbd789-35d1-47df-828f-2ace570c2ba4] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$470/0x000000080042b040
15:58:34:717  INFO 30180 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8085 (http) with context path ''
15:58:34:724  INFO 30180 --- [main] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP trade-service 192.168.209.1:8085 register finished
15:58:35:220  INFO 30180 --- [nacos-grpc-client-executor-6] com.alibaba.nacos.common.remote.client   : [02fbd789-35d1-47df-828f-2ace570c2ba4] Receive server push request, request = NotifySubscriberRequest, requestId = 26
15:58:35:221  INFO 30180 --- [nacos-grpc-client-executor-6] com.alibaba.nacos.common.remote.client   : [02fbd789-35d1-47df-828f-2ace570c2ba4] Ack server push request, request = NotifySubscriberRequest, requestId = 26
15:58:35:815  INFO 30180 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Documentation plugins bootstrapped
15:58:35:817  INFO 30180 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
15:58:35:834  INFO 30180 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
15:58:35:890  INFO 30180 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.15.215:5672]
15:58:35:948  INFO 30180 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#72769bf5:0/SimpleConnection@107ac2b6 [delegate=amqp://hmall@192.168.15.215:5672//hmall, localPort= 16576]
15:58:36:030  INFO 30180 --- [main] com.hmall.trade.TradeApplication         : Started TradeApplication in 17.697 seconds (JVM running for 19.632)
15:58:36:034  INFO 30180 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=trade-service, group=DEFAULT_GROUP
15:58:36:035  INFO 30180 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=trade-service-local.yaml, group=DEFAULT_GROUP
15:58:36:035  INFO 30180 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=trade-service.yaml, group=DEFAULT_GROUP
16:05:24:873  INFO 30180 --- [http-nio-8085-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
16:05:24:875  INFO 30180 --- [http-nio-8085-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
16:05:24:898  INFO 30180 --- [http-nio-8085-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 23 ms
16:05:25:005 DEBUG 30180 --- [http-nio-8085-exec-1] c.h.trade.mapper.OrderMapper.selectById  : ==>  Preparing: SELECT id,total_fee,payment_type,user_id,status,create_time,pay_time,consign_time,end_time,close_time,comment_time,update_time FROM `order` WHERE id=?
16:05:25:035 DEBUG 30180 --- [http-nio-8085-exec-1] c.h.trade.mapper.OrderMapper.selectById  : ==> Parameters: 1806595172931334145(Long)
16:05:25:061 DEBUG 30180 --- [http-nio-8085-exec-1] c.h.trade.mapper.OrderMapper.selectById  : <==      Total: 1
16:07:21:277  INFO 30180 --- [http-nio-8085-exec-3] io.seata.tm.TransactionManagerHolder     : TransactionManager Singleton io.seata.tm.DefaultTransactionManager@2ae1f8a7
16:07:21:310  INFO 30180 --- [http-nio-8085-exec-3] i.seata.tm.api.DefaultGlobalTransaction  : Begin new global transaction [192.168.15.215:8099:81601879587349604]
16:07:21:349 DEBUG 30180 --- [http-nio-8085-exec-3] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] ---> GET http://item-service/items?ids=8533120 HTTP/1.1
16:07:21:349 DEBUG 30180 --- [http-nio-8085-exec-3] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] user-info: 1
16:07:21:349 DEBUG 30180 --- [http-nio-8085-exec-3] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] ---> END HTTP (0-byte body)
16:07:21:997  INFO 30180 --- [nacos-grpc-client-executor-116] com.alibaba.nacos.common.remote.client   : [02fbd789-35d1-47df-828f-2ace570c2ba4] Receive server push request, request = NotifySubscriberRequest, requestId = 38
16:07:21:998  INFO 30180 --- [nacos-grpc-client-executor-116] com.alibaba.nacos.common.remote.client   : [02fbd789-35d1-47df-828f-2ace570c2ba4] Ack server push request, request = NotifySubscriberRequest, requestId = 38
16:07:22:031 DEBUG 30180 --- [http-nio-8085-exec-3] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] <--- HTTP/1.1 200 (681ms)
16:07:22:032 DEBUG 30180 --- [http-nio-8085-exec-3] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] connection: keep-alive
16:07:22:032 DEBUG 30180 --- [http-nio-8085-exec-3] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] content-type: application/json
16:07:22:032 DEBUG 30180 --- [http-nio-8085-exec-3] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] date: Fri, 28 Jun 2024 08:07:22 GMT
16:07:22:032 DEBUG 30180 --- [http-nio-8085-exec-3] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] keep-alive: timeout=60
16:07:22:032 DEBUG 30180 --- [http-nio-8085-exec-3] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] transfer-encoding: chunked
16:07:22:032 DEBUG 30180 --- [http-nio-8085-exec-3] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] 
16:07:22:033 DEBUG 30180 --- [http-nio-8085-exec-3] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] [{"id":"8533120","name":"海尔 （Haier ）LQ65H31 65英寸 4K曲面人工智能全面屏超高清LED液晶电视","price":379500,"stock":9998,"image":"https://m.360buyimg.com/mobilecms/s720x720_jfs/t1/2851/14/13998/101463/5bd9723cE81b2c299/1bfdf2d1628648e4.jpg!q70.jpg.webp","category":"曲面电视","brand":"海尔","spec":"{}","sold":0,"commentCount":0,"isAD":false,"status":1}]
16:07:22:033 DEBUG 30180 --- [http-nio-8085-exec-3] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] <--- END HTTP (383-byte body)
16:07:22:072 DEBUG 30180 --- [http-nio-8085-exec-3] c.hmall.trade.mapper.OrderMapper.insert  : ==>  Preparing: INSERT INTO `order` ( id, total_fee, payment_type, user_id, status ) VALUES ( ?, ?, ?, ?, ? )
16:07:22:182 DEBUG 30180 --- [http-nio-8085-exec-3] c.hmall.trade.mapper.OrderMapper.insert  : ==> Parameters: 1806600261762924546(Long), 379500(Integer), 3(Integer), 1(Long), 1(Integer)
16:07:22:212 DEBUG 30180 --- [http-nio-8085-exec-3] c.hmall.trade.mapper.OrderMapper.insert  : <==    Updates: 1
16:07:22:222 DEBUG 30180 --- [http-nio-8085-exec-3] c.h.t.mapper.OrderDetailMapper.insert    : ==>  Preparing: INSERT INTO order_detail ( order_id, item_id, num, name, spec, price, image ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
16:07:22:224 DEBUG 30180 --- [http-nio-8085-exec-3] c.h.t.mapper.OrderDetailMapper.insert    : ==> Parameters: 1806600261762924546(Long), 8533120(Long), 1(Integer), 海尔 （Haier ）LQ65H31 65英寸 4K曲面人工智能全面屏超高清LED液晶电视(String), {}(String), 379500(Integer), https://m.360buyimg.com/mobilecms/s720x720_jfs/t1/2851/14/13998/101463/5bd9723cE81b2c299/1bfdf2d1628648e4.jpg!q70.jpg.webp(String)
16:07:22:278 DEBUG 30180 --- [http-nio-8085-exec-3] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] ---> DELETE http://cart-service/carts?ids=8533120 HTTP/1.1
16:07:22:278 DEBUG 30180 --- [http-nio-8085-exec-3] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] user-info: 1
16:07:22:278 DEBUG 30180 --- [http-nio-8085-exec-3] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] ---> END HTTP (0-byte body)
16:07:22:353 DEBUG 30180 --- [http-nio-8085-exec-3] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] <--- HTTP/1.1 200 (75ms)
16:07:22:353 DEBUG 30180 --- [http-nio-8085-exec-3] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] connection: keep-alive
16:07:22:353 DEBUG 30180 --- [http-nio-8085-exec-3] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] content-length: 0
16:07:22:353 DEBUG 30180 --- [http-nio-8085-exec-3] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] date: Fri, 28 Jun 2024 08:07:22 GMT
16:07:22:354 DEBUG 30180 --- [http-nio-8085-exec-3] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] keep-alive: timeout=60
16:07:22:354 DEBUG 30180 --- [http-nio-8085-exec-3] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] 
16:07:22:354 DEBUG 30180 --- [http-nio-8085-exec-3] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] <--- END HTTP (0-byte body)
16:07:22:359 DEBUG 30180 --- [http-nio-8085-exec-3] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] ---> PUT http://item-service/items/stock/deduct HTTP/1.1
16:07:22:359 DEBUG 30180 --- [http-nio-8085-exec-3] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] Content-Length: 30
16:07:22:359 DEBUG 30180 --- [http-nio-8085-exec-3] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] Content-Type: application/json
16:07:22:359 DEBUG 30180 --- [http-nio-8085-exec-3] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] user-info: 1
16:07:22:359 DEBUG 30180 --- [http-nio-8085-exec-3] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] 
16:07:22:359 DEBUG 30180 --- [http-nio-8085-exec-3] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] [{"itemId":"8533120","num":1}]
16:07:22:359 DEBUG 30180 --- [http-nio-8085-exec-3] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] ---> END HTTP (30-byte body)
16:07:22:410 DEBUG 30180 --- [http-nio-8085-exec-3] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] <--- HTTP/1.1 200 (50ms)
16:07:22:410 DEBUG 30180 --- [http-nio-8085-exec-3] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] connection: keep-alive
16:07:22:410 DEBUG 30180 --- [http-nio-8085-exec-3] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] content-length: 0
16:07:22:410 DEBUG 30180 --- [http-nio-8085-exec-3] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] date: Fri, 28 Jun 2024 08:07:22 GMT
16:07:22:410 DEBUG 30180 --- [http-nio-8085-exec-3] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] keep-alive: timeout=60
16:07:22:410 DEBUG 30180 --- [http-nio-8085-exec-3] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] 
16:07:22:410 DEBUG 30180 --- [http-nio-8085-exec-3] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] <--- END HTTP (0-byte body)
16:07:22:494  INFO 30180 --- [http-nio-8085-exec-3] i.seata.tm.api.DefaultGlobalTransaction  : Suspending current transaction, xid = 192.168.15.215:8099:81601879587349604
16:07:22:494  INFO 30180 --- [http-nio-8085-exec-3] i.seata.tm.api.DefaultGlobalTransaction  : [192.168.15.215:8099:81601879587349604] commit status: Committed
16:07:22:697 DEBUG 30180 --- [http-nio-8085-exec-4] c.h.trade.mapper.OrderMapper.selectById  : ==>  Preparing: SELECT id,total_fee,payment_type,user_id,status,create_time,pay_time,consign_time,end_time,close_time,comment_time,update_time FROM `order` WHERE id=?
16:07:22:697 DEBUG 30180 --- [http-nio-8085-exec-4] c.h.trade.mapper.OrderMapper.selectById  : ==> Parameters: 1806600261762924546(Long)
16:07:22:699 DEBUG 30180 --- [http-nio-8085-exec-4] c.h.trade.mapper.OrderMapper.selectById  : <==      Total: 1
16:07:22:795  INFO 30180 --- [nacos-grpc-client-executor-119] com.alibaba.nacos.common.remote.client   : [02fbd789-35d1-47df-828f-2ace570c2ba4] Receive server push request, request = NotifySubscriberRequest, requestId = 39
16:07:22:797  INFO 30180 --- [nacos-grpc-client-executor-119] com.alibaba.nacos.common.remote.client   : [02fbd789-35d1-47df-828f-2ace570c2ba4] Ack server push request, request = NotifySubscriberRequest, requestId = 39
16:07:23:223  INFO 30180 --- [rpcDispatch_RMROLE_1_1_24] i.s.c.r.p.c.RmBranchCommitProcessor      : rm client handle branch commit process:xid=192.168.15.215:8099:81601879587349604,branchId=81601879587349611,branchType=AT,resourceId=jdbc:mysql://192.168.15.215:3306/hm-trade,applicationData={"autoCommit":false,"skipCheckLock":true}
16:07:23:226  INFO 30180 --- [rpcDispatch_RMROLE_1_1_24] io.seata.rm.AbstractRMHandler            : Branch committing: 192.168.15.215:8099:81601879587349604 81601879587349611 jdbc:mysql://192.168.15.215:3306/hm-trade {"autoCommit":false,"skipCheckLock":true}
16:07:23:228  INFO 30180 --- [rpcDispatch_RMROLE_1_1_24] io.seata.rm.AbstractRMHandler            : Branch commit result: PhaseTwo_Committed
16:07:53:288 DEBUG 30180 --- [http-nio-8085-exec-5] c.h.trade.mapper.OrderMapper.selectById  : ==>  Preparing: SELECT id,total_fee,payment_type,user_id,status,create_time,pay_time,consign_time,end_time,close_time,comment_time,update_time FROM `order` WHERE id=?
16:07:53:288 DEBUG 30180 --- [http-nio-8085-exec-5] c.h.trade.mapper.OrderMapper.selectById  : ==> Parameters: 1806600261762924546(Long)
16:07:53:290 DEBUG 30180 --- [http-nio-8085-exec-5] c.h.trade.mapper.OrderMapper.selectById  : <==      Total: 1
16:10:02:139  WARN 30180 --- [Thread-5] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Start destroying Publisher
16:10:02:140  WARN 30180 --- [Thread-1] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Start destroying common HttpClient
16:10:02:140  WARN 30180 --- [Thread-5] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Destruction of the end
16:10:02:141  WARN 30180 --- [Thread-1] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Destruction of the end
16:10:02:149  INFO 30180 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
16:10:02:548  INFO 30180 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
16:10:03:301  INFO 30180 --- [SpringContextShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registering from Nacos Server now...
16:10:03:305  INFO 30180 --- [SpringContextShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registration finished.
16:10:03:627  INFO 30180 --- [SpringContextShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown rpc client, set status to shutdown
16:10:03:627  INFO 30180 --- [SpringContextShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@1be766d4[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
16:10:03:627  INFO 30180 --- [SpringContextShutdownHook] com.alibaba.nacos.common.remote.client   : Close current connection 1719561514828_192.168.15.235_16573
16:10:03:629  INFO 30180 --- [nacos-grpc-client-executor-156] c.a.n.c.remote.client.grpc.GrpcClient    : [1719561514828_192.168.15.235_16573]Ignore complete event,isRunning:false,isAbandon=false
16:10:03:662  INFO 30180 --- [SpringContextShutdownHook] c.a.n.c.remote.client.grpc.GrpcClient    : Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@1e5ff71d[Running, pool size = 5, active threads = 0, queued tasks = 0, completed tasks = 157]
16:10:03:666  INFO 30180 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
16:10:03:679  INFO 30180 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
16:10:03:684  INFO 30180 --- [SpringContextShutdownHook] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is already stopped
16:10:03:687  INFO 30180 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : channel inactive: [id: 0x535f2a47, L:/192.168.15.235:16541 ! R:/192.168.15.215:8099]
16:10:03:688  INFO 30180 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.netty.NettyClientChannelManager  : return to pool, rm channel:[id: 0x535f2a47, L:/192.168.15.235:16541 ! R:/192.168.15.215:8099]
16:10:03:688  INFO 30180 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : channel inactive: [id: 0x52157f36, L:/192.168.15.235:16546 ! R:/192.168.15.215:8099]
16:10:03:688  INFO 30180 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.netty.NettyClientChannelManager  : return to pool, rm channel:[id: 0x52157f36, L:/192.168.15.235:16546 ! R:/192.168.15.215:8099]
16:10:03:688  INFO 30180 --- [NettyClientSelector_RMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : channel valid false,channel:[id: 0x52157f36, L:/192.168.15.235:16546 ! R:/192.168.15.215:8099]
16:10:03:688  INFO 30180 --- [NettyClientSelector_TMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : channel valid false,channel:[id: 0x535f2a47, L:/192.168.15.235:16541 ! R:/192.168.15.215:8099]
16:10:03:688  INFO 30180 --- [NettyClientSelector_RMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : will destroy channel:[id: 0x52157f36, L:/192.168.15.235:16546 ! R:/192.168.15.215:8099]
16:10:03:688  INFO 30180 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x52157f36, L:/192.168.15.235:16546 ! R:/192.168.15.215:8099]) will closed
16:10:03:690  INFO 30180 --- [NettyClientSelector_TMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : will destroy channel:[id: 0x535f2a47, L:/192.168.15.235:16541 ! R:/192.168.15.215:8099]
16:10:03:690  INFO 30180 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x535f2a47, L:/192.168.15.235:16541 ! R:/192.168.15.215:8099]) will closed
16:10:03:688  INFO 30180 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x52157f36, L:/192.168.15.235:16546 ! R:/192.168.15.215:8099]) will closed
16:10:03:690  INFO 30180 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x535f2a47, L:/192.168.15.235:16541 ! R:/192.168.15.215:8099]) will closed
16:10:14:212  INFO 21264 --- [main] com.hmall.trade.TradeApplication         : The following 1 profile is active: "local"
16:10:14:843  INFO 21264 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
16:10:14:845  INFO 21264 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
16:10:14:865  INFO 21264 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
16:10:15:023  INFO 21264 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=7531f02f-4db1-3eac-b513-63c7cb60005a
16:10:15:067  INFO 21264 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:10:15:067  INFO 21264 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springApplicationContextProvider' of type [io.seata.spring.boot.autoconfigure.provider.SpringApplicationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:10:15:067  INFO 21264 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'io.seata.spring.boot.autoconfigure.SeataAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:10:15:089  INFO 21264 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'failureHandler' of type [io.seata.tm.api.DefaultFailureHandlerImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:10:15:091  INFO 21264 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:10:15:092  INFO 21264 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:10:15:092  INFO 21264 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$591/0x000000080069d840] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:10:15:093  INFO 21264 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:10:15:094  INFO 21264 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springCloudAlibabaConfiguration' of type [io.seata.spring.boot.autoconfigure.properties.SpringCloudAlibabaConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:10:15:095  INFO 21264 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'seataProperties' of type [io.seata.spring.boot.autoconfigure.properties.SeataProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:10:15:098  INFO 21264 --- [main] i.s.s.b.a.SeataAutoConfiguration         : Automatically configure Seata
16:10:15:150  INFO 21264 --- [main] io.seata.config.ConfigurationFactory     : load Configuration from :Spring Configuration
16:10:15:154  INFO 21264 --- [main] io.seata.config.ConfigurationFactory     : load Configuration from :Spring Configuration
16:10:15:197  INFO 21264 --- [main] i.s.s.a.GlobalTransactionScanner         : Initializing Global Transaction Clients ... 
16:10:15:241  INFO 21264 --- [main] i.s.core.rpc.netty.NettyClientBootstrap  : NettyClientBootstrap has started
16:10:15:368  INFO 21264 --- [main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of 70b0c61b-098d-4fc7-b4c1-a46e99ecd870
16:10:15:369  INFO 21264 --- [main] com.alibaba.nacos.common.remote.client   : [70b0c61b-098d-4fc7-b4c1-a46e99ecd870] RpcClient init label, labels = {module=naming, source=sdk}
16:10:15:370  INFO 21264 --- [main] com.alibaba.nacos.common.remote.client   : [70b0c61b-098d-4fc7-b4c1-a46e99ecd870] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
16:10:15:370  INFO 21264 --- [main] com.alibaba.nacos.common.remote.client   : [70b0c61b-098d-4fc7-b4c1-a46e99ecd870] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
16:10:15:370  INFO 21264 --- [main] com.alibaba.nacos.common.remote.client   : [70b0c61b-098d-4fc7-b4c1-a46e99ecd870] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
16:10:15:370  INFO 21264 --- [main] com.alibaba.nacos.common.remote.client   : [70b0c61b-098d-4fc7-b4c1-a46e99ecd870] Try to connect to server on start up, server: {serverIp = '192.168.15.215', server main port = 8848}
16:10:15:492  INFO 21264 --- [main] com.alibaba.nacos.common.remote.client   : [70b0c61b-098d-4fc7-b4c1-a46e99ecd870] Success to connect to server [192.168.15.215:8848] on start up, connectionId = 1719562215635_192.168.15.235_18610
16:10:15:492  INFO 21264 --- [main] com.alibaba.nacos.common.remote.client   : [70b0c61b-098d-4fc7-b4c1-a46e99ecd870] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
16:10:15:492  INFO 21264 --- [main] com.alibaba.nacos.common.remote.client   : [70b0c61b-098d-4fc7-b4c1-a46e99ecd870] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$470/0x0000000800423040
16:10:15:492  INFO 21264 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [70b0c61b-098d-4fc7-b4c1-a46e99ecd870] Notify connected event to listeners.
16:10:15:518  INFO 21264 --- [main] i.s.c.r.netty.NettyClientChannelManager  : will connect to 192.168.15.215:8099
16:10:16:061  INFO 21264 --- [nacos-grpc-client-executor-5] com.alibaba.nacos.common.remote.client   : [70b0c61b-098d-4fc7-b4c1-a46e99ecd870] Receive server push request, request = NotifySubscriberRequest, requestId = 41
16:10:16:062  INFO 21264 --- [nacos-grpc-client-executor-5] com.alibaba.nacos.common.remote.client   : [70b0c61b-098d-4fc7-b4c1-a46e99ecd870] Ack server push request, request = NotifySubscriberRequest, requestId = 41
16:10:16:259  INFO 21264 --- [main] i.s.core.rpc.netty.NettyPoolableFactory  : NettyPool create channel to transactionRole:TMROLE,address:192.168.15.215:8099,msg:< RegisterTMRequest{applicationId='trade-service', transactionServiceGroup='hmall'} >
16:10:17:089  INFO 21264 --- [main] i.s.c.rpc.netty.TmNettyRemotingClient    : register TM success. client version:1.5.2, server version:1.5.2,channel:[id: 0x4b117150, L:/192.168.15.235:18613 - R:/192.168.15.215:8099]
16:10:17:092  INFO 21264 --- [main] i.s.core.rpc.netty.NettyPoolableFactory  : register success, cost 38 ms, version:1.5.2,role:TMROLE,channel:[id: 0x4b117150, L:/192.168.15.235:18613 - R:/192.168.15.215:8099]
16:10:17:092  INFO 21264 --- [main] i.s.s.a.GlobalTransactionScanner         : Transaction Manager Client is initialized. applicationId[trade-service] txServiceGroup[hmall]
16:10:17:099  INFO 21264 --- [main] io.seata.rm.datasource.AsyncWorker       : Async Commit Buffer Limit: 10000
16:10:17:099  INFO 21264 --- [main] i.s.rm.datasource.xa.ResourceManagerXA   : ResourceManagerXA init ...
16:10:17:106  INFO 21264 --- [main] i.s.core.rpc.netty.NettyClientBootstrap  : NettyClientBootstrap has started
16:10:17:106  INFO 21264 --- [main] i.s.s.a.GlobalTransactionScanner         : Resource Manager is initialized. applicationId[trade-service] txServiceGroup[hmall]
16:10:17:106  INFO 21264 --- [main] i.s.s.a.GlobalTransactionScanner         : Global Transaction Clients are initialized. 
16:10:17:107  INFO 21264 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'io.seata.spring.boot.autoconfigure.SeataDataSourceAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataDataSourceAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:10:17:166  INFO 21264 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'com.alibaba.cloud.seata.feign.SeataFeignClientAutoConfiguration$FeignBeanPostProcessorConfiguration' of type [com.alibaba.cloud.seata.feign.SeataFeignClientAutoConfiguration$FeignBeanPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:10:17:167  INFO 21264 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'seataFeignObjectWrapper' of type [com.alibaba.cloud.seata.feign.SeataFeignObjectWrapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:10:17:365  INFO 21264 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8085 (http)
16:10:17:371  INFO 21264 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
16:10:17:371  INFO 21264 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.75]
16:10:17:515  INFO 21264 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
16:10:17:515  INFO 21264 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3290 ms
16:10:17:665  INFO 21264 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'item-service' URL not provided. Will try picking an instance via load-balancing.
16:10:17:711  INFO 21264 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'cart-service' URL not provided. Will try picking an instance via load-balancing.
16:10:17:794  INFO 21264 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
16:10:17:943  INFO 21264 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
16:10:17:987  INFO 21264 --- [main] i.s.c.r.netty.NettyClientChannelManager  : will connect to 192.168.15.215:8099
16:10:17:987  INFO 21264 --- [main] i.s.c.rpc.netty.RmNettyRemotingClient    : RM will register :jdbc:mysql://192.168.15.215:3306/hm-trade
16:10:17:988  INFO 21264 --- [main] i.s.core.rpc.netty.NettyPoolableFactory  : NettyPool create channel to transactionRole:RMROLE,address:192.168.15.215:8099,msg:< RegisterRMRequest{resourceIds='jdbc:mysql://192.168.15.215:3306/hm-trade', applicationId='trade-service', transactionServiceGroup='hmall'} >
16:10:17:999  INFO 21264 --- [main] i.s.c.rpc.netty.RmNettyRemotingClient    : register RM success. client version:1.5.2, server version:1.5.2,channel:[id: 0x963a439d, L:/192.168.15.235:18617 - R:/192.168.15.215:8099]
16:10:17:999  INFO 21264 --- [main] i.s.core.rpc.netty.NettyPoolableFactory  : register success, cost 10 ms, version:1.5.2,role:RMROLE,channel:[id: 0x963a439d, L:/192.168.15.235:18617 - R:/192.168.15.215:8099]
16:10:20:723  INFO 21264 --- [main] i.s.s.a.GlobalTransactionScanner         : Bean[com.hmall.trade.service.impl.OrderServiceImpl$$EnhancerBySpringCGLIB$$87ed75e1] with name [orderServiceImpl] would use interceptor [io.seata.spring.annotation.GlobalTransactionalInterceptor]
16:10:22:259  INFO 21264 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)]
16:10:23:846  INFO 21264 --- [main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of 3c91ecd6-44e8-4cfe-aba7-0352174766ea
16:10:23:846  INFO 21264 --- [main] com.alibaba.nacos.common.remote.client   : [3c91ecd6-44e8-4cfe-aba7-0352174766ea] RpcClient init label, labels = {module=naming, source=sdk}
16:10:23:846  INFO 21264 --- [main] com.alibaba.nacos.common.remote.client   : [3c91ecd6-44e8-4cfe-aba7-0352174766ea] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
16:10:23:846  INFO 21264 --- [main] com.alibaba.nacos.common.remote.client   : [3c91ecd6-44e8-4cfe-aba7-0352174766ea] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
16:10:23:846  INFO 21264 --- [main] com.alibaba.nacos.common.remote.client   : [3c91ecd6-44e8-4cfe-aba7-0352174766ea] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
16:10:23:847  INFO 21264 --- [main] com.alibaba.nacos.common.remote.client   : [3c91ecd6-44e8-4cfe-aba7-0352174766ea] Try to connect to server on start up, server: {serverIp = '192.168.15.215', server main port = 8848}
16:10:23:974  INFO 21264 --- [main] com.alibaba.nacos.common.remote.client   : [3c91ecd6-44e8-4cfe-aba7-0352174766ea] Success to connect to server [192.168.15.215:8848] on start up, connectionId = 1719562224114_192.168.15.235_18636
16:10:23:974  INFO 21264 --- [main] com.alibaba.nacos.common.remote.client   : [3c91ecd6-44e8-4cfe-aba7-0352174766ea] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
16:10:23:974  INFO 21264 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [3c91ecd6-44e8-4cfe-aba7-0352174766ea] Notify connected event to listeners.
16:10:23:974  INFO 21264 --- [main] com.alibaba.nacos.common.remote.client   : [3c91ecd6-44e8-4cfe-aba7-0352174766ea] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$470/0x0000000800423040
16:10:23:987  INFO 21264 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8085 (http) with context path ''
16:10:23:995  INFO 21264 --- [main] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP trade-service 192.168.209.1:8085 register finished
16:10:24:487  INFO 21264 --- [nacos-grpc-client-executor-6] com.alibaba.nacos.common.remote.client   : [3c91ecd6-44e8-4cfe-aba7-0352174766ea] Receive server push request, request = NotifySubscriberRequest, requestId = 42
16:10:24:488  INFO 21264 --- [nacos-grpc-client-executor-6] com.alibaba.nacos.common.remote.client   : [3c91ecd6-44e8-4cfe-aba7-0352174766ea] Ack server push request, request = NotifySubscriberRequest, requestId = 42
16:10:25:095  INFO 21264 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Documentation plugins bootstrapped
16:10:25:098  INFO 21264 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
16:10:25:112  INFO 21264 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
16:10:25:163  INFO 21264 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.15.215:5672]
16:10:25:189  INFO 21264 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#763a72da:0/SimpleConnection@27ccf818 [delegate=amqp://hmall@192.168.15.215:5672//hmall, localPort= 18639]
16:10:25:238  INFO 21264 --- [main] com.hmall.trade.TradeApplication         : Started TradeApplication in 17.25 seconds (JVM running for 18.687)
16:10:25:241  INFO 21264 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=trade-service, group=DEFAULT_GROUP
16:10:25:241  INFO 21264 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=trade-service-local.yaml, group=DEFAULT_GROUP
16:10:25:241  INFO 21264 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=trade-service.yaml, group=DEFAULT_GROUP
16:10:36:143  INFO 21264 --- [http-nio-8085-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
16:10:36:143  INFO 21264 --- [http-nio-8085-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
16:10:36:145  INFO 21264 --- [http-nio-8085-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
16:10:36:181  INFO 21264 --- [http-nio-8085-exec-1] io.seata.tm.TransactionManagerHolder     : TransactionManager Singleton io.seata.tm.DefaultTransactionManager@516f60f7
16:10:36:194  INFO 21264 --- [http-nio-8085-exec-1] i.seata.tm.api.DefaultGlobalTransaction  : Begin new global transaction [192.168.15.215:8099:81601879587349621]
16:10:36:208 DEBUG 21264 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] ---> GET http://item-service/items?ids=14741770661 HTTP/1.1
16:10:36:209 DEBUG 21264 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] user-info: 1
16:10:36:209 DEBUG 21264 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] ---> END HTTP (0-byte body)
16:10:36:803 DEBUG 21264 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] <--- HTTP/1.1 200 (594ms)
16:10:36:803 DEBUG 21264 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] connection: keep-alive
16:10:36:803 DEBUG 21264 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] content-type: application/json
16:10:36:803 DEBUG 21264 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] date: Fri, 28 Jun 2024 08:10:36 GMT
16:10:36:803 DEBUG 21264 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] keep-alive: timeout=60
16:10:36:803 DEBUG 21264 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] transfer-encoding: chunked
16:10:36:803 DEBUG 21264 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] 
16:10:36:803 DEBUG 21264 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] [{"id":"14741770661","name":"康佳（KONKA） LED49UC3 49英寸超薄曲面36核4K HDR人工智能电视","price":144600,"stock":9991,"image":"https://m.360buyimg.com/mobilecms/s720x720_jfs/t16477/84/2032772431/400946/2887be91/5a912776N7e343ec3.jpg!q70.jpg.webp","category":"曲面电视","brand":"康佳","spec":"{}","sold":0,"commentCount":0,"isAD":false,"status":1}]
16:10:36:803 DEBUG 21264 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] <--- END HTTP (370-byte body)
16:10:36:831 DEBUG 21264 --- [http-nio-8085-exec-1] c.hmall.trade.mapper.OrderMapper.insert  : ==>  Preparing: INSERT INTO `order` ( id, total_fee, payment_type, user_id, status ) VALUES ( ?, ?, ?, ?, ? )
16:10:36:837  INFO 21264 --- [nacos-grpc-client-executor-10] com.alibaba.nacos.common.remote.client   : [3c91ecd6-44e8-4cfe-aba7-0352174766ea] Receive server push request, request = NotifySubscriberRequest, requestId = 44
16:10:36:837  INFO 21264 --- [nacos-grpc-client-executor-10] com.alibaba.nacos.common.remote.client   : [3c91ecd6-44e8-4cfe-aba7-0352174766ea] Ack server push request, request = NotifySubscriberRequest, requestId = 44
16:10:36:941 DEBUG 21264 --- [http-nio-8085-exec-1] c.hmall.trade.mapper.OrderMapper.insert  : ==> Parameters: 1806601078628683778(Long), 144600(Integer), 3(Integer), 1(Long), 1(Integer)
16:10:36:960 DEBUG 21264 --- [http-nio-8085-exec-1] c.hmall.trade.mapper.OrderMapper.insert  : <==    Updates: 1
16:10:36:965 DEBUG 21264 --- [http-nio-8085-exec-1] c.h.t.mapper.OrderDetailMapper.insert    : ==>  Preparing: INSERT INTO order_detail ( order_id, item_id, num, name, spec, price, image ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
16:10:36:966 DEBUG 21264 --- [http-nio-8085-exec-1] c.h.t.mapper.OrderDetailMapper.insert    : ==> Parameters: 1806601078628683778(Long), 14741770661(Long), 1(Integer), 康佳（KONKA） LED49UC3 49英寸超薄曲面36核4K HDR人工智能电视(String), {}(String), 144600(Integer), https://m.360buyimg.com/mobilecms/s720x720_jfs/t16477/84/2032772431/400946/2887be91/5a912776N7e343ec3.jpg!q70.jpg.webp(String)
16:10:36:992 DEBUG 21264 --- [http-nio-8085-exec-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] ---> DELETE http://cart-service/carts?ids=14741770661 HTTP/1.1
16:10:36:992 DEBUG 21264 --- [http-nio-8085-exec-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] user-info: 1
16:10:36:992 DEBUG 21264 --- [http-nio-8085-exec-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] ---> END HTTP (0-byte body)
16:10:37:031 DEBUG 21264 --- [http-nio-8085-exec-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] <--- HTTP/1.1 200 (37ms)
16:10:37:031 DEBUG 21264 --- [http-nio-8085-exec-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] connection: keep-alive
16:10:37:031 DEBUG 21264 --- [http-nio-8085-exec-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] content-length: 0
16:10:37:031 DEBUG 21264 --- [http-nio-8085-exec-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] date: Fri, 28 Jun 2024 08:10:37 GMT
16:10:37:031 DEBUG 21264 --- [http-nio-8085-exec-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] keep-alive: timeout=60
16:10:37:031 DEBUG 21264 --- [http-nio-8085-exec-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] 
16:10:37:031 DEBUG 21264 --- [http-nio-8085-exec-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] <--- END HTTP (0-byte body)
16:10:37:038 DEBUG 21264 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] ---> PUT http://item-service/items/stock/deduct HTTP/1.1
16:10:37:038 DEBUG 21264 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] Content-Length: 34
16:10:37:038 DEBUG 21264 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] Content-Type: application/json
16:10:37:038 DEBUG 21264 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] user-info: 1
16:10:37:038 DEBUG 21264 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] 
16:10:37:038 DEBUG 21264 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] [{"itemId":"14741770661","num":1}]
16:10:37:038 DEBUG 21264 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] ---> END HTTP (34-byte body)
16:10:37:077 DEBUG 21264 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] <--- HTTP/1.1 200 (39ms)
16:10:37:078 DEBUG 21264 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] connection: keep-alive
16:10:37:078 DEBUG 21264 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] content-length: 0
16:10:37:078 DEBUG 21264 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] date: Fri, 28 Jun 2024 08:10:36 GMT
16:10:37:078 DEBUG 21264 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] keep-alive: timeout=60
16:10:37:078 DEBUG 21264 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] 
16:10:37:078 DEBUG 21264 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] <--- END HTTP (0-byte body)
16:10:37:146  INFO 21264 --- [http-nio-8085-exec-1] i.seata.tm.api.DefaultGlobalTransaction  : Suspending current transaction, xid = 192.168.15.215:8099:81601879587349621
16:10:37:146  INFO 21264 --- [http-nio-8085-exec-1] i.seata.tm.api.DefaultGlobalTransaction  : [192.168.15.215:8099:81601879587349621] commit status: Committed
16:10:37:213  INFO 21264 --- [rpcDispatch_RMROLE_1_1_24] i.s.c.r.p.c.RmBranchCommitProcessor      : rm client handle branch commit process:xid=192.168.15.215:8099:81601879587349621,branchId=81601879587349628,branchType=AT,resourceId=jdbc:mysql://192.168.15.215:3306/hm-trade,applicationData={"autoCommit":false,"skipCheckLock":true}
16:10:37:215  INFO 21264 --- [rpcDispatch_RMROLE_1_1_24] io.seata.rm.AbstractRMHandler            : Branch committing: 192.168.15.215:8099:81601879587349621 81601879587349628 jdbc:mysql://192.168.15.215:3306/hm-trade {"autoCommit":false,"skipCheckLock":true}
16:10:37:217  INFO 21264 --- [rpcDispatch_RMROLE_1_1_24] io.seata.rm.AbstractRMHandler            : Branch commit result: PhaseTwo_Committed
16:10:37:300 DEBUG 21264 --- [http-nio-8085-exec-2] c.h.trade.mapper.OrderMapper.selectById  : ==>  Preparing: SELECT id,total_fee,payment_type,user_id,status,create_time,pay_time,consign_time,end_time,close_time,comment_time,update_time FROM `order` WHERE id=?
16:10:37:300 DEBUG 21264 --- [http-nio-8085-exec-2] c.h.trade.mapper.OrderMapper.selectById  : ==> Parameters: 1806601078628683778(Long)
16:10:37:310 DEBUG 21264 --- [http-nio-8085-exec-2] c.h.trade.mapper.OrderMapper.selectById  : <==      Total: 1
16:10:37:542  INFO 21264 --- [nacos-grpc-client-executor-13] com.alibaba.nacos.common.remote.client   : [3c91ecd6-44e8-4cfe-aba7-0352174766ea] Receive server push request, request = NotifySubscriberRequest, requestId = 45
16:10:37:542  INFO 21264 --- [nacos-grpc-client-executor-13] com.alibaba.nacos.common.remote.client   : [3c91ecd6-44e8-4cfe-aba7-0352174766ea] Ack server push request, request = NotifySubscriberRequest, requestId = 45
16:10:39:175 DEBUG 21264 --- [http-nio-8085-exec-3] c.h.trade.mapper.OrderMapper.selectById  : ==>  Preparing: SELECT id,total_fee,payment_type,user_id,status,create_time,pay_time,consign_time,end_time,close_time,comment_time,update_time FROM `order` WHERE id=?
16:10:39:175 DEBUG 21264 --- [http-nio-8085-exec-3] c.h.trade.mapper.OrderMapper.selectById  : ==> Parameters: 1806601078628683778(Long)
16:10:39:178 DEBUG 21264 --- [http-nio-8085-exec-3] c.h.trade.mapper.OrderMapper.selectById  : <==      Total: 1
16:12:27:886 DEBUG 21264 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.h.trade.mapper.OrderMapper.updateById  : ==>  Preparing: UPDATE `order` SET status=?, pay_time=? WHERE id=?
16:12:27:894 DEBUG 21264 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.h.trade.mapper.OrderMapper.updateById  : ==> Parameters: 2(Integer), 2024-06-28T16:12:27.872098300(LocalDateTime), 111(Long)
16:12:27:895 DEBUG 21264 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.h.trade.mapper.OrderMapper.updateById  : <==    Updates: 0
16:15:28:599  INFO 21264 --- [http-nio-8085-exec-5] i.seata.tm.api.DefaultGlobalTransaction  : Begin new global transaction [192.168.15.215:8099:81601879587349638]
16:15:28:604 DEBUG 21264 --- [http-nio-8085-exec-5] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] ---> GET http://item-service/items?ids=100001511821 HTTP/1.1
16:15:28:604 DEBUG 21264 --- [http-nio-8085-exec-5] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] user-info: 1
16:15:28:604 DEBUG 21264 --- [http-nio-8085-exec-5] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] ---> END HTTP (0-byte body)
16:15:29:125 DEBUG 21264 --- [http-nio-8085-exec-5] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] <--- HTTP/1.1 200 (521ms)
16:15:29:126 DEBUG 21264 --- [http-nio-8085-exec-5] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] connection: keep-alive
16:15:29:126 DEBUG 21264 --- [http-nio-8085-exec-5] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] content-type: application/json
16:15:29:126 DEBUG 21264 --- [http-nio-8085-exec-5] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] date: Fri, 28 Jun 2024 08:15:29 GMT
16:15:29:126 DEBUG 21264 --- [http-nio-8085-exec-5] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] keep-alive: timeout=60
16:15:29:126 DEBUG 21264 --- [http-nio-8085-exec-5] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] transfer-encoding: chunked
16:15:29:126 DEBUG 21264 --- [http-nio-8085-exec-5] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] 
16:15:29:126 DEBUG 21264 --- [http-nio-8085-exec-5] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] [{"id":"100001511821","name":"HMDIME 牛仔背带裤女2018秋冬新品 韩版学院风潮流百搭弹力修身补丁学生吊带长裤女 AXNZ369 深蓝 30","price":13700,"stock":10000,"image":"https://m.360buyimg.com/mobilecms/s720x720_jfs/t30892/263/313055374/557791/c98e9abc/5bef811aN036f7c3b.jpg!q70.jpg.webp","category":"牛仔裤","brand":"HMDIME","spec":"{\"颜色\": \"蓝色\", \"尺码\": \"30\"}","sold":0,"commentCount":0,"isAD":false,"status":1}]
16:15:29:126 DEBUG 21264 --- [http-nio-8085-exec-5] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] <--- END HTTP (460-byte body)
16:15:29:129 DEBUG 21264 --- [http-nio-8085-exec-5] c.hmall.trade.mapper.OrderMapper.insert  : ==>  Preparing: INSERT INTO `order` ( id, total_fee, payment_type, user_id, status ) VALUES ( ?, ?, ?, ?, ? )
16:15:29:131 DEBUG 21264 --- [http-nio-8085-exec-5] c.hmall.trade.mapper.OrderMapper.insert  : ==> Parameters: 1806602304585994241(Long), 13700(Integer), 3(Integer), 1(Long), 1(Integer)
16:15:29:135 DEBUG 21264 --- [http-nio-8085-exec-5] c.hmall.trade.mapper.OrderMapper.insert  : <==    Updates: 1
16:15:29:136 DEBUG 21264 --- [http-nio-8085-exec-5] c.h.t.mapper.OrderDetailMapper.insert    : ==>  Preparing: INSERT INTO order_detail ( order_id, item_id, num, name, spec, price, image ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
16:15:29:136 DEBUG 21264 --- [http-nio-8085-exec-5] c.h.t.mapper.OrderDetailMapper.insert    : ==> Parameters: 1806602304585994241(Long), 100001511821(Long), 1(Integer), HMDIME 牛仔背带裤女2018秋冬新品 韩版学院风潮流百搭弹力修身补丁学生吊带长裤女 AXNZ369 深蓝 30(String), {"颜色": "蓝色", "尺码": "30"}(String), 13700(Integer), https://m.360buyimg.com/mobilecms/s720x720_jfs/t30892/263/313055374/557791/c98e9abc/5bef811aN036f7c3b.jpg!q70.jpg.webp(String)
16:15:29:144 DEBUG 21264 --- [http-nio-8085-exec-5] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] ---> DELETE http://cart-service/carts?ids=100001511821 HTTP/1.1
16:15:29:144 DEBUG 21264 --- [http-nio-8085-exec-5] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] user-info: 1
16:15:29:144 DEBUG 21264 --- [http-nio-8085-exec-5] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] ---> END HTTP (0-byte body)
16:15:29:187 DEBUG 21264 --- [http-nio-8085-exec-5] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] <--- HTTP/1.1 200 (42ms)
16:15:29:187 DEBUG 21264 --- [http-nio-8085-exec-5] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] connection: keep-alive
16:15:29:187 DEBUG 21264 --- [http-nio-8085-exec-5] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] content-length: 0
16:15:29:187 DEBUG 21264 --- [http-nio-8085-exec-5] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] date: Fri, 28 Jun 2024 08:15:29 GMT
16:15:29:187 DEBUG 21264 --- [http-nio-8085-exec-5] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] keep-alive: timeout=60
16:15:29:187 DEBUG 21264 --- [http-nio-8085-exec-5] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] 
16:15:29:187 DEBUG 21264 --- [http-nio-8085-exec-5] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] <--- END HTTP (0-byte body)
16:15:29:189 DEBUG 21264 --- [http-nio-8085-exec-5] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] ---> PUT http://item-service/items/stock/deduct HTTP/1.1
16:15:29:189 DEBUG 21264 --- [http-nio-8085-exec-5] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] Content-Length: 35
16:15:29:189 DEBUG 21264 --- [http-nio-8085-exec-5] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] Content-Type: application/json
16:15:29:189 DEBUG 21264 --- [http-nio-8085-exec-5] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] user-info: 1
16:15:29:189 DEBUG 21264 --- [http-nio-8085-exec-5] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] 
16:15:29:189 DEBUG 21264 --- [http-nio-8085-exec-5] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] [{"itemId":"100001511821","num":1}]
16:15:29:189 DEBUG 21264 --- [http-nio-8085-exec-5] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] ---> END HTTP (35-byte body)
16:15:29:231 DEBUG 21264 --- [http-nio-8085-exec-5] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] <--- HTTP/1.1 200 (42ms)
16:15:29:231 DEBUG 21264 --- [http-nio-8085-exec-5] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] connection: keep-alive
16:15:29:231 DEBUG 21264 --- [http-nio-8085-exec-5] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] content-length: 0
16:15:29:231 DEBUG 21264 --- [http-nio-8085-exec-5] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] date: Fri, 28 Jun 2024 08:15:29 GMT
16:15:29:231 DEBUG 21264 --- [http-nio-8085-exec-5] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] keep-alive: timeout=60
16:15:29:231 DEBUG 21264 --- [http-nio-8085-exec-5] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] 
16:15:29:231 DEBUG 21264 --- [http-nio-8085-exec-5] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] <--- END HTTP (0-byte body)
16:15:29:270  INFO 21264 --- [http-nio-8085-exec-5] i.seata.tm.api.DefaultGlobalTransaction  : Suspending current transaction, xid = 192.168.15.215:8099:81601879587349638
16:15:29:271  INFO 21264 --- [http-nio-8085-exec-5] i.seata.tm.api.DefaultGlobalTransaction  : [192.168.15.215:8099:81601879587349638] commit status: Committed
16:15:29:442 DEBUG 21264 --- [http-nio-8085-exec-6] c.h.trade.mapper.OrderMapper.selectById  : ==>  Preparing: SELECT id,total_fee,payment_type,user_id,status,create_time,pay_time,consign_time,end_time,close_time,comment_time,update_time FROM `order` WHERE id=?
16:15:29:442 DEBUG 21264 --- [http-nio-8085-exec-6] c.h.trade.mapper.OrderMapper.selectById  : ==> Parameters: 1806602304585994241(Long)
16:15:29:446 DEBUG 21264 --- [http-nio-8085-exec-6] c.h.trade.mapper.OrderMapper.selectById  : <==      Total: 1
16:15:30:207  INFO 21264 --- [rpcDispatch_RMROLE_1_2_24] i.s.c.r.p.c.RmBranchCommitProcessor      : rm client handle branch commit process:xid=192.168.15.215:8099:81601879587349638,branchId=81601879587349645,branchType=AT,resourceId=jdbc:mysql://192.168.15.215:3306/hm-trade,applicationData={"autoCommit":false,"skipCheckLock":true}
16:15:30:207  INFO 21264 --- [rpcDispatch_RMROLE_1_2_24] io.seata.rm.AbstractRMHandler            : Branch committing: 192.168.15.215:8099:81601879587349638 81601879587349645 jdbc:mysql://192.168.15.215:3306/hm-trade {"autoCommit":false,"skipCheckLock":true}
16:15:30:207  INFO 21264 --- [rpcDispatch_RMROLE_1_2_24] io.seata.rm.AbstractRMHandler            : Branch commit result: PhaseTwo_Committed
16:16:22:589  INFO 21264 --- [http-nio-8085-exec-7] i.seata.tm.api.DefaultGlobalTransaction  : Begin new global transaction [192.168.15.215:8099:81601879587349648]
16:16:22:591 DEBUG 21264 --- [http-nio-8085-exec-7] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] ---> GET http://item-service/items?ids=40305713537 HTTP/1.1
16:16:22:591 DEBUG 21264 --- [http-nio-8085-exec-7] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] user-info: 1
16:16:22:591 DEBUG 21264 --- [http-nio-8085-exec-7] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] ---> END HTTP (0-byte body)
16:16:23:098 DEBUG 21264 --- [http-nio-8085-exec-7] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] <--- HTTP/1.1 200 (507ms)
16:16:23:098 DEBUG 21264 --- [http-nio-8085-exec-7] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] connection: keep-alive
16:16:23:098 DEBUG 21264 --- [http-nio-8085-exec-7] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] content-type: application/json
16:16:23:098 DEBUG 21264 --- [http-nio-8085-exec-7] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] date: Fri, 28 Jun 2024 08:16:23 GMT
16:16:23:098 DEBUG 21264 --- [http-nio-8085-exec-7] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] keep-alive: timeout=60
16:16:23:098 DEBUG 21264 --- [http-nio-8085-exec-7] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] transfer-encoding: chunked
16:16:23:098 DEBUG 21264 --- [http-nio-8085-exec-7] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] 
16:16:23:098 DEBUG 21264 --- [http-nio-8085-exec-7] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] [{"id":"40305713537","name":"【官方正品 品牌直营】奥古狮登小白鞋女秋季透气2018新款百搭韩版休闲鞋运动鞋女鞋厚底板鞋女 浅蓝【厚底】 41","price":35400,"stock":9999,"image":"https://m.360buyimg.com/mobilecms/s720x720_jfs/t1/14147/34/2890/275451/5c225484Ebd346404/e61513be4639ee2e.jpg!q70.jpg.webp","category":"休闲鞋","brand":"奥古狮登","spec":"{\"颜色\": \"金色\", \"尺码\": \"41\"}","sold":0,"commentCount":0,"isAD":false,"status":1}]
16:16:23:099 DEBUG 21264 --- [http-nio-8085-exec-7] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] <--- END HTTP (492-byte body)
16:16:23:099 DEBUG 21264 --- [http-nio-8085-exec-7] c.hmall.trade.mapper.OrderMapper.insert  : ==>  Preparing: INSERT INTO `order` ( id, total_fee, payment_type, user_id, status ) VALUES ( ?, ?, ?, ?, ? )
16:16:23:100 DEBUG 21264 --- [http-nio-8085-exec-7] c.hmall.trade.mapper.OrderMapper.insert  : ==> Parameters: 1806602530981941249(Long), 35400(Integer), 3(Integer), 1(Long), 1(Integer)
16:16:23:102 DEBUG 21264 --- [http-nio-8085-exec-7] c.hmall.trade.mapper.OrderMapper.insert  : <==    Updates: 1
16:16:23:103 DEBUG 21264 --- [http-nio-8085-exec-7] c.h.t.mapper.OrderDetailMapper.insert    : ==>  Preparing: INSERT INTO order_detail ( order_id, item_id, num, name, spec, price, image ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
16:16:23:103 DEBUG 21264 --- [http-nio-8085-exec-7] c.h.t.mapper.OrderDetailMapper.insert    : ==> Parameters: 1806602530981941249(Long), 40305713537(Long), 1(Integer), 【官方正品 品牌直营】奥古狮登小白鞋女秋季透气2018新款百搭韩版休闲鞋运动鞋女鞋厚底板鞋女 浅蓝【厚底】 41(String), {"颜色": "金色", "尺码": "41"}(String), 35400(Integer), https://m.360buyimg.com/mobilecms/s720x720_jfs/t1/14147/34/2890/275451/5c225484Ebd346404/e61513be4639ee2e.jpg!q70.jpg.webp(String)
16:16:23:108 DEBUG 21264 --- [http-nio-8085-exec-7] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] ---> DELETE http://cart-service/carts?ids=40305713537 HTTP/1.1
16:16:23:108 DEBUG 21264 --- [http-nio-8085-exec-7] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] user-info: 1
16:16:23:108 DEBUG 21264 --- [http-nio-8085-exec-7] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] ---> END HTTP (0-byte body)
16:16:23:133 DEBUG 21264 --- [http-nio-8085-exec-7] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] <--- HTTP/1.1 200 (25ms)
16:16:23:133 DEBUG 21264 --- [http-nio-8085-exec-7] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] connection: keep-alive
16:16:23:133 DEBUG 21264 --- [http-nio-8085-exec-7] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] content-length: 0
16:16:23:133 DEBUG 21264 --- [http-nio-8085-exec-7] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] date: Fri, 28 Jun 2024 08:16:23 GMT
16:16:23:133 DEBUG 21264 --- [http-nio-8085-exec-7] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] keep-alive: timeout=60
16:16:23:134 DEBUG 21264 --- [http-nio-8085-exec-7] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] 
16:16:23:134 DEBUG 21264 --- [http-nio-8085-exec-7] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] <--- END HTTP (0-byte body)
16:16:23:134 DEBUG 21264 --- [http-nio-8085-exec-7] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] ---> PUT http://item-service/items/stock/deduct HTTP/1.1
16:16:23:134 DEBUG 21264 --- [http-nio-8085-exec-7] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] Content-Length: 34
16:16:23:134 DEBUG 21264 --- [http-nio-8085-exec-7] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] Content-Type: application/json
16:16:23:134 DEBUG 21264 --- [http-nio-8085-exec-7] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] user-info: 1
16:16:23:134 DEBUG 21264 --- [http-nio-8085-exec-7] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] 
16:16:23:134 DEBUG 21264 --- [http-nio-8085-exec-7] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] [{"itemId":"40305713537","num":1}]
16:16:23:134 DEBUG 21264 --- [http-nio-8085-exec-7] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] ---> END HTTP (34-byte body)
16:16:23:155 DEBUG 21264 --- [http-nio-8085-exec-7] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] <--- HTTP/1.1 200 (20ms)
16:16:23:155 DEBUG 21264 --- [http-nio-8085-exec-7] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] connection: keep-alive
16:16:23:155 DEBUG 21264 --- [http-nio-8085-exec-7] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] content-length: 0
16:16:23:155 DEBUG 21264 --- [http-nio-8085-exec-7] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] date: Fri, 28 Jun 2024 08:16:23 GMT
16:16:23:155 DEBUG 21264 --- [http-nio-8085-exec-7] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] keep-alive: timeout=60
16:16:23:155 DEBUG 21264 --- [http-nio-8085-exec-7] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] 
16:16:23:155 DEBUG 21264 --- [http-nio-8085-exec-7] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] <--- END HTTP (0-byte body)
16:16:23:173  INFO 21264 --- [http-nio-8085-exec-7] i.seata.tm.api.DefaultGlobalTransaction  : Suspending current transaction, xid = 192.168.15.215:8099:81601879587349648
16:16:23:173  INFO 21264 --- [http-nio-8085-exec-7] i.seata.tm.api.DefaultGlobalTransaction  : [192.168.15.215:8099:81601879587349648] commit status: Committed
16:16:23:204  INFO 21264 --- [rpcDispatch_RMROLE_1_3_24] i.s.c.r.p.c.RmBranchCommitProcessor      : rm client handle branch commit process:xid=192.168.15.215:8099:81601879587349648,branchId=81601879587349654,branchType=AT,resourceId=jdbc:mysql://192.168.15.215:3306/hm-trade,applicationData={"autoCommit":false,"skipCheckLock":true}
16:16:23:204  INFO 21264 --- [rpcDispatch_RMROLE_1_3_24] io.seata.rm.AbstractRMHandler            : Branch committing: 192.168.15.215:8099:81601879587349648 81601879587349654 jdbc:mysql://192.168.15.215:3306/hm-trade {"autoCommit":false,"skipCheckLock":true}
16:16:23:204  INFO 21264 --- [rpcDispatch_RMROLE_1_3_24] io.seata.rm.AbstractRMHandler            : Branch commit result: PhaseTwo_Committed
16:16:23:318 DEBUG 21264 --- [http-nio-8085-exec-8] c.h.trade.mapper.OrderMapper.selectById  : ==>  Preparing: SELECT id,total_fee,payment_type,user_id,status,create_time,pay_time,consign_time,end_time,close_time,comment_time,update_time FROM `order` WHERE id=?
16:16:23:319 DEBUG 21264 --- [http-nio-8085-exec-8] c.h.trade.mapper.OrderMapper.selectById  : ==> Parameters: 1806602530981941249(Long)
16:16:23:320 DEBUG 21264 --- [http-nio-8085-exec-8] c.h.trade.mapper.OrderMapper.selectById  : <==      Total: 1
16:16:32:529 DEBUG 21264 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.h.trade.mapper.OrderMapper.updateById  : ==>  Preparing: UPDATE `order` SET status=?, pay_time=? WHERE id=?
16:16:32:530 DEBUG 21264 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.h.trade.mapper.OrderMapper.updateById  : ==> Parameters: 2(Integer), 2024-06-28T16:16:32.528281300(LocalDateTime), 1806602530981941249(Long)
16:16:32:533 DEBUG 21264 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.h.trade.mapper.OrderMapper.updateById  : <==    Updates: 1
16:16:32:729 DEBUG 21264 --- [http-nio-8085-exec-9] c.h.trade.mapper.OrderMapper.selectById  : ==>  Preparing: SELECT id,total_fee,payment_type,user_id,status,create_time,pay_time,consign_time,end_time,close_time,comment_time,update_time FROM `order` WHERE id=?
16:16:32:729 DEBUG 21264 --- [http-nio-8085-exec-9] c.h.trade.mapper.OrderMapper.selectById  : ==> Parameters: 1806602530981941249(Long)
16:16:32:730 DEBUG 21264 --- [http-nio-8085-exec-9] c.h.trade.mapper.OrderMapper.selectById  : <==      Total: 1
16:36:34:440  WARN 21264 --- [Thread-1] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Start destroying common HttpClient
16:36:34:439  WARN 21264 --- [Thread-5] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Start destroying Publisher
16:36:34:441  WARN 21264 --- [Thread-5] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Destruction of the end
16:36:34:443  WARN 21264 --- [Thread-1] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Destruction of the end
16:36:34:466  INFO 21264 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
16:36:35:279  INFO 21264 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
16:36:36:152  INFO 21264 --- [SpringContextShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registering from Nacos Server now...
16:36:36:174  INFO 21264 --- [SpringContextShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registration finished.
16:36:36:495  INFO 21264 --- [SpringContextShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown rpc client, set status to shutdown
16:36:36:495  INFO 21264 --- [SpringContextShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@5da7c77e[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
16:36:36:496  INFO 21264 --- [SpringContextShutdownHook] com.alibaba.nacos.common.remote.client   : Close current connection 1719562224114_192.168.15.235_18636
16:36:36:498  INFO 21264 --- [nacos-grpc-client-executor-357] c.a.n.c.remote.client.grpc.GrpcClient    : [1719562224114_192.168.15.235_18636]Ignore complete event,isRunning:false,isAbandon=false
16:36:36:502  INFO 21264 --- [SpringContextShutdownHook] c.a.n.c.remote.client.grpc.GrpcClient    : Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@460ac132[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 358]
16:36:36:507  INFO 21264 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
16:36:36:520  INFO 21264 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
16:36:36:524  INFO 21264 --- [SpringContextShutdownHook] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is already stopped
16:36:36:528  INFO 21264 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : channel inactive: [id: 0x4b117150, L:/192.168.15.235:18613 ! R:/192.168.15.215:8099]
16:36:36:528  INFO 21264 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.netty.NettyClientChannelManager  : return to pool, rm channel:[id: 0x4b117150, L:/192.168.15.235:18613 ! R:/192.168.15.215:8099]
16:36:36:528  INFO 21264 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : channel inactive: [id: 0x963a439d, L:/192.168.15.235:18617 ! R:/192.168.15.215:8099]
16:36:36:528  INFO 21264 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.netty.NettyClientChannelManager  : return to pool, rm channel:[id: 0x963a439d, L:/192.168.15.235:18617 ! R:/192.168.15.215:8099]
16:36:36:529  INFO 21264 --- [NettyClientSelector_TMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : channel valid false,channel:[id: 0x4b117150, L:/192.168.15.235:18613 ! R:/192.168.15.215:8099]
16:36:36:529  INFO 21264 --- [NettyClientSelector_RMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : channel valid false,channel:[id: 0x963a439d, L:/192.168.15.235:18617 ! R:/192.168.15.215:8099]
16:36:36:529  INFO 21264 --- [NettyClientSelector_TMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : will destroy channel:[id: 0x4b117150, L:/192.168.15.235:18613 ! R:/192.168.15.215:8099]
16:36:36:529  INFO 21264 --- [NettyClientSelector_RMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : will destroy channel:[id: 0x963a439d, L:/192.168.15.235:18617 ! R:/192.168.15.215:8099]
16:36:36:529  INFO 21264 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x963a439d, L:/192.168.15.235:18617 ! R:/192.168.15.215:8099]) will closed
16:36:36:529  INFO 21264 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x4b117150, L:/192.168.15.235:18613 ! R:/192.168.15.215:8099]) will closed
16:36:36:529  INFO 21264 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x4b117150, L:/192.168.15.235:18613 ! R:/192.168.15.215:8099]) will closed
16:36:36:529  INFO 21264 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x963a439d, L:/192.168.15.235:18617 ! R:/192.168.15.215:8099]) will closed
16:36:48:045  INFO 5980 --- [main] com.hmall.trade.TradeApplication         : The following 1 profile is active: "local"
16:36:48:712  INFO 5980 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
16:36:48:714  INFO 5980 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
16:36:48:734  INFO 5980 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
16:36:48:909  INFO 5980 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=d5932c84-5e73-3cf5-a349-b689d048ca00
16:36:48:953  INFO 5980 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:36:48:953  INFO 5980 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springApplicationContextProvider' of type [io.seata.spring.boot.autoconfigure.provider.SpringApplicationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:36:48:953  INFO 5980 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'io.seata.spring.boot.autoconfigure.SeataAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:36:48:975  INFO 5980 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'failureHandler' of type [io.seata.tm.api.DefaultFailureHandlerImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:36:48:976  INFO 5980 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:36:48:976  INFO 5980 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:36:48:978  INFO 5980 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$591/0x000000080069d840] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:36:48:978  INFO 5980 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:36:48:979  INFO 5980 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springCloudAlibabaConfiguration' of type [io.seata.spring.boot.autoconfigure.properties.SpringCloudAlibabaConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:36:48:981  INFO 5980 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'seataProperties' of type [io.seata.spring.boot.autoconfigure.properties.SeataProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:36:48:982  INFO 5980 --- [main] i.s.s.b.a.SeataAutoConfiguration         : Automatically configure Seata
16:36:49:023  INFO 5980 --- [main] io.seata.config.ConfigurationFactory     : load Configuration from :Spring Configuration
16:36:49:026  INFO 5980 --- [main] io.seata.config.ConfigurationFactory     : load Configuration from :Spring Configuration
16:36:49:069  INFO 5980 --- [main] i.s.s.a.GlobalTransactionScanner         : Initializing Global Transaction Clients ... 
16:36:49:117  INFO 5980 --- [main] i.s.core.rpc.netty.NettyClientBootstrap  : NettyClientBootstrap has started
16:36:49:250  INFO 5980 --- [main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of fb554500-bda1-4040-8041-30e4183bb850
16:36:49:250  INFO 5980 --- [main] com.alibaba.nacos.common.remote.client   : [fb554500-bda1-4040-8041-30e4183bb850] RpcClient init label, labels = {module=naming, source=sdk}
16:36:49:252  INFO 5980 --- [main] com.alibaba.nacos.common.remote.client   : [fb554500-bda1-4040-8041-30e4183bb850] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
16:36:49:252  INFO 5980 --- [main] com.alibaba.nacos.common.remote.client   : [fb554500-bda1-4040-8041-30e4183bb850] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
16:36:49:252  INFO 5980 --- [main] com.alibaba.nacos.common.remote.client   : [fb554500-bda1-4040-8041-30e4183bb850] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
16:36:49:252  INFO 5980 --- [main] com.alibaba.nacos.common.remote.client   : [fb554500-bda1-4040-8041-30e4183bb850] Try to connect to server on start up, server: {serverIp = '192.168.15.215', server main port = 8848}
16:36:49:374  INFO 5980 --- [main] com.alibaba.nacos.common.remote.client   : [fb554500-bda1-4040-8041-30e4183bb850] Success to connect to server [192.168.15.215:8848] on start up, connectionId = 1719563809532_192.168.15.235_22791
16:36:49:374  INFO 5980 --- [main] com.alibaba.nacos.common.remote.client   : [fb554500-bda1-4040-8041-30e4183bb850] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
16:36:49:374  INFO 5980 --- [main] com.alibaba.nacos.common.remote.client   : [fb554500-bda1-4040-8041-30e4183bb850] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$470/0x0000000800423040
16:36:49:374  INFO 5980 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [fb554500-bda1-4040-8041-30e4183bb850] Notify connected event to listeners.
16:36:49:397  INFO 5980 --- [main] i.s.c.r.netty.NettyClientChannelManager  : will connect to 192.168.15.215:8099
16:36:49:975  INFO 5980 --- [nacos-grpc-client-executor-5] com.alibaba.nacos.common.remote.client   : [fb554500-bda1-4040-8041-30e4183bb850] Receive server push request, request = NotifySubscriberRequest, requestId = 52
16:36:49:977  INFO 5980 --- [nacos-grpc-client-executor-5] com.alibaba.nacos.common.remote.client   : [fb554500-bda1-4040-8041-30e4183bb850] Ack server push request, request = NotifySubscriberRequest, requestId = 52
16:36:50:157  INFO 5980 --- [main] i.s.core.rpc.netty.NettyPoolableFactory  : NettyPool create channel to transactionRole:TMROLE,address:192.168.15.215:8099,msg:< RegisterTMRequest{applicationId='trade-service', transactionServiceGroup='hmall'} >
16:36:50:974  INFO 5980 --- [main] i.s.c.rpc.netty.TmNettyRemotingClient    : register TM success. client version:1.5.2, server version:1.5.2,channel:[id: 0x131b1203, L:/192.168.15.235:22796 - R:/192.168.15.215:8099]
16:36:50:976  INFO 5980 --- [main] i.s.core.rpc.netty.NettyPoolableFactory  : register success, cost 36 ms, version:1.5.2,role:TMROLE,channel:[id: 0x131b1203, L:/192.168.15.235:22796 - R:/192.168.15.215:8099]
16:36:50:977  INFO 5980 --- [main] i.s.s.a.GlobalTransactionScanner         : Transaction Manager Client is initialized. applicationId[trade-service] txServiceGroup[hmall]
16:36:50:984  INFO 5980 --- [main] io.seata.rm.datasource.AsyncWorker       : Async Commit Buffer Limit: 10000
16:36:50:984  INFO 5980 --- [main] i.s.rm.datasource.xa.ResourceManagerXA   : ResourceManagerXA init ...
16:36:50:989  INFO 5980 --- [main] i.s.core.rpc.netty.NettyClientBootstrap  : NettyClientBootstrap has started
16:36:50:989  INFO 5980 --- [main] i.s.s.a.GlobalTransactionScanner         : Resource Manager is initialized. applicationId[trade-service] txServiceGroup[hmall]
16:36:50:989  INFO 5980 --- [main] i.s.s.a.GlobalTransactionScanner         : Global Transaction Clients are initialized. 
16:36:50:991  INFO 5980 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'io.seata.spring.boot.autoconfigure.SeataDataSourceAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataDataSourceAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:36:51:055  INFO 5980 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'com.alibaba.cloud.seata.feign.SeataFeignClientAutoConfiguration$FeignBeanPostProcessorConfiguration' of type [com.alibaba.cloud.seata.feign.SeataFeignClientAutoConfiguration$FeignBeanPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:36:51:055  INFO 5980 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'seataFeignObjectWrapper' of type [com.alibaba.cloud.seata.feign.SeataFeignObjectWrapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:36:51:345  INFO 5980 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8085 (http)
16:36:51:353  INFO 5980 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
16:36:51:353  INFO 5980 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.75]
16:36:51:522  INFO 5980 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
16:36:51:522  INFO 5980 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3464 ms
16:36:51:748  INFO 5980 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'item-service' URL not provided. Will try picking an instance via load-balancing.
16:36:51:929  INFO 5980 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
16:36:52:150  INFO 5980 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
16:36:52:198  INFO 5980 --- [main] i.s.c.r.netty.NettyClientChannelManager  : will connect to 192.168.15.215:8099
16:36:52:198  INFO 5980 --- [main] i.s.c.rpc.netty.RmNettyRemotingClient    : RM will register :jdbc:mysql://192.168.15.215:3306/hm-trade
16:36:52:198  INFO 5980 --- [main] i.s.core.rpc.netty.NettyPoolableFactory  : NettyPool create channel to transactionRole:RMROLE,address:192.168.15.215:8099,msg:< RegisterRMRequest{resourceIds='jdbc:mysql://192.168.15.215:3306/hm-trade', applicationId='trade-service', transactionServiceGroup='hmall'} >
16:36:52:271  INFO 5980 --- [main] i.s.c.rpc.netty.RmNettyRemotingClient    : register RM success. client version:1.5.2, server version:1.5.2,channel:[id: 0x2747d3b5, L:/192.168.15.235:22802 - R:/192.168.15.215:8099]
16:36:52:271  INFO 5980 --- [main] i.s.core.rpc.netty.NettyPoolableFactory  : register success, cost 69 ms, version:1.5.2,role:RMROLE,channel:[id: 0x2747d3b5, L:/192.168.15.235:22802 - R:/192.168.15.215:8099]
16:36:55:619  INFO 5980 --- [main] i.s.s.a.GlobalTransactionScanner         : Bean[com.hmall.trade.service.impl.OrderServiceImpl$$EnhancerBySpringCGLIB$$d6a37a18] with name [orderServiceImpl] would use interceptor [io.seata.spring.annotation.GlobalTransactionalInterceptor]
16:36:55:648  INFO 5980 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'cart-service' URL not provided. Will try picking an instance via load-balancing.
16:36:57:182  INFO 5980 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)]
16:36:58:704  INFO 5980 --- [main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of 2ea29249-324d-4176-953c-dc290537df53
16:36:58:704  INFO 5980 --- [main] com.alibaba.nacos.common.remote.client   : [2ea29249-324d-4176-953c-dc290537df53] RpcClient init label, labels = {module=naming, source=sdk}
16:36:58:705  INFO 5980 --- [main] com.alibaba.nacos.common.remote.client   : [2ea29249-324d-4176-953c-dc290537df53] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
16:36:58:705  INFO 5980 --- [main] com.alibaba.nacos.common.remote.client   : [2ea29249-324d-4176-953c-dc290537df53] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
16:36:58:705  INFO 5980 --- [main] com.alibaba.nacos.common.remote.client   : [2ea29249-324d-4176-953c-dc290537df53] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
16:36:58:705  INFO 5980 --- [main] com.alibaba.nacos.common.remote.client   : [2ea29249-324d-4176-953c-dc290537df53] Try to connect to server on start up, server: {serverIp = '192.168.15.215', server main port = 8848}
16:36:58:857  INFO 5980 --- [main] com.alibaba.nacos.common.remote.client   : [2ea29249-324d-4176-953c-dc290537df53] Success to connect to server [192.168.15.215:8848] on start up, connectionId = 1719563819024_192.168.15.235_22819
16:36:58:857  INFO 5980 --- [main] com.alibaba.nacos.common.remote.client   : [2ea29249-324d-4176-953c-dc290537df53] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
16:36:58:857  INFO 5980 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [2ea29249-324d-4176-953c-dc290537df53] Notify connected event to listeners.
16:36:58:857  INFO 5980 --- [main] com.alibaba.nacos.common.remote.client   : [2ea29249-324d-4176-953c-dc290537df53] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$470/0x0000000800423040
16:36:58:875  INFO 5980 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8085 (http) with context path ''
16:36:58:887  INFO 5980 --- [main] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP trade-service 192.168.209.1:8085 register finished
16:36:59:441  INFO 5980 --- [nacos-grpc-client-executor-8] com.alibaba.nacos.common.remote.client   : [2ea29249-324d-4176-953c-dc290537df53] Receive server push request, request = NotifySubscriberRequest, requestId = 53
16:36:59:442  INFO 5980 --- [nacos-grpc-client-executor-8] com.alibaba.nacos.common.remote.client   : [2ea29249-324d-4176-953c-dc290537df53] Ack server push request, request = NotifySubscriberRequest, requestId = 53
16:36:59:988  INFO 5980 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Documentation plugins bootstrapped
16:36:59:990  INFO 5980 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
16:37:00:007  INFO 5980 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
16:37:00:059  INFO 5980 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.15.215:5672]
16:37:00:107  INFO 5980 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#6e7d9d0:0/SimpleConnection@30ee413a [delegate=amqp://hmall@192.168.15.215:5672//hmall, localPort= 22823]
16:37:00:227  INFO 5980 --- [main] com.hmall.trade.TradeApplication         : Started TradeApplication in 18.475 seconds (JVM running for 20.223)
16:37:00:231  INFO 5980 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=trade-service, group=DEFAULT_GROUP
16:37:00:232  INFO 5980 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=trade-service-local.yaml, group=DEFAULT_GROUP
16:37:00:232  INFO 5980 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=trade-service.yaml, group=DEFAULT_GROUP
16:37:22:524  INFO 5980 --- [http-nio-8085-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
16:37:22:525  INFO 5980 --- [http-nio-8085-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
16:37:22:526  INFO 5980 --- [http-nio-8085-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
16:37:22:563  INFO 5980 --- [http-nio-8085-exec-1] io.seata.tm.TransactionManagerHolder     : TransactionManager Singleton io.seata.tm.DefaultTransactionManager@5be8d870
16:37:22:578  INFO 5980 --- [http-nio-8085-exec-1] i.seata.tm.api.DefaultGlobalTransaction  : Begin new global transaction [192.168.15.215:8099:81601879587349665]
16:37:22:591 DEBUG 5980 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] ---> GET http://item-service/items?ids=8533120 HTTP/1.1
16:37:22:591 DEBUG 5980 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] user-info: 1
16:37:22:591 DEBUG 5980 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] ---> END HTTP (0-byte body)
16:37:23:168 DEBUG 5980 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] <--- HTTP/1.1 200 (576ms)
16:37:23:168 DEBUG 5980 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] connection: keep-alive
16:37:23:168 DEBUG 5980 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] content-type: application/json
16:37:23:169 DEBUG 5980 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] date: Fri, 28 Jun 2024 08:37:23 GMT
16:37:23:169 DEBUG 5980 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] keep-alive: timeout=60
16:37:23:169 DEBUG 5980 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] transfer-encoding: chunked
16:37:23:169 DEBUG 5980 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] 
16:37:23:169 DEBUG 5980 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] [{"id":"8533120","name":"海尔 （Haier ）LQ65H31 65英寸 4K曲面人工智能全面屏超高清LED液晶电视","price":379500,"stock":9997,"image":"https://m.360buyimg.com/mobilecms/s720x720_jfs/t1/2851/14/13998/101463/5bd9723cE81b2c299/1bfdf2d1628648e4.jpg!q70.jpg.webp","category":"曲面电视","brand":"海尔","spec":"{}","sold":0,"commentCount":0,"isAD":false,"status":1}]
16:37:23:169 DEBUG 5980 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] <--- END HTTP (383-byte body)
16:37:23:201 DEBUG 5980 --- [http-nio-8085-exec-1] c.hmall.trade.mapper.OrderMapper.insert  : ==>  Preparing: INSERT INTO `order` ( id, total_fee, payment_type, user_id, status ) VALUES ( ?, ?, ?, ?, ? )
16:37:23:239  INFO 5980 --- [nacos-grpc-client-executor-15] com.alibaba.nacos.common.remote.client   : [2ea29249-324d-4176-953c-dc290537df53] Receive server push request, request = NotifySubscriberRequest, requestId = 55
16:37:23:239  INFO 5980 --- [nacos-grpc-client-executor-15] com.alibaba.nacos.common.remote.client   : [2ea29249-324d-4176-953c-dc290537df53] Ack server push request, request = NotifySubscriberRequest, requestId = 55
16:37:23:316 DEBUG 5980 --- [http-nio-8085-exec-1] c.hmall.trade.mapper.OrderMapper.insert  : ==> Parameters: 1806607816237039617(Long), 379500(Integer), 3(Integer), 1(Long), 1(Integer)
16:37:23:334 DEBUG 5980 --- [http-nio-8085-exec-1] c.hmall.trade.mapper.OrderMapper.insert  : <==    Updates: 1
16:37:23:338 DEBUG 5980 --- [http-nio-8085-exec-1] c.h.t.mapper.OrderDetailMapper.insert    : ==>  Preparing: INSERT INTO order_detail ( order_id, item_id, num, name, spec, price, image ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
16:37:23:339 DEBUG 5980 --- [http-nio-8085-exec-1] c.h.t.mapper.OrderDetailMapper.insert    : ==> Parameters: 1806607816237039617(Long), 8533120(Long), 1(Integer), 海尔 （Haier ）LQ65H31 65英寸 4K曲面人工智能全面屏超高清LED液晶电视(String), {}(String), 379500(Integer), https://m.360buyimg.com/mobilecms/s720x720_jfs/t1/2851/14/13998/101463/5bd9723cE81b2c299/1bfdf2d1628648e4.jpg!q70.jpg.webp(String)
16:37:23:382 DEBUG 5980 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] ---> PUT http://item-service/items/stock/deduct HTTP/1.1
16:37:23:382 DEBUG 5980 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] Content-Length: 30
16:37:23:382 DEBUG 5980 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] Content-Type: application/json
16:37:23:382 DEBUG 5980 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] user-info: 1
16:37:23:382 DEBUG 5980 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] 
16:37:23:382 DEBUG 5980 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] [{"itemId":"8533120","num":1}]
16:37:23:382 DEBUG 5980 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] ---> END HTTP (30-byte body)
16:37:23:388 DEBUG 5980 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] ---> DELETE http://cart-service/carts?ids=8533120 HTTP/1.1
16:37:23:389 DEBUG 5980 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] ---> END HTTP (0-byte body)
16:37:23:416 DEBUG 5980 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] <--- HTTP/1.1 200 (27ms)
16:37:23:416 DEBUG 5980 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] connection: keep-alive
16:37:23:416 DEBUG 5980 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] content-length: 0
16:37:23:416 DEBUG 5980 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] date: Fri, 28 Jun 2024 08:37:23 GMT
16:37:23:416 DEBUG 5980 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] keep-alive: timeout=60
16:37:23:416 DEBUG 5980 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] 
16:37:23:416 DEBUG 5980 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] <--- END HTTP (0-byte body)
16:37:23:451 DEBUG 5980 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] <--- HTTP/1.1 200 (67ms)
16:37:23:451 DEBUG 5980 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] connection: keep-alive
16:37:23:451 DEBUG 5980 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] content-length: 0
16:37:23:451 DEBUG 5980 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] date: Fri, 28 Jun 2024 08:37:23 GMT
16:37:23:451 DEBUG 5980 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] keep-alive: timeout=60
16:37:23:451 DEBUG 5980 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] 
16:37:23:451 DEBUG 5980 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] <--- END HTTP (0-byte body)
16:37:23:504  INFO 5980 --- [http-nio-8085-exec-1] i.seata.tm.api.DefaultGlobalTransaction  : Suspending current transaction, xid = 192.168.15.215:8099:81601879587349665
16:37:23:505  INFO 5980 --- [http-nio-8085-exec-1] i.seata.tm.api.DefaultGlobalTransaction  : [192.168.15.215:8099:81601879587349665] commit status: Committed
16:37:23:683 DEBUG 5980 --- [http-nio-8085-exec-2] c.h.trade.mapper.OrderMapper.selectById  : ==>  Preparing: SELECT id,total_fee,payment_type,user_id,status,create_time,pay_time,consign_time,end_time,close_time,comment_time,update_time FROM `order` WHERE id=?
16:37:23:683 DEBUG 5980 --- [http-nio-8085-exec-2] c.h.trade.mapper.OrderMapper.selectById  : ==> Parameters: 1806607816237039617(Long)
16:37:23:692 DEBUG 5980 --- [http-nio-8085-exec-2] c.h.trade.mapper.OrderMapper.selectById  : <==      Total: 1
16:37:23:941  INFO 5980 --- [nacos-grpc-client-executor-18] com.alibaba.nacos.common.remote.client   : [2ea29249-324d-4176-953c-dc290537df53] Receive server push request, request = NotifySubscriberRequest, requestId = 56
16:37:23:942  INFO 5980 --- [nacos-grpc-client-executor-18] com.alibaba.nacos.common.remote.client   : [2ea29249-324d-4176-953c-dc290537df53] Ack server push request, request = NotifySubscriberRequest, requestId = 56
16:37:24:196  INFO 5980 --- [rpcDispatch_RMROLE_1_1_24] i.s.c.r.p.c.RmBranchCommitProcessor      : rm client handle branch commit process:xid=192.168.15.215:8099:81601879587349665,branchId=81601879587349670,branchType=AT,resourceId=jdbc:mysql://192.168.15.215:3306/hm-trade,applicationData={"autoCommit":false,"skipCheckLock":true}
16:37:24:198  INFO 5980 --- [rpcDispatch_RMROLE_1_1_24] io.seata.rm.AbstractRMHandler            : Branch committing: 192.168.15.215:8099:81601879587349665 81601879587349670 jdbc:mysql://192.168.15.215:3306/hm-trade {"autoCommit":false,"skipCheckLock":true}
16:37:24:199  INFO 5980 --- [rpcDispatch_RMROLE_1_1_24] io.seata.rm.AbstractRMHandler            : Branch commit result: PhaseTwo_Committed
16:39:28:289  WARN 5980 --- [Thread-1] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Start destroying common HttpClient
16:39:28:289  WARN 5980 --- [Thread-5] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Start destroying Publisher
16:39:28:289  WARN 5980 --- [Thread-5] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Destruction of the end
16:39:28:289  WARN 5980 --- [Thread-1] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Destruction of the end
16:39:28:293  INFO 5980 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
16:39:28:295  INFO 5980 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
16:39:28:434  INFO 5980 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
16:39:28:478  INFO 5980 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
16:39:29:214  INFO 5980 --- [SpringContextShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registering from Nacos Server now...
16:39:29:217  INFO 5980 --- [SpringContextShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registration finished.
16:39:29:544  INFO 5980 --- [SpringContextShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown rpc client, set status to shutdown
16:39:29:545  INFO 5980 --- [SpringContextShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@2a36a0ca[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
16:39:29:545  INFO 5980 --- [SpringContextShutdownHook] com.alibaba.nacos.common.remote.client   : Close current connection 1719563819024_192.168.15.235_22819
16:39:29:547  INFO 5980 --- [nacos-grpc-client-executor-47] c.a.n.c.remote.client.grpc.GrpcClient    : [1719563819024_192.168.15.235_22819]Ignore complete event,isRunning:false,isAbandon=false
16:39:29:549  INFO 5980 --- [SpringContextShutdownHook] c.a.n.c.remote.client.grpc.GrpcClient    : Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@291804f8[Running, pool size = 5, active threads = 0, queued tasks = 0, completed tasks = 48]
16:39:29:557  INFO 5980 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
16:39:29:567  INFO 5980 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
16:39:29:570  INFO 5980 --- [SpringContextShutdownHook] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is already stopped
16:39:29:570  INFO 5980 --- [SpringContextShutdownHook] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is already stopped
16:39:29:573  INFO 5980 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : channel inactive: [id: 0x2747d3b5, L:/192.168.15.235:22802 ! R:/192.168.15.215:8099]
16:39:29:573  INFO 5980 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.netty.NettyClientChannelManager  : return to pool, rm channel:[id: 0x2747d3b5, L:/192.168.15.235:22802 ! R:/192.168.15.215:8099]
16:39:29:573  INFO 5980 --- [NettyClientSelector_RMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : channel valid false,channel:[id: 0x2747d3b5, L:/192.168.15.235:22802 ! R:/192.168.15.215:8099]
16:39:29:574  INFO 5980 --- [NettyClientSelector_RMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : will destroy channel:[id: 0x2747d3b5, L:/192.168.15.235:22802 ! R:/192.168.15.215:8099]
16:39:29:574  INFO 5980 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x2747d3b5, L:/192.168.15.235:22802 ! R:/192.168.15.215:8099]) will closed
16:39:29:574  INFO 5980 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x2747d3b5, L:/192.168.15.235:22802 ! R:/192.168.15.215:8099]) will closed
16:39:39:987  INFO 30116 --- [main] com.hmall.trade.TradeApplication         : The following 1 profile is active: "local"
16:39:40:619  INFO 30116 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
16:39:40:620  INFO 30116 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
16:39:40:642  INFO 30116 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
16:39:40:800  INFO 30116 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=d5932c84-5e73-3cf5-a349-b689d048ca00
16:39:40:840  INFO 30116 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:39:40:840  INFO 30116 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springApplicationContextProvider' of type [io.seata.spring.boot.autoconfigure.provider.SpringApplicationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:39:40:841  INFO 30116 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'io.seata.spring.boot.autoconfigure.SeataAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:39:40:861  INFO 30116 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'failureHandler' of type [io.seata.tm.api.DefaultFailureHandlerImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:39:40:864  INFO 30116 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:39:40:864  INFO 30116 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:39:40:865  INFO 30116 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$591/0x000000080069d040] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:39:40:865  INFO 30116 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:39:40:866  INFO 30116 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springCloudAlibabaConfiguration' of type [io.seata.spring.boot.autoconfigure.properties.SpringCloudAlibabaConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:39:40:868  INFO 30116 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'seataProperties' of type [io.seata.spring.boot.autoconfigure.properties.SeataProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:39:40:870  INFO 30116 --- [main] i.s.s.b.a.SeataAutoConfiguration         : Automatically configure Seata
16:39:40:910  INFO 30116 --- [main] io.seata.config.ConfigurationFactory     : load Configuration from :Spring Configuration
16:39:40:914  INFO 30116 --- [main] io.seata.config.ConfigurationFactory     : load Configuration from :Spring Configuration
16:39:40:957  INFO 30116 --- [main] i.s.s.a.GlobalTransactionScanner         : Initializing Global Transaction Clients ... 
16:39:40:999  INFO 30116 --- [main] i.s.core.rpc.netty.NettyClientBootstrap  : NettyClientBootstrap has started
16:39:41:116  INFO 30116 --- [main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of ced81e7e-99da-415e-a73d-825236bcde03
16:39:41:116  INFO 30116 --- [main] com.alibaba.nacos.common.remote.client   : [ced81e7e-99da-415e-a73d-825236bcde03] RpcClient init label, labels = {module=naming, source=sdk}
16:39:41:117  INFO 30116 --- [main] com.alibaba.nacos.common.remote.client   : [ced81e7e-99da-415e-a73d-825236bcde03] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
16:39:41:117  INFO 30116 --- [main] com.alibaba.nacos.common.remote.client   : [ced81e7e-99da-415e-a73d-825236bcde03] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
16:39:41:117  INFO 30116 --- [main] com.alibaba.nacos.common.remote.client   : [ced81e7e-99da-415e-a73d-825236bcde03] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
16:39:41:117  INFO 30116 --- [main] com.alibaba.nacos.common.remote.client   : [ced81e7e-99da-415e-a73d-825236bcde03] Try to connect to server on start up, server: {serverIp = '192.168.15.215', server main port = 8848}
16:39:41:233  INFO 30116 --- [main] com.alibaba.nacos.common.remote.client   : [ced81e7e-99da-415e-a73d-825236bcde03] Success to connect to server [192.168.15.215:8848] on start up, connectionId = 1719563981399_192.168.15.235_23310
16:39:41:233  INFO 30116 --- [main] com.alibaba.nacos.common.remote.client   : [ced81e7e-99da-415e-a73d-825236bcde03] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
16:39:41:233  INFO 30116 --- [main] com.alibaba.nacos.common.remote.client   : [ced81e7e-99da-415e-a73d-825236bcde03] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$470/0x0000000800423040
16:39:41:233  INFO 30116 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [ced81e7e-99da-415e-a73d-825236bcde03] Notify connected event to listeners.
16:39:41:260  INFO 30116 --- [main] i.s.c.r.netty.NettyClientChannelManager  : will connect to 192.168.15.215:8099
16:39:41:782  INFO 30116 --- [nacos-grpc-client-executor-5] com.alibaba.nacos.common.remote.client   : [ced81e7e-99da-415e-a73d-825236bcde03] Receive server push request, request = NotifySubscriberRequest, requestId = 58
16:39:41:783  INFO 30116 --- [nacos-grpc-client-executor-5] com.alibaba.nacos.common.remote.client   : [ced81e7e-99da-415e-a73d-825236bcde03] Ack server push request, request = NotifySubscriberRequest, requestId = 58
16:39:42:016  INFO 30116 --- [main] i.s.core.rpc.netty.NettyPoolableFactory  : NettyPool create channel to transactionRole:TMROLE,address:192.168.15.215:8099,msg:< RegisterTMRequest{applicationId='trade-service', transactionServiceGroup='hmall'} >
16:39:42:825  INFO 30116 --- [main] i.s.c.rpc.netty.TmNettyRemotingClient    : register TM success. client version:1.5.2, server version:1.5.2,channel:[id: 0x3220cd5a, L:/192.168.15.235:23312 - R:/192.168.15.215:8099]
16:39:42:828  INFO 30116 --- [main] i.s.core.rpc.netty.NettyPoolableFactory  : register success, cost 37 ms, version:1.5.2,role:TMROLE,channel:[id: 0x3220cd5a, L:/192.168.15.235:23312 - R:/192.168.15.215:8099]
16:39:42:828  INFO 30116 --- [main] i.s.s.a.GlobalTransactionScanner         : Transaction Manager Client is initialized. applicationId[trade-service] txServiceGroup[hmall]
16:39:42:836  INFO 30116 --- [main] io.seata.rm.datasource.AsyncWorker       : Async Commit Buffer Limit: 10000
16:39:42:836  INFO 30116 --- [main] i.s.rm.datasource.xa.ResourceManagerXA   : ResourceManagerXA init ...
16:39:42:842  INFO 30116 --- [main] i.s.core.rpc.netty.NettyClientBootstrap  : NettyClientBootstrap has started
16:39:42:842  INFO 30116 --- [main] i.s.s.a.GlobalTransactionScanner         : Resource Manager is initialized. applicationId[trade-service] txServiceGroup[hmall]
16:39:42:842  INFO 30116 --- [main] i.s.s.a.GlobalTransactionScanner         : Global Transaction Clients are initialized. 
16:39:42:843  INFO 30116 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'io.seata.spring.boot.autoconfigure.SeataDataSourceAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataDataSourceAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:39:42:899  INFO 30116 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'com.alibaba.cloud.seata.feign.SeataFeignClientAutoConfiguration$FeignBeanPostProcessorConfiguration' of type [com.alibaba.cloud.seata.feign.SeataFeignClientAutoConfiguration$FeignBeanPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:39:42:900  INFO 30116 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'seataFeignObjectWrapper' of type [com.alibaba.cloud.seata.feign.SeataFeignObjectWrapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:39:43:080  INFO 30116 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8085 (http)
16:39:43:087  INFO 30116 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
16:39:43:087  INFO 30116 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.75]
16:39:43:231  INFO 30116 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
16:39:43:231  INFO 30116 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3233 ms
16:39:43:375  INFO 30116 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'item-service' URL not provided. Will try picking an instance via load-balancing.
16:39:43:493  INFO 30116 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
16:39:43:644  INFO 30116 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
16:39:43:688  INFO 30116 --- [main] i.s.c.r.netty.NettyClientChannelManager  : will connect to 192.168.15.215:8099
16:39:43:688  INFO 30116 --- [main] i.s.c.rpc.netty.RmNettyRemotingClient    : RM will register :jdbc:mysql://192.168.15.215:3306/hm-trade
16:39:43:688  INFO 30116 --- [main] i.s.core.rpc.netty.NettyPoolableFactory  : NettyPool create channel to transactionRole:RMROLE,address:192.168.15.215:8099,msg:< RegisterRMRequest{resourceIds='jdbc:mysql://192.168.15.215:3306/hm-trade', applicationId='trade-service', transactionServiceGroup='hmall'} >
16:39:43:694  INFO 30116 --- [main] i.s.c.rpc.netty.RmNettyRemotingClient    : register RM success. client version:1.5.2, server version:1.5.2,channel:[id: 0xc54e6de0, L:/192.168.15.235:23317 - R:/192.168.15.215:8099]
16:39:43:694  INFO 30116 --- [main] i.s.core.rpc.netty.NettyPoolableFactory  : register success, cost 5 ms, version:1.5.2,role:RMROLE,channel:[id: 0xc54e6de0, L:/192.168.15.235:23317 - R:/192.168.15.215:8099]
16:39:46:448  INFO 30116 --- [main] i.s.s.a.GlobalTransactionScanner         : Bean[com.hmall.trade.service.impl.OrderServiceImpl$$EnhancerBySpringCGLIB$$d6a37a18] with name [orderServiceImpl] would use interceptor [io.seata.spring.annotation.GlobalTransactionalInterceptor]
16:39:46:472  INFO 30116 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'cart-service' URL not provided. Will try picking an instance via load-balancing.
16:39:47:896  INFO 30116 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)]
16:39:49:346  INFO 30116 --- [main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of c8a77462-4c09-4d98-b757-77b4e56e97a5
16:39:49:346  INFO 30116 --- [main] com.alibaba.nacos.common.remote.client   : [c8a77462-4c09-4d98-b757-77b4e56e97a5] RpcClient init label, labels = {module=naming, source=sdk}
16:39:49:346  INFO 30116 --- [main] com.alibaba.nacos.common.remote.client   : [c8a77462-4c09-4d98-b757-77b4e56e97a5] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
16:39:49:346  INFO 30116 --- [main] com.alibaba.nacos.common.remote.client   : [c8a77462-4c09-4d98-b757-77b4e56e97a5] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
16:39:49:346  INFO 30116 --- [main] com.alibaba.nacos.common.remote.client   : [c8a77462-4c09-4d98-b757-77b4e56e97a5] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
16:39:49:346  INFO 30116 --- [main] com.alibaba.nacos.common.remote.client   : [c8a77462-4c09-4d98-b757-77b4e56e97a5] Try to connect to server on start up, server: {serverIp = '192.168.15.215', server main port = 8848}
16:39:49:458  INFO 30116 --- [main] com.alibaba.nacos.common.remote.client   : [c8a77462-4c09-4d98-b757-77b4e56e97a5] Success to connect to server [192.168.15.215:8848] on start up, connectionId = 1719563989626_192.168.15.235_23334
16:39:49:458  INFO 30116 --- [main] com.alibaba.nacos.common.remote.client   : [c8a77462-4c09-4d98-b757-77b4e56e97a5] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
16:39:49:458  INFO 30116 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [c8a77462-4c09-4d98-b757-77b4e56e97a5] Notify connected event to listeners.
16:39:49:458  INFO 30116 --- [main] com.alibaba.nacos.common.remote.client   : [c8a77462-4c09-4d98-b757-77b4e56e97a5] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$470/0x0000000800423040
16:39:49:472  INFO 30116 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8085 (http) with context path ''
16:39:49:478  INFO 30116 --- [main] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP trade-service 192.168.209.1:8085 register finished
16:39:50:007  INFO 30116 --- [nacos-grpc-client-executor-6] com.alibaba.nacos.common.remote.client   : [c8a77462-4c09-4d98-b757-77b4e56e97a5] Receive server push request, request = NotifySubscriberRequest, requestId = 60
16:39:50:008  INFO 30116 --- [nacos-grpc-client-executor-6] com.alibaba.nacos.common.remote.client   : [c8a77462-4c09-4d98-b757-77b4e56e97a5] Ack server push request, request = NotifySubscriberRequest, requestId = 60
16:39:50:590  INFO 30116 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Documentation plugins bootstrapped
16:39:50:592  INFO 30116 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
16:39:50:606  INFO 30116 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
16:39:50:656  INFO 30116 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.15.215:5672]
16:39:50:681  INFO 30116 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#6e7d9d0:0/SimpleConnection@122bfaac [delegate=amqp://hmall@192.168.15.215:5672//hmall, localPort= 23340]
16:39:50:730  INFO 30116 --- [main] com.hmall.trade.TradeApplication         : Started TradeApplication in 16.902 seconds (JVM running for 18.337)
16:39:50:734  INFO 30116 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=trade-service, group=DEFAULT_GROUP
16:39:50:734  INFO 30116 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=trade-service-local.yaml, group=DEFAULT_GROUP
16:39:50:734  INFO 30116 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=trade-service.yaml, group=DEFAULT_GROUP
16:40:24:993  INFO 30116 --- [http-nio-8085-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
16:40:24:993  INFO 30116 --- [http-nio-8085-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
16:40:24:995  INFO 30116 --- [http-nio-8085-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
16:40:25:031  INFO 30116 --- [http-nio-8085-exec-1] io.seata.tm.TransactionManagerHolder     : TransactionManager Singleton io.seata.tm.DefaultTransactionManager@54d64aee
16:40:25:043  INFO 30116 --- [http-nio-8085-exec-1] i.seata.tm.api.DefaultGlobalTransaction  : Begin new global transaction [192.168.15.215:8099:81601879587349673]
16:40:25:056 DEBUG 30116 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] ---> GET http://item-service/items?ids=8533120&ids=100001511821 HTTP/1.1
16:40:25:056 DEBUG 30116 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] user-info: 1
16:40:25:056 DEBUG 30116 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] ---> END HTTP (0-byte body)
16:40:25:639 DEBUG 30116 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] <--- HTTP/1.1 200 (582ms)
16:40:25:640 DEBUG 30116 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] connection: keep-alive
16:40:25:640 DEBUG 30116 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] content-type: application/json
16:40:25:640 DEBUG 30116 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] date: Fri, 28 Jun 2024 08:40:25 GMT
16:40:25:640 DEBUG 30116 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] keep-alive: timeout=60
16:40:25:640 DEBUG 30116 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] transfer-encoding: chunked
16:40:25:640 DEBUG 30116 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] 
16:40:25:640 DEBUG 30116 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] [{"id":"8533120","name":"海尔 （Haier ）LQ65H31 65英寸 4K曲面人工智能全面屏超高清LED液晶电视","price":379500,"stock":9996,"image":"https://m.360buyimg.com/mobilecms/s720x720_jfs/t1/2851/14/13998/101463/5bd9723cE81b2c299/1bfdf2d1628648e4.jpg!q70.jpg.webp","category":"曲面电视","brand":"海尔","spec":"{}","sold":0,"commentCount":0,"isAD":false,"status":1},{"id":"100001511821","name":"HMDIME 牛仔背带裤女2018秋冬新品 韩版学院风潮流百搭弹力修身补丁学生吊带长裤女 AXNZ369 深蓝 30","price":13700,"stock":9999,"image":"https://m.360buyimg.com/mobilecms/s720x720_jfs/t30892/263/313055374/557791/c98e9abc/5bef811aN036f7c3b.jpg!q70.jpg.webp","category":"牛仔裤","brand":"HMDIME","spec":"{\"颜色\": \"蓝色\", \"尺码\": \"30\"}","sold":0,"commentCount":0,"isAD":false,"status":1}]
16:40:25:640 DEBUG 30116 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] <--- END HTTP (841-byte body)
16:40:25:668  INFO 30116 --- [nacos-grpc-client-executor-16] com.alibaba.nacos.common.remote.client   : [c8a77462-4c09-4d98-b757-77b4e56e97a5] Receive server push request, request = NotifySubscriberRequest, requestId = 61
16:40:25:668  INFO 30116 --- [nacos-grpc-client-executor-16] com.alibaba.nacos.common.remote.client   : [c8a77462-4c09-4d98-b757-77b4e56e97a5] Ack server push request, request = NotifySubscriberRequest, requestId = 61
16:40:25:676 DEBUG 30116 --- [http-nio-8085-exec-1] c.hmall.trade.mapper.OrderMapper.insert  : ==>  Preparing: INSERT INTO `order` ( id, total_fee, payment_type, user_id, status ) VALUES ( ?, ?, ?, ?, ? )
16:40:25:776 DEBUG 30116 --- [http-nio-8085-exec-1] c.hmall.trade.mapper.OrderMapper.insert  : ==> Parameters: 1806608581592649729(Long), 393200(Integer), 3(Integer), 1(Long), 1(Integer)
16:40:25:793 DEBUG 30116 --- [http-nio-8085-exec-1] c.hmall.trade.mapper.OrderMapper.insert  : <==    Updates: 1
16:40:25:797 DEBUG 30116 --- [http-nio-8085-exec-1] c.h.t.mapper.OrderDetailMapper.insert    : ==>  Preparing: INSERT INTO order_detail ( order_id, item_id, num, name, spec, price, image ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
16:40:25:798 DEBUG 30116 --- [http-nio-8085-exec-1] c.h.t.mapper.OrderDetailMapper.insert    : ==> Parameters: 1806608581592649729(Long), 8533120(Long), 1(Integer), 海尔 （Haier ）LQ65H31 65英寸 4K曲面人工智能全面屏超高清LED液晶电视(String), {}(String), 379500(Integer), https://m.360buyimg.com/mobilecms/s720x720_jfs/t1/2851/14/13998/101463/5bd9723cE81b2c299/1bfdf2d1628648e4.jpg!q70.jpg.webp(String)
16:40:25:798 DEBUG 30116 --- [http-nio-8085-exec-1] c.h.t.mapper.OrderDetailMapper.insert    : ==> Parameters: 1806608581592649729(Long), 100001511821(Long), 1(Integer), HMDIME 牛仔背带裤女2018秋冬新品 韩版学院风潮流百搭弹力修身补丁学生吊带长裤女 AXNZ369 深蓝 30(String), {"颜色": "蓝色", "尺码": "30"}(String), 13700(Integer), https://m.360buyimg.com/mobilecms/s720x720_jfs/t30892/263/313055374/557791/c98e9abc/5bef811aN036f7c3b.jpg!q70.jpg.webp(String)
16:40:25:835 DEBUG 30116 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] ---> PUT http://item-service/items/stock/deduct HTTP/1.1
16:40:25:835 DEBUG 30116 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] Content-Length: 64
16:40:25:835 DEBUG 30116 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] Content-Type: application/json
16:40:25:835 DEBUG 30116 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] user-info: 1
16:40:25:835 DEBUG 30116 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] 
16:40:25:835 DEBUG 30116 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] [{"itemId":"8533120","num":1},{"itemId":"100001511821","num":1}]
16:40:25:835 DEBUG 30116 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] ---> END HTTP (64-byte body)
16:40:25:835 DEBUG 30116 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] ---> DELETE http://cart-service/carts?ids=8533120&ids=100001511821 HTTP/1.1
16:40:25:835 DEBUG 30116 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] ---> END HTTP (0-byte body)
16:40:25:870 DEBUG 30116 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] <--- HTTP/1.1 200 (34ms)
16:40:25:870 DEBUG 30116 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] connection: keep-alive
16:40:25:870 DEBUG 30116 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] content-length: 0
16:40:25:870 DEBUG 30116 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] date: Fri, 28 Jun 2024 08:40:25 GMT
16:40:25:870 DEBUG 30116 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] keep-alive: timeout=60
16:40:25:870 DEBUG 30116 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] 
16:40:25:870 DEBUG 30116 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] <--- END HTTP (0-byte body)
16:40:25:876 DEBUG 30116 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] <--- HTTP/1.1 200 (40ms)
16:40:25:876 DEBUG 30116 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] connection: keep-alive
16:40:25:876 DEBUG 30116 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] content-length: 0
16:40:25:876 DEBUG 30116 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] date: Fri, 28 Jun 2024 08:40:25 GMT
16:40:25:876 DEBUG 30116 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] keep-alive: timeout=60
16:40:25:876 DEBUG 30116 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] 
16:40:25:876 DEBUG 30116 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] <--- END HTTP (0-byte body)
16:40:25:936  INFO 30116 --- [http-nio-8085-exec-1] i.seata.tm.api.DefaultGlobalTransaction  : Suspending current transaction, xid = 192.168.15.215:8099:81601879587349673
16:40:25:937  INFO 30116 --- [http-nio-8085-exec-1] i.seata.tm.api.DefaultGlobalTransaction  : [192.168.15.215:8099:81601879587349673] commit status: Committed
16:40:26:106 DEBUG 30116 --- [http-nio-8085-exec-2] c.h.trade.mapper.OrderMapper.selectById  : ==>  Preparing: SELECT id,total_fee,payment_type,user_id,status,create_time,pay_time,consign_time,end_time,close_time,comment_time,update_time FROM `order` WHERE id=?
16:40:26:106 DEBUG 30116 --- [http-nio-8085-exec-2] c.h.trade.mapper.OrderMapper.selectById  : ==> Parameters: 1806608581592649729(Long)
16:40:26:116 DEBUG 30116 --- [http-nio-8085-exec-2] c.h.trade.mapper.OrderMapper.selectById  : <==      Total: 1
16:40:26:209  INFO 30116 --- [rpcDispatch_RMROLE_1_1_24] i.s.c.r.p.c.RmBranchCommitProcessor      : rm client handle branch commit process:xid=192.168.15.215:8099:81601879587349673,branchId=81601879587349678,branchType=AT,resourceId=jdbc:mysql://192.168.15.215:3306/hm-trade,applicationData={"autoCommit":false,"skipCheckLock":true}
16:40:26:214  INFO 30116 --- [rpcDispatch_RMROLE_1_1_24] io.seata.rm.AbstractRMHandler            : Branch committing: 192.168.15.215:8099:81601879587349673 81601879587349678 jdbc:mysql://192.168.15.215:3306/hm-trade {"autoCommit":false,"skipCheckLock":true}
16:40:26:216  INFO 30116 --- [rpcDispatch_RMROLE_1_1_24] io.seata.rm.AbstractRMHandler            : Branch commit result: PhaseTwo_Committed
16:40:26:366  INFO 30116 --- [nacos-grpc-client-executor-19] com.alibaba.nacos.common.remote.client   : [c8a77462-4c09-4d98-b757-77b4e56e97a5] Receive server push request, request = NotifySubscriberRequest, requestId = 62
16:40:26:366  INFO 30116 --- [nacos-grpc-client-executor-19] com.alibaba.nacos.common.remote.client   : [c8a77462-4c09-4d98-b757-77b4e56e97a5] Ack server push request, request = NotifySubscriberRequest, requestId = 62
16:44:03:180  WARN 30116 --- [Thread-5] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Start destroying Publisher
16:44:03:180  WARN 30116 --- [Thread-1] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Start destroying common HttpClient
16:44:03:184  WARN 30116 --- [Thread-5] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Destruction of the end
16:44:03:186  WARN 30116 --- [Thread-1] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Destruction of the end
16:44:03:219  INFO 30116 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
16:44:03:219  INFO 30116 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
16:44:03:575  INFO 30116 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
16:44:03:693  INFO 30116 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
16:44:04:491  INFO 30116 --- [SpringContextShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registering from Nacos Server now...
16:44:04:501  INFO 30116 --- [SpringContextShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registration finished.
16:44:04:833  INFO 30116 --- [SpringContextShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown rpc client, set status to shutdown
16:44:04:833  INFO 30116 --- [SpringContextShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@3498cb3[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
16:44:04:833  INFO 30116 --- [SpringContextShutdownHook] com.alibaba.nacos.common.remote.client   : Close current connection 1719563989626_192.168.15.235_23334
16:44:04:838  INFO 30116 --- [nacos-grpc-client-executor-70] c.a.n.c.remote.client.grpc.GrpcClient    : [1719563989626_192.168.15.235_23334]Ignore complete event,isRunning:false,isAbandon=false
16:44:04:841  INFO 30116 --- [SpringContextShutdownHook] c.a.n.c.remote.client.grpc.GrpcClient    : Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@528173de[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 71]
16:44:04:853  INFO 30116 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
16:44:04:868  INFO 30116 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
16:44:04:874  INFO 30116 --- [SpringContextShutdownHook] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is already stopped
16:44:04:875  INFO 30116 --- [SpringContextShutdownHook] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is already stopped
16:44:04:880  INFO 30116 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : channel inactive: [id: 0x3220cd5a, L:/192.168.15.235:23312 ! R:/192.168.15.215:8099]
16:44:04:880  INFO 30116 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.netty.NettyClientChannelManager  : return to pool, rm channel:[id: 0x3220cd5a, L:/192.168.15.235:23312 ! R:/192.168.15.215:8099]
16:44:04:880  INFO 30116 --- [NettyClientSelector_TMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : channel valid false,channel:[id: 0x3220cd5a, L:/192.168.15.235:23312 ! R:/192.168.15.215:8099]
16:44:04:881  INFO 30116 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : channel inactive: [id: 0xc54e6de0, L:/192.168.15.235:23317 ! R:/192.168.15.215:8099]
16:44:04:881  INFO 30116 --- [NettyClientSelector_TMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : will destroy channel:[id: 0x3220cd5a, L:/192.168.15.235:23312 ! R:/192.168.15.215:8099]
16:44:04:881  INFO 30116 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.netty.NettyClientChannelManager  : return to pool, rm channel:[id: 0xc54e6de0, L:/192.168.15.235:23317 ! R:/192.168.15.215:8099]
16:44:04:881  INFO 30116 --- [NettyClientSelector_RMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : channel valid false,channel:[id: 0xc54e6de0, L:/192.168.15.235:23317 ! R:/192.168.15.215:8099]
16:44:04:881  INFO 30116 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x3220cd5a, L:/192.168.15.235:23312 ! R:/192.168.15.215:8099]) will closed
16:44:04:881  INFO 30116 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x3220cd5a, L:/192.168.15.235:23312 ! R:/192.168.15.215:8099]) will closed
16:44:04:882  INFO 30116 --- [NettyClientSelector_RMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : will destroy channel:[id: 0xc54e6de0, L:/192.168.15.235:23317 ! R:/192.168.15.215:8099]
16:44:04:882  INFO 30116 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0xc54e6de0, L:/192.168.15.235:23317 ! R:/192.168.15.215:8099]) will closed
16:44:04:882  INFO 30116 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0xc54e6de0, L:/192.168.15.235:23317 ! R:/192.168.15.215:8099]) will closed
16:44:15:028  INFO 10684 --- [main] com.hmall.trade.TradeApplication         : The following 1 profile is active: "local"
16:44:15:731  INFO 10684 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
16:44:15:732  INFO 10684 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
16:44:15:757  INFO 10684 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
16:44:15:958  INFO 10684 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=7531f02f-4db1-3eac-b513-63c7cb60005a
16:44:16:013  INFO 10684 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:44:16:013  INFO 10684 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springApplicationContextProvider' of type [io.seata.spring.boot.autoconfigure.provider.SpringApplicationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:44:16:013  INFO 10684 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'io.seata.spring.boot.autoconfigure.SeataAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:44:16:037  INFO 10684 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'failureHandler' of type [io.seata.tm.api.DefaultFailureHandlerImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:44:16:039  INFO 10684 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:44:16:040  INFO 10684 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:44:16:040  INFO 10684 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$591/0x000000080069c840] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:44:16:041  INFO 10684 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:44:16:044  INFO 10684 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springCloudAlibabaConfiguration' of type [io.seata.spring.boot.autoconfigure.properties.SpringCloudAlibabaConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:44:16:046  INFO 10684 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'seataProperties' of type [io.seata.spring.boot.autoconfigure.properties.SeataProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:44:16:048  INFO 10684 --- [main] i.s.s.b.a.SeataAutoConfiguration         : Automatically configure Seata
16:44:16:102  INFO 10684 --- [main] io.seata.config.ConfigurationFactory     : load Configuration from :Spring Configuration
16:44:16:108  INFO 10684 --- [main] io.seata.config.ConfigurationFactory     : load Configuration from :Spring Configuration
16:44:16:173  INFO 10684 --- [main] i.s.s.a.GlobalTransactionScanner         : Initializing Global Transaction Clients ... 
16:44:16:242  INFO 10684 --- [main] i.s.core.rpc.netty.NettyClientBootstrap  : NettyClientBootstrap has started
16:44:16:391  INFO 10684 --- [main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of 070468cb-9698-48ba-a668-f64d275f3412
16:44:16:391  INFO 10684 --- [main] com.alibaba.nacos.common.remote.client   : [070468cb-9698-48ba-a668-f64d275f3412] RpcClient init label, labels = {module=naming, source=sdk}
16:44:16:393  INFO 10684 --- [main] com.alibaba.nacos.common.remote.client   : [070468cb-9698-48ba-a668-f64d275f3412] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
16:44:16:393  INFO 10684 --- [main] com.alibaba.nacos.common.remote.client   : [070468cb-9698-48ba-a668-f64d275f3412] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
16:44:16:393  INFO 10684 --- [main] com.alibaba.nacos.common.remote.client   : [070468cb-9698-48ba-a668-f64d275f3412] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
16:44:16:393  INFO 10684 --- [main] com.alibaba.nacos.common.remote.client   : [070468cb-9698-48ba-a668-f64d275f3412] Try to connect to server on start up, server: {serverIp = '192.168.15.215', server main port = 8848}
16:44:16:510  INFO 10684 --- [main] com.alibaba.nacos.common.remote.client   : [070468cb-9698-48ba-a668-f64d275f3412] Success to connect to server [192.168.15.215:8848] on start up, connectionId = 1719564256673_192.168.15.235_24086
16:44:16:510  INFO 10684 --- [main] com.alibaba.nacos.common.remote.client   : [070468cb-9698-48ba-a668-f64d275f3412] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
16:44:16:510  INFO 10684 --- [main] com.alibaba.nacos.common.remote.client   : [070468cb-9698-48ba-a668-f64d275f3412] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$470/0x000000080042b840
16:44:16:510  INFO 10684 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [070468cb-9698-48ba-a668-f64d275f3412] Notify connected event to listeners.
16:44:16:534  INFO 10684 --- [main] i.s.c.r.netty.NettyClientChannelManager  : will connect to 192.168.15.215:8099
16:44:17:033  INFO 10684 --- [nacos-grpc-client-executor-5] com.alibaba.nacos.common.remote.client   : [070468cb-9698-48ba-a668-f64d275f3412] Receive server push request, request = NotifySubscriberRequest, requestId = 65
16:44:17:035  INFO 10684 --- [nacos-grpc-client-executor-5] com.alibaba.nacos.common.remote.client   : [070468cb-9698-48ba-a668-f64d275f3412] Ack server push request, request = NotifySubscriberRequest, requestId = 65
16:44:17:384  INFO 10684 --- [main] i.s.core.rpc.netty.NettyPoolableFactory  : NettyPool create channel to transactionRole:TMROLE,address:192.168.15.215:8099,msg:< RegisterTMRequest{applicationId='trade-service', transactionServiceGroup='hmall'} >
16:44:18:245  INFO 10684 --- [main] i.s.c.rpc.netty.TmNettyRemotingClient    : register TM success. client version:1.5.2, server version:1.5.2,channel:[id: 0x708b69fa, L:/192.168.15.235:24088 - R:/192.168.15.215:8099]
16:44:18:248  INFO 10684 --- [main] i.s.core.rpc.netty.NettyPoolableFactory  : register success, cost 41 ms, version:1.5.2,role:TMROLE,channel:[id: 0x708b69fa, L:/192.168.15.235:24088 - R:/192.168.15.215:8099]
16:44:18:249  INFO 10684 --- [main] i.s.s.a.GlobalTransactionScanner         : Transaction Manager Client is initialized. applicationId[trade-service] txServiceGroup[hmall]
16:44:18:255  INFO 10684 --- [main] io.seata.rm.datasource.AsyncWorker       : Async Commit Buffer Limit: 10000
16:44:18:256  INFO 10684 --- [main] i.s.rm.datasource.xa.ResourceManagerXA   : ResourceManagerXA init ...
16:44:18:261  INFO 10684 --- [main] i.s.core.rpc.netty.NettyClientBootstrap  : NettyClientBootstrap has started
16:44:18:261  INFO 10684 --- [main] i.s.s.a.GlobalTransactionScanner         : Resource Manager is initialized. applicationId[trade-service] txServiceGroup[hmall]
16:44:18:261  INFO 10684 --- [main] i.s.s.a.GlobalTransactionScanner         : Global Transaction Clients are initialized. 
16:44:18:263  INFO 10684 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'io.seata.spring.boot.autoconfigure.SeataDataSourceAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataDataSourceAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:44:18:326  INFO 10684 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'com.alibaba.cloud.seata.feign.SeataFeignClientAutoConfiguration$FeignBeanPostProcessorConfiguration' of type [com.alibaba.cloud.seata.feign.SeataFeignClientAutoConfiguration$FeignBeanPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:44:18:327  INFO 10684 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'seataFeignObjectWrapper' of type [com.alibaba.cloud.seata.feign.SeataFeignObjectWrapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:44:18:517  INFO 10684 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8085 (http)
16:44:18:525  INFO 10684 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
16:44:18:525  INFO 10684 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.75]
16:44:18:679  INFO 10684 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
16:44:18:679  INFO 10684 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3638 ms
16:44:18:828  INFO 10684 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'item-service' URL not provided. Will try picking an instance via load-balancing.
16:44:18:951  INFO 10684 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
16:44:19:120  INFO 10684 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
16:44:19:165  INFO 10684 --- [main] i.s.c.r.netty.NettyClientChannelManager  : will connect to 192.168.15.215:8099
16:44:19:165  INFO 10684 --- [main] i.s.c.rpc.netty.RmNettyRemotingClient    : RM will register :jdbc:mysql://192.168.15.215:3306/hm-trade
16:44:19:165  INFO 10684 --- [main] i.s.core.rpc.netty.NettyPoolableFactory  : NettyPool create channel to transactionRole:RMROLE,address:192.168.15.215:8099,msg:< RegisterRMRequest{resourceIds='jdbc:mysql://192.168.15.215:3306/hm-trade', applicationId='trade-service', transactionServiceGroup='hmall'} >
16:44:19:173  INFO 10684 --- [main] i.s.c.rpc.netty.RmNettyRemotingClient    : register RM success. client version:1.5.2, server version:1.5.2,channel:[id: 0x96cda6d7, L:/192.168.15.235:24092 - R:/192.168.15.215:8099]
16:44:19:173  INFO 10684 --- [main] i.s.core.rpc.netty.NettyPoolableFactory  : register success, cost 5 ms, version:1.5.2,role:RMROLE,channel:[id: 0x96cda6d7, L:/192.168.15.235:24092 - R:/192.168.15.215:8099]
16:44:22:179  INFO 10684 --- [main] i.s.s.a.GlobalTransactionScanner         : Bean[com.hmall.trade.service.impl.OrderServiceImpl$$EnhancerBySpringCGLIB$$b6120094] with name [orderServiceImpl] would use interceptor [io.seata.spring.annotation.GlobalTransactionalInterceptor]
16:44:23:816  INFO 10684 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)]
16:44:25:459  INFO 10684 --- [main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of 3a0a010f-5c41-4edc-9349-c579128c3e13
16:44:25:459  INFO 10684 --- [main] com.alibaba.nacos.common.remote.client   : [3a0a010f-5c41-4edc-9349-c579128c3e13] RpcClient init label, labels = {module=naming, source=sdk}
16:44:25:460  INFO 10684 --- [main] com.alibaba.nacos.common.remote.client   : [3a0a010f-5c41-4edc-9349-c579128c3e13] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
16:44:25:460  INFO 10684 --- [main] com.alibaba.nacos.common.remote.client   : [3a0a010f-5c41-4edc-9349-c579128c3e13] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
16:44:25:460  INFO 10684 --- [main] com.alibaba.nacos.common.remote.client   : [3a0a010f-5c41-4edc-9349-c579128c3e13] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
16:44:25:460  INFO 10684 --- [main] com.alibaba.nacos.common.remote.client   : [3a0a010f-5c41-4edc-9349-c579128c3e13] Try to connect to server on start up, server: {serverIp = '192.168.15.215', server main port = 8848}
16:44:25:583  INFO 10684 --- [main] com.alibaba.nacos.common.remote.client   : [3a0a010f-5c41-4edc-9349-c579128c3e13] Success to connect to server [192.168.15.215:8848] on start up, connectionId = 1719564265742_192.168.15.235_24178
16:44:25:583  INFO 10684 --- [main] com.alibaba.nacos.common.remote.client   : [3a0a010f-5c41-4edc-9349-c579128c3e13] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
16:44:25:583  INFO 10684 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [3a0a010f-5c41-4edc-9349-c579128c3e13] Notify connected event to listeners.
16:44:25:583  INFO 10684 --- [main] com.alibaba.nacos.common.remote.client   : [3a0a010f-5c41-4edc-9349-c579128c3e13] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$470/0x000000080042b840
16:44:25:597  INFO 10684 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8085 (http) with context path ''
16:44:25:604  INFO 10684 --- [main] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP trade-service 192.168.209.1:8085 register finished
16:44:26:163  INFO 10684 --- [nacos-grpc-client-executor-6] com.alibaba.nacos.common.remote.client   : [3a0a010f-5c41-4edc-9349-c579128c3e13] Receive server push request, request = NotifySubscriberRequest, requestId = 67
16:44:26:163  INFO 10684 --- [nacos-grpc-client-executor-6] com.alibaba.nacos.common.remote.client   : [3a0a010f-5c41-4edc-9349-c579128c3e13] Ack server push request, request = NotifySubscriberRequest, requestId = 67
16:44:26:792  INFO 10684 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Documentation plugins bootstrapped
16:44:26:795  INFO 10684 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
16:44:26:811  INFO 10684 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
16:44:26:868  INFO 10684 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.15.215:5672]
16:44:26:900  INFO 10684 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#6e7d9d0:0/SimpleConnection@65c97eeb [delegate=amqp://hmall@192.168.15.215:5672//hmall, localPort= 24185]
16:44:26:953  INFO 10684 --- [main] com.hmall.trade.TradeApplication         : Started TradeApplication in 18.729 seconds (JVM running for 20.348)
16:44:26:957  INFO 10684 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=trade-service, group=DEFAULT_GROUP
16:44:26:958  INFO 10684 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=trade-service-local.yaml, group=DEFAULT_GROUP
16:44:26:958  INFO 10684 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=trade-service.yaml, group=DEFAULT_GROUP
16:56:22:971  INFO 10684 --- [http-nio-8085-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
16:56:22:973  INFO 10684 --- [http-nio-8085-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
16:56:22:984  INFO 10684 --- [http-nio-8085-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 11 ms
16:56:23:054  INFO 10684 --- [http-nio-8085-exec-1] io.seata.tm.TransactionManagerHolder     : TransactionManager Singleton io.seata.tm.DefaultTransactionManager@53ca9b2b
16:56:23:085  INFO 10684 --- [http-nio-8085-exec-1] i.seata.tm.api.DefaultGlobalTransaction  : Begin new global transaction [192.168.15.215:8099:81601879587349681]
16:56:23:110 DEBUG 10684 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] ---> GET http://item-service/items?ids=8533120&ids=100001511821 HTTP/1.1
16:56:23:110 DEBUG 10684 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] user-info: 1
16:56:23:110 DEBUG 10684 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] ---> END HTTP (0-byte body)
16:56:23:737 DEBUG 10684 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] <--- HTTP/1.1 200 (625ms)
16:56:23:737 DEBUG 10684 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] connection: keep-alive
16:56:23:737 DEBUG 10684 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] content-type: application/json
16:56:23:737 DEBUG 10684 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] date: Fri, 28 Jun 2024 08:56:23 GMT
16:56:23:737 DEBUG 10684 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] keep-alive: timeout=60
16:56:23:737 DEBUG 10684 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] transfer-encoding: chunked
16:56:23:737 DEBUG 10684 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] 
16:56:23:737 DEBUG 10684 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] [{"id":"8533120","name":"海尔 （Haier ）LQ65H31 65英寸 4K曲面人工智能全面屏超高清LED液晶电视","price":379500,"stock":9995,"image":"https://m.360buyimg.com/mobilecms/s720x720_jfs/t1/2851/14/13998/101463/5bd9723cE81b2c299/1bfdf2d1628648e4.jpg!q70.jpg.webp","category":"曲面电视","brand":"海尔","spec":"{}","sold":0,"commentCount":0,"isAD":false,"status":1},{"id":"100001511821","name":"HMDIME 牛仔背带裤女2018秋冬新品 韩版学院风潮流百搭弹力修身补丁学生吊带长裤女 AXNZ369 深蓝 30","price":13700,"stock":9998,"image":"https://m.360buyimg.com/mobilecms/s720x720_jfs/t30892/263/313055374/557791/c98e9abc/5bef811aN036f7c3b.jpg!q70.jpg.webp","category":"牛仔裤","brand":"HMDIME","spec":"{\"颜色\": \"蓝色\", \"尺码\": \"30\"}","sold":0,"commentCount":0,"isAD":false,"status":1}]
16:56:23:737 DEBUG 10684 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] <--- END HTTP (841-byte body)
16:56:23:756  INFO 10684 --- [nacos-grpc-client-executor-153] com.alibaba.nacos.common.remote.client   : [3a0a010f-5c41-4edc-9349-c579128c3e13] Receive server push request, request = NotifySubscriberRequest, requestId = 84
16:56:23:756  INFO 10684 --- [nacos-grpc-client-executor-153] com.alibaba.nacos.common.remote.client   : [3a0a010f-5c41-4edc-9349-c579128c3e13] Ack server push request, request = NotifySubscriberRequest, requestId = 84
16:56:23:777 DEBUG 10684 --- [http-nio-8085-exec-1] c.hmall.trade.mapper.OrderMapper.insert  : ==>  Preparing: INSERT INTO `order` ( id, total_fee, payment_type, user_id, status ) VALUES ( ?, ?, ?, ?, ? )
16:56:23:931 DEBUG 10684 --- [http-nio-8085-exec-1] c.hmall.trade.mapper.OrderMapper.insert  : ==> Parameters: 1806612600155287553(Long), 393200(Integer), 3(Integer), 1(Long), 1(Integer)
16:56:23:956 DEBUG 10684 --- [http-nio-8085-exec-1] c.hmall.trade.mapper.OrderMapper.insert  : <==    Updates: 1
16:56:23:966 DEBUG 10684 --- [http-nio-8085-exec-1] c.h.t.mapper.OrderDetailMapper.insert    : ==>  Preparing: INSERT INTO order_detail ( order_id, item_id, num, name, spec, price, image ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
16:56:23:967 DEBUG 10684 --- [http-nio-8085-exec-1] c.h.t.mapper.OrderDetailMapper.insert    : ==> Parameters: 1806612600155287553(Long), 8533120(Long), 1(Integer), 海尔 （Haier ）LQ65H31 65英寸 4K曲面人工智能全面屏超高清LED液晶电视(String), {}(String), 379500(Integer), https://m.360buyimg.com/mobilecms/s720x720_jfs/t1/2851/14/13998/101463/5bd9723cE81b2c299/1bfdf2d1628648e4.jpg!q70.jpg.webp(String)
16:56:23:968 DEBUG 10684 --- [http-nio-8085-exec-1] c.h.t.mapper.OrderDetailMapper.insert    : ==> Parameters: 1806612600155287553(Long), 100001511821(Long), 1(Integer), HMDIME 牛仔背带裤女2018秋冬新品 韩版学院风潮流百搭弹力修身补丁学生吊带长裤女 AXNZ369 深蓝 30(String), {"颜色": "蓝色", "尺码": "30"}(String), 13700(Integer), https://m.360buyimg.com/mobilecms/s720x720_jfs/t30892/263/313055374/557791/c98e9abc/5bef811aN036f7c3b.jpg!q70.jpg.webp(String)
16:56:24:029 DEBUG 10684 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] ---> PUT http://item-service/items/stock/deduct HTTP/1.1
16:56:24:030 DEBUG 10684 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] Content-Length: 64
16:56:24:030 DEBUG 10684 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] Content-Type: application/json
16:56:24:030 DEBUG 10684 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] user-info: 1
16:56:24:030 DEBUG 10684 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] 
16:56:24:030 DEBUG 10684 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] [{"itemId":"8533120","num":1},{"itemId":"100001511821","num":1}]
16:56:24:030 DEBUG 10684 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] ---> END HTTP (64-byte body)
16:56:24:098 DEBUG 10684 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] <--- HTTP/1.1 200 (67ms)
16:56:24:098 DEBUG 10684 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] connection: keep-alive
16:56:24:099 DEBUG 10684 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] content-length: 0
16:56:24:099 DEBUG 10684 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] date: Fri, 28 Jun 2024 08:56:23 GMT
16:56:24:099 DEBUG 10684 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] keep-alive: timeout=60
16:56:24:099 DEBUG 10684 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] 
16:56:24:099 DEBUG 10684 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] <--- END HTTP (0-byte body)
16:56:24:194  INFO 10684 --- [http-nio-8085-exec-1] i.seata.tm.api.DefaultGlobalTransaction  : Suspending current transaction, xid = 192.168.15.215:8099:81601879587349681
16:56:24:194  INFO 10684 --- [http-nio-8085-exec-1] i.seata.tm.api.DefaultGlobalTransaction  : [192.168.15.215:8099:81601879587349681] commit status: Committed
16:56:24:374 DEBUG 10684 --- [http-nio-8085-exec-2] c.h.trade.mapper.OrderMapper.selectById  : ==>  Preparing: SELECT id,total_fee,payment_type,user_id,status,create_time,pay_time,consign_time,end_time,close_time,comment_time,update_time FROM `order` WHERE id=?
16:56:24:375 DEBUG 10684 --- [http-nio-8085-exec-2] c.h.trade.mapper.OrderMapper.selectById  : ==> Parameters: 1806612600155287553(Long)
16:56:24:385 DEBUG 10684 --- [http-nio-8085-exec-2] c.h.trade.mapper.OrderMapper.selectById  : <==      Total: 1
16:56:25:192  INFO 10684 --- [rpcDispatch_RMROLE_1_1_24] i.s.c.r.p.c.RmBranchCommitProcessor      : rm client handle branch commit process:xid=192.168.15.215:8099:81601879587349681,branchId=81601879587349686,branchType=AT,resourceId=jdbc:mysql://192.168.15.215:3306/hm-trade,applicationData={"autoCommit":false,"skipCheckLock":true}
16:56:25:195  INFO 10684 --- [rpcDispatch_RMROLE_1_1_24] io.seata.rm.AbstractRMHandler            : Branch committing: 192.168.15.215:8099:81601879587349681 81601879587349686 jdbc:mysql://192.168.15.215:3306/hm-trade {"autoCommit":false,"skipCheckLock":true}
16:56:25:196  INFO 10684 --- [rpcDispatch_RMROLE_1_1_24] io.seata.rm.AbstractRMHandler            : Branch commit result: PhaseTwo_Committed
17:09:14:525  WARN 10684 --- [Thread-5] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Start destroying Publisher
17:09:14:525  WARN 10684 --- [Thread-1] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Start destroying common HttpClient
17:09:14:527  WARN 10684 --- [Thread-5] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Destruction of the end
17:09:14:530  WARN 10684 --- [Thread-1] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Destruction of the end
17:09:14:560  INFO 10684 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
17:09:15:055  INFO 10684 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
17:09:15:970  INFO 10684 --- [SpringContextShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registering from Nacos Server now...
17:09:15:973  INFO 10684 --- [SpringContextShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registration finished.
17:09:16:297  INFO 10684 --- [SpringContextShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown rpc client, set status to shutdown
17:09:16:297  INFO 10684 --- [SpringContextShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@e7164ac[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
17:09:16:297  INFO 10684 --- [SpringContextShutdownHook] com.alibaba.nacos.common.remote.client   : Close current connection 1719564265742_192.168.15.235_24178
17:09:16:299  INFO 10684 --- [nacos-grpc-client-executor-323] c.a.n.c.remote.client.grpc.GrpcClient    : [1719564265742_192.168.15.235_24178]Ignore complete event,isRunning:false,isAbandon=false
17:09:16:303  INFO 10684 --- [SpringContextShutdownHook] c.a.n.c.remote.client.grpc.GrpcClient    : Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@10d13d5[Running, pool size = 5, active threads = 0, queued tasks = 0, completed tasks = 324]
17:09:16:316  INFO 10684 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
17:09:16:330  INFO 10684 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
17:09:16:331  INFO 10684 --- [SpringContextShutdownHook] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is already stopped
17:09:16:337  INFO 10684 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : channel inactive: [id: 0x708b69fa, L:/192.168.15.235:24088 ! R:/192.168.15.215:8099]
17:09:16:337  INFO 10684 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.netty.NettyClientChannelManager  : return to pool, rm channel:[id: 0x708b69fa, L:/192.168.15.235:24088 ! R:/192.168.15.215:8099]
17:09:16:338  INFO 10684 --- [NettyClientSelector_TMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : channel valid false,channel:[id: 0x708b69fa, L:/192.168.15.235:24088 ! R:/192.168.15.215:8099]
17:09:16:337  INFO 10684 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : channel inactive: [id: 0x96cda6d7, L:/192.168.15.235:24092 ! R:/192.168.15.215:8099]
17:09:16:338  INFO 10684 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.netty.NettyClientChannelManager  : return to pool, rm channel:[id: 0x96cda6d7, L:/192.168.15.235:24092 ! R:/192.168.15.215:8099]
17:09:16:338  INFO 10684 --- [NettyClientSelector_TMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : will destroy channel:[id: 0x708b69fa, L:/192.168.15.235:24088 ! R:/192.168.15.215:8099]
17:09:16:338  INFO 10684 --- [NettyClientSelector_RMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : channel valid false,channel:[id: 0x96cda6d7, L:/192.168.15.235:24092 ! R:/192.168.15.215:8099]
17:09:16:339  INFO 10684 --- [NettyClientSelector_RMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : will destroy channel:[id: 0x96cda6d7, L:/192.168.15.235:24092 ! R:/192.168.15.215:8099]
17:09:16:339  INFO 10684 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x708b69fa, L:/192.168.15.235:24088 ! R:/192.168.15.215:8099]) will closed
17:09:16:339  INFO 10684 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x96cda6d7, L:/192.168.15.235:24092 ! R:/192.168.15.215:8099]) will closed
17:09:16:339  INFO 10684 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x708b69fa, L:/192.168.15.235:24088 ! R:/192.168.15.215:8099]) will closed
17:09:16:339  INFO 10684 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x96cda6d7, L:/192.168.15.235:24092 ! R:/192.168.15.215:8099]) will closed
17:09:27:781  INFO 28648 --- [main] com.hmall.trade.TradeApplication         : The following 1 profile is active: "local"
17:09:28:432  INFO 28648 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
17:09:28:434  INFO 28648 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
17:09:28:459  INFO 28648 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
17:09:28:624  INFO 28648 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=7531f02f-4db1-3eac-b513-63c7cb60005a
17:09:28:669  INFO 28648 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
17:09:28:669  INFO 28648 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springApplicationContextProvider' of type [io.seata.spring.boot.autoconfigure.provider.SpringApplicationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
17:09:28:669  INFO 28648 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'io.seata.spring.boot.autoconfigure.SeataAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
17:09:28:694  INFO 28648 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'failureHandler' of type [io.seata.tm.api.DefaultFailureHandlerImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
17:09:28:696  INFO 28648 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
17:09:28:697  INFO 28648 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
17:09:28:697  INFO 28648 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$591/0x000000080069d840] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
17:09:28:697  INFO 28648 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
17:09:28:700  INFO 28648 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springCloudAlibabaConfiguration' of type [io.seata.spring.boot.autoconfigure.properties.SpringCloudAlibabaConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
17:09:28:701  INFO 28648 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'seataProperties' of type [io.seata.spring.boot.autoconfigure.properties.SeataProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
17:09:28:703  INFO 28648 --- [main] i.s.s.b.a.SeataAutoConfiguration         : Automatically configure Seata
17:09:28:745  INFO 28648 --- [main] io.seata.config.ConfigurationFactory     : load Configuration from :Spring Configuration
17:09:28:749  INFO 28648 --- [main] io.seata.config.ConfigurationFactory     : load Configuration from :Spring Configuration
17:09:28:798  INFO 28648 --- [main] i.s.s.a.GlobalTransactionScanner         : Initializing Global Transaction Clients ... 
17:09:28:842  INFO 28648 --- [main] i.s.core.rpc.netty.NettyClientBootstrap  : NettyClientBootstrap has started
17:09:28:955  INFO 28648 --- [main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of 45abb6e7-759b-4a5b-84f8-422a09a93992
17:09:28:956  INFO 28648 --- [main] com.alibaba.nacos.common.remote.client   : [45abb6e7-759b-4a5b-84f8-422a09a93992] RpcClient init label, labels = {module=naming, source=sdk}
17:09:28:957  INFO 28648 --- [main] com.alibaba.nacos.common.remote.client   : [45abb6e7-759b-4a5b-84f8-422a09a93992] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
17:09:28:957  INFO 28648 --- [main] com.alibaba.nacos.common.remote.client   : [45abb6e7-759b-4a5b-84f8-422a09a93992] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
17:09:28:957  INFO 28648 --- [main] com.alibaba.nacos.common.remote.client   : [45abb6e7-759b-4a5b-84f8-422a09a93992] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
17:09:28:957  INFO 28648 --- [main] com.alibaba.nacos.common.remote.client   : [45abb6e7-759b-4a5b-84f8-422a09a93992] Try to connect to server on start up, server: {serverIp = '192.168.15.215', server main port = 8848}
17:09:29:084  INFO 28648 --- [main] com.alibaba.nacos.common.remote.client   : [45abb6e7-759b-4a5b-84f8-422a09a93992] Success to connect to server [192.168.15.215:8848] on start up, connectionId = 1719565769246_192.168.15.235_47022
17:09:29:084  INFO 28648 --- [main] com.alibaba.nacos.common.remote.client   : [45abb6e7-759b-4a5b-84f8-422a09a93992] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
17:09:29:084  INFO 28648 --- [main] com.alibaba.nacos.common.remote.client   : [45abb6e7-759b-4a5b-84f8-422a09a93992] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$470/0x000000080042b840
17:09:29:084  INFO 28648 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [45abb6e7-759b-4a5b-84f8-422a09a93992] Notify connected event to listeners.
17:09:29:110  INFO 28648 --- [main] i.s.c.r.netty.NettyClientChannelManager  : will connect to 192.168.15.215:8099
17:09:29:651  INFO 28648 --- [nacos-grpc-client-executor-5] com.alibaba.nacos.common.remote.client   : [45abb6e7-759b-4a5b-84f8-422a09a93992] Receive server push request, request = NotifySubscriberRequest, requestId = 88
17:09:29:652  INFO 28648 --- [nacos-grpc-client-executor-5] com.alibaba.nacos.common.remote.client   : [45abb6e7-759b-4a5b-84f8-422a09a93992] Ack server push request, request = NotifySubscriberRequest, requestId = 88
17:09:29:925  INFO 28648 --- [main] i.s.core.rpc.netty.NettyPoolableFactory  : NettyPool create channel to transactionRole:TMROLE,address:192.168.15.215:8099,msg:< RegisterTMRequest{applicationId='trade-service', transactionServiceGroup='hmall'} >
17:09:30:803  INFO 28648 --- [main] i.s.c.rpc.netty.TmNettyRemotingClient    : register TM success. client version:1.5.2, server version:1.5.2,channel:[id: 0xc9491de6, L:/192.168.15.235:47025 - R:/192.168.15.215:8099]
17:09:30:808  INFO 28648 --- [main] i.s.core.rpc.netty.NettyPoolableFactory  : register success, cost 41 ms, version:1.5.2,role:TMROLE,channel:[id: 0xc9491de6, L:/192.168.15.235:47025 - R:/192.168.15.215:8099]
17:09:30:808  INFO 28648 --- [main] i.s.s.a.GlobalTransactionScanner         : Transaction Manager Client is initialized. applicationId[trade-service] txServiceGroup[hmall]
17:09:30:815  INFO 28648 --- [main] io.seata.rm.datasource.AsyncWorker       : Async Commit Buffer Limit: 10000
17:09:30:816  INFO 28648 --- [main] i.s.rm.datasource.xa.ResourceManagerXA   : ResourceManagerXA init ...
17:09:30:822  INFO 28648 --- [main] i.s.core.rpc.netty.NettyClientBootstrap  : NettyClientBootstrap has started
17:09:30:822  INFO 28648 --- [main] i.s.s.a.GlobalTransactionScanner         : Resource Manager is initialized. applicationId[trade-service] txServiceGroup[hmall]
17:09:30:822  INFO 28648 --- [main] i.s.s.a.GlobalTransactionScanner         : Global Transaction Clients are initialized. 
17:09:30:824  INFO 28648 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'io.seata.spring.boot.autoconfigure.SeataDataSourceAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataDataSourceAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
17:09:30:882  INFO 28648 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'com.alibaba.cloud.seata.feign.SeataFeignClientAutoConfiguration$FeignBeanPostProcessorConfiguration' of type [com.alibaba.cloud.seata.feign.SeataFeignClientAutoConfiguration$FeignBeanPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
17:09:30:884  INFO 28648 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'seataFeignObjectWrapper' of type [com.alibaba.cloud.seata.feign.SeataFeignObjectWrapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
17:09:31:075  INFO 28648 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8085 (http)
17:09:31:083  INFO 28648 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
17:09:31:083  INFO 28648 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.75]
17:09:31:235  INFO 28648 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
17:09:31:235  INFO 28648 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3444 ms
17:09:31:399  INFO 28648 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'item-service' URL not provided. Will try picking an instance via load-balancing.
17:09:31:549  INFO 28648 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
17:09:31:727  INFO 28648 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
17:09:31:775  INFO 28648 --- [main] i.s.c.r.netty.NettyClientChannelManager  : will connect to 192.168.15.215:8099
17:09:31:775  INFO 28648 --- [main] i.s.c.rpc.netty.RmNettyRemotingClient    : RM will register :jdbc:mysql://192.168.15.215:3306/hm-trade
17:09:31:775  INFO 28648 --- [main] i.s.core.rpc.netty.NettyPoolableFactory  : NettyPool create channel to transactionRole:RMROLE,address:192.168.15.215:8099,msg:< RegisterRMRequest{resourceIds='jdbc:mysql://192.168.15.215:3306/hm-trade', applicationId='trade-service', transactionServiceGroup='hmall'} >
17:09:31:786  INFO 28648 --- [main] i.s.c.rpc.netty.RmNettyRemotingClient    : register RM success. client version:1.5.2, server version:1.5.2,channel:[id: 0x069d79b0, L:/192.168.15.235:47033 - R:/192.168.15.215:8099]
17:09:31:786  INFO 28648 --- [main] i.s.core.rpc.netty.NettyPoolableFactory  : register success, cost 8 ms, version:1.5.2,role:RMROLE,channel:[id: 0x069d79b0, L:/192.168.15.235:47033 - R:/192.168.15.215:8099]
17:09:34:767  INFO 28648 --- [main] i.s.s.a.GlobalTransactionScanner         : Bean[com.hmall.trade.service.impl.OrderServiceImpl$$EnhancerBySpringCGLIB$$201471f9] with name [orderServiceImpl] would use interceptor [io.seata.spring.annotation.GlobalTransactionalInterceptor]
17:09:36:306  INFO 28648 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)]
17:09:37:784  INFO 28648 --- [main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of 8c9b25fe-b63c-4e91-853b-123a17be33d9
17:09:37:784  INFO 28648 --- [main] com.alibaba.nacos.common.remote.client   : [8c9b25fe-b63c-4e91-853b-123a17be33d9] RpcClient init label, labels = {module=naming, source=sdk}
17:09:37:784  INFO 28648 --- [main] com.alibaba.nacos.common.remote.client   : [8c9b25fe-b63c-4e91-853b-123a17be33d9] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
17:09:37:784  INFO 28648 --- [main] com.alibaba.nacos.common.remote.client   : [8c9b25fe-b63c-4e91-853b-123a17be33d9] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
17:09:37:784  INFO 28648 --- [main] com.alibaba.nacos.common.remote.client   : [8c9b25fe-b63c-4e91-853b-123a17be33d9] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
17:09:37:784  INFO 28648 --- [main] com.alibaba.nacos.common.remote.client   : [8c9b25fe-b63c-4e91-853b-123a17be33d9] Try to connect to server on start up, server: {serverIp = '192.168.15.215', server main port = 8848}
17:09:37:904  INFO 28648 --- [main] com.alibaba.nacos.common.remote.client   : [8c9b25fe-b63c-4e91-853b-123a17be33d9] Success to connect to server [192.168.15.215:8848] on start up, connectionId = 1719565778072_192.168.15.235_47061
17:09:37:904  INFO 28648 --- [main] com.alibaba.nacos.common.remote.client   : [8c9b25fe-b63c-4e91-853b-123a17be33d9] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
17:09:37:904  INFO 28648 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [8c9b25fe-b63c-4e91-853b-123a17be33d9] Notify connected event to listeners.
17:09:37:904  INFO 28648 --- [main] com.alibaba.nacos.common.remote.client   : [8c9b25fe-b63c-4e91-853b-123a17be33d9] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$470/0x000000080042b840
17:09:37:917  INFO 28648 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8085 (http) with context path ''
17:09:37:923  INFO 28648 --- [main] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP trade-service 192.168.209.1:8085 register finished
17:09:38:479  INFO 28648 --- [nacos-grpc-client-executor-5] com.alibaba.nacos.common.remote.client   : [8c9b25fe-b63c-4e91-853b-123a17be33d9] Receive server push request, request = NotifySubscriberRequest, requestId = 91
17:09:38:481  INFO 28648 --- [nacos-grpc-client-executor-5] com.alibaba.nacos.common.remote.client   : [8c9b25fe-b63c-4e91-853b-123a17be33d9] Ack server push request, request = NotifySubscriberRequest, requestId = 91
17:09:39:130  INFO 28648 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Documentation plugins bootstrapped
17:09:39:133  INFO 28648 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
17:09:39:149  INFO 28648 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
17:09:39:199  INFO 28648 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.15.215:5672]
17:09:39:225  INFO 28648 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#7be85f15:0/SimpleConnection@7b1d3a05 [delegate=amqp://hmall@192.168.15.215:5672//hmall, localPort= 47065]
17:09:39:270  INFO 28648 --- [main] com.hmall.trade.TradeApplication         : Started TradeApplication in 18.155 seconds (JVM running for 19.703)
17:09:39:274  INFO 28648 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=trade-service, group=DEFAULT_GROUP
17:09:39:274  INFO 28648 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=trade-service-local.yaml, group=DEFAULT_GROUP
17:09:39:274  INFO 28648 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=trade-service.yaml, group=DEFAULT_GROUP
17:11:45:374  INFO 28648 --- [http-nio-8085-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
17:11:45:376  INFO 28648 --- [http-nio-8085-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
17:11:45:379  INFO 28648 --- [http-nio-8085-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
17:11:45:421  INFO 28648 --- [http-nio-8085-exec-1] io.seata.tm.TransactionManagerHolder     : TransactionManager Singleton io.seata.tm.DefaultTransactionManager@58726004
17:11:45:452  INFO 28648 --- [http-nio-8085-exec-1] i.seata.tm.api.DefaultGlobalTransaction  : Begin new global transaction [192.168.15.215:8099:81601879587349689]
17:11:45:468 DEBUG 28648 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] ---> GET http://item-service/items?ids=8533120&ids=100001511821 HTTP/1.1
17:11:45:468 DEBUG 28648 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] user-info: 1
17:11:45:468 DEBUG 28648 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] ---> END HTTP (0-byte body)
17:11:46:052  INFO 28648 --- [nacos-grpc-client-executor-35] com.alibaba.nacos.common.remote.client   : [8c9b25fe-b63c-4e91-853b-123a17be33d9] Receive server push request, request = NotifySubscriberRequest, requestId = 98
17:11:46:052  INFO 28648 --- [nacos-grpc-client-executor-35] com.alibaba.nacos.common.remote.client   : [8c9b25fe-b63c-4e91-853b-123a17be33d9] Ack server push request, request = NotifySubscriberRequest, requestId = 98
17:11:46:080 DEBUG 28648 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] <--- HTTP/1.1 200 (612ms)
17:11:46:080 DEBUG 28648 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] connection: keep-alive
17:11:46:080 DEBUG 28648 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] content-type: application/json
17:11:46:080 DEBUG 28648 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] date: Fri, 28 Jun 2024 09:11:46 GMT
17:11:46:080 DEBUG 28648 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] keep-alive: timeout=60
17:11:46:080 DEBUG 28648 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] transfer-encoding: chunked
17:11:46:080 DEBUG 28648 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] 
17:11:46:081 DEBUG 28648 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] [{"id":"8533120","name":"海尔 （Haier ）LQ65H31 65英寸 4K曲面人工智能全面屏超高清LED液晶电视","price":379500,"stock":9994,"image":"https://m.360buyimg.com/mobilecms/s720x720_jfs/t1/2851/14/13998/101463/5bd9723cE81b2c299/1bfdf2d1628648e4.jpg!q70.jpg.webp","category":"曲面电视","brand":"海尔","spec":"{}","sold":0,"commentCount":0,"isAD":false,"status":1},{"id":"100001511821","name":"HMDIME 牛仔背带裤女2018秋冬新品 韩版学院风潮流百搭弹力修身补丁学生吊带长裤女 AXNZ369 深蓝 30","price":13700,"stock":9997,"image":"https://m.360buyimg.com/mobilecms/s720x720_jfs/t30892/263/313055374/557791/c98e9abc/5bef811aN036f7c3b.jpg!q70.jpg.webp","category":"牛仔裤","brand":"HMDIME","spec":"{\"颜色\": \"蓝色\", \"尺码\": \"30\"}","sold":0,"commentCount":0,"isAD":false,"status":1}]
17:11:46:081 DEBUG 28648 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] <--- END HTTP (841-byte body)
17:11:46:114 DEBUG 28648 --- [http-nio-8085-exec-1] c.hmall.trade.mapper.OrderMapper.insert  : ==>  Preparing: INSERT INTO `order` ( id, total_fee, payment_type, user_id, status ) VALUES ( ?, ?, ?, ?, ? )
17:11:46:284 DEBUG 28648 --- [http-nio-8085-exec-1] c.hmall.trade.mapper.OrderMapper.insert  : ==> Parameters: 1806616468721254401(Long), 393200(Integer), 3(Integer), 1(Long), 1(Integer)
17:11:46:307 DEBUG 28648 --- [http-nio-8085-exec-1] c.hmall.trade.mapper.OrderMapper.insert  : <==    Updates: 1
17:11:46:313 DEBUG 28648 --- [http-nio-8085-exec-1] c.h.t.mapper.OrderDetailMapper.insert    : ==>  Preparing: INSERT INTO order_detail ( order_id, item_id, num, name, spec, price, image ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
17:11:46:313 DEBUG 28648 --- [http-nio-8085-exec-1] c.h.t.mapper.OrderDetailMapper.insert    : ==> Parameters: 1806616468721254401(Long), 8533120(Long), 1(Integer), 海尔 （Haier ）LQ65H31 65英寸 4K曲面人工智能全面屏超高清LED液晶电视(String), {}(String), 379500(Integer), https://m.360buyimg.com/mobilecms/s720x720_jfs/t1/2851/14/13998/101463/5bd9723cE81b2c299/1bfdf2d1628648e4.jpg!q70.jpg.webp(String)
17:11:46:314 DEBUG 28648 --- [http-nio-8085-exec-1] c.h.t.mapper.OrderDetailMapper.insert    : ==> Parameters: 1806616468721254401(Long), 100001511821(Long), 1(Integer), HMDIME 牛仔背带裤女2018秋冬新品 韩版学院风潮流百搭弹力修身补丁学生吊带长裤女 AXNZ369 深蓝 30(String), {"颜色": "蓝色", "尺码": "30"}(String), 13700(Integer), https://m.360buyimg.com/mobilecms/s720x720_jfs/t30892/263/313055374/557791/c98e9abc/5bef811aN036f7c3b.jpg!q70.jpg.webp(String)
17:11:46:372 DEBUG 28648 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] ---> PUT http://item-service/items/stock/deduct HTTP/1.1
17:11:46:372 DEBUG 28648 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] Content-Length: 64
17:11:46:372 DEBUG 28648 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] Content-Type: application/json
17:11:46:372 DEBUG 28648 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] user-info: 1
17:11:46:372 DEBUG 28648 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] 
17:11:46:372 DEBUG 28648 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] [{"itemId":"8533120","num":1},{"itemId":"100001511821","num":1}]
17:11:46:372 DEBUG 28648 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] ---> END HTTP (64-byte body)
17:11:46:455 DEBUG 28648 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] <--- HTTP/1.1 200 (83ms)
17:11:46:456 DEBUG 28648 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] connection: keep-alive
17:11:46:456 DEBUG 28648 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] content-length: 0
17:11:46:456 DEBUG 28648 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] date: Fri, 28 Jun 2024 09:11:46 GMT
17:11:46:456 DEBUG 28648 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] keep-alive: timeout=60
17:11:46:456 DEBUG 28648 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] 
17:11:46:456 DEBUG 28648 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] <--- END HTTP (0-byte body)
17:11:46:534  INFO 28648 --- [http-nio-8085-exec-1] i.seata.tm.api.DefaultGlobalTransaction  : Suspending current transaction, xid = 192.168.15.215:8099:81601879587349689
17:11:46:535  INFO 28648 --- [http-nio-8085-exec-1] i.seata.tm.api.DefaultGlobalTransaction  : [192.168.15.215:8099:81601879587349689] commit status: Committed
17:11:46:710 DEBUG 28648 --- [http-nio-8085-exec-2] c.h.trade.mapper.OrderMapper.selectById  : ==>  Preparing: SELECT id,total_fee,payment_type,user_id,status,create_time,pay_time,consign_time,end_time,close_time,comment_time,update_time FROM `order` WHERE id=?
17:11:46:710 DEBUG 28648 --- [http-nio-8085-exec-2] c.h.trade.mapper.OrderMapper.selectById  : ==> Parameters: 1806616468721254401(Long)
17:11:46:720 DEBUG 28648 --- [http-nio-8085-exec-2] c.h.trade.mapper.OrderMapper.selectById  : <==      Total: 1
17:11:47:238  INFO 28648 --- [rpcDispatch_RMROLE_1_1_24] i.s.c.r.p.c.RmBranchCommitProcessor      : rm client handle branch commit process:xid=192.168.15.215:8099:81601879587349689,branchId=81601879587349694,branchType=AT,resourceId=jdbc:mysql://192.168.15.215:3306/hm-trade,applicationData={"autoCommit":false,"skipCheckLock":true}
17:11:47:240  INFO 28648 --- [rpcDispatch_RMROLE_1_1_24] io.seata.rm.AbstractRMHandler            : Branch committing: 192.168.15.215:8099:81601879587349689 81601879587349694 jdbc:mysql://192.168.15.215:3306/hm-trade {"autoCommit":false,"skipCheckLock":true}
17:11:47:240  INFO 28648 --- [rpcDispatch_RMROLE_1_1_24] io.seata.rm.AbstractRMHandler            : Branch commit result: PhaseTwo_Committed
17:17:44:638  INFO 28648 --- [http-nio-8085-exec-4] i.seata.tm.api.DefaultGlobalTransaction  : Begin new global transaction [192.168.15.215:8099:81601879587349697]
17:17:44:649 DEBUG 28648 --- [http-nio-8085-exec-4] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] ---> GET http://item-service/items?ids=14741770661 HTTP/1.1
17:17:44:649 DEBUG 28648 --- [http-nio-8085-exec-4] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] user-info: 1
17:17:44:649 DEBUG 28648 --- [http-nio-8085-exec-4] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] ---> END HTTP (0-byte body)
17:17:45:187 DEBUG 28648 --- [http-nio-8085-exec-4] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] <--- HTTP/1.1 200 (537ms)
17:17:45:188 DEBUG 28648 --- [http-nio-8085-exec-4] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] connection: keep-alive
17:17:45:188 DEBUG 28648 --- [http-nio-8085-exec-4] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] content-type: application/json
17:17:45:188 DEBUG 28648 --- [http-nio-8085-exec-4] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] date: Fri, 28 Jun 2024 09:17:45 GMT
17:17:45:188 DEBUG 28648 --- [http-nio-8085-exec-4] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] keep-alive: timeout=60
17:17:45:188 DEBUG 28648 --- [http-nio-8085-exec-4] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] transfer-encoding: chunked
17:17:45:188 DEBUG 28648 --- [http-nio-8085-exec-4] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] 
17:17:45:188 DEBUG 28648 --- [http-nio-8085-exec-4] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] [{"id":"14741770661","name":"康佳（KONKA） LED49UC3 49英寸超薄曲面36核4K HDR人工智能电视","price":144600,"stock":9990,"image":"https://m.360buyimg.com/mobilecms/s720x720_jfs/t16477/84/2032772431/400946/2887be91/5a912776N7e343ec3.jpg!q70.jpg.webp","category":"曲面电视","brand":"康佳","spec":"{}","sold":0,"commentCount":0,"isAD":false,"status":1}]
17:17:45:188 DEBUG 28648 --- [http-nio-8085-exec-4] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] <--- END HTTP (370-byte body)
17:17:45:194 DEBUG 28648 --- [http-nio-8085-exec-4] c.hmall.trade.mapper.OrderMapper.insert  : ==>  Preparing: INSERT INTO `order` ( id, total_fee, payment_type, user_id, status ) VALUES ( ?, ?, ?, ?, ? )
17:17:45:200 DEBUG 28648 --- [http-nio-8085-exec-4] c.hmall.trade.mapper.OrderMapper.insert  : ==> Parameters: 1806617974778380289(Long), 144600(Integer), 3(Integer), 1(Long), 1(Integer)
17:17:45:206 DEBUG 28648 --- [http-nio-8085-exec-4] c.hmall.trade.mapper.OrderMapper.insert  : <==    Updates: 1
17:17:45:207 DEBUG 28648 --- [http-nio-8085-exec-4] c.h.t.mapper.OrderDetailMapper.insert    : ==>  Preparing: INSERT INTO order_detail ( order_id, item_id, num, name, spec, price, image ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
17:17:45:208 DEBUG 28648 --- [http-nio-8085-exec-4] c.h.t.mapper.OrderDetailMapper.insert    : ==> Parameters: 1806617974778380289(Long), 14741770661(Long), 1(Integer), 康佳（KONKA） LED49UC3 49英寸超薄曲面36核4K HDR人工智能电视(String), {}(String), 144600(Integer), https://m.360buyimg.com/mobilecms/s720x720_jfs/t16477/84/2032772431/400946/2887be91/5a912776N7e343ec3.jpg!q70.jpg.webp(String)
17:17:45:217 DEBUG 28648 --- [http-nio-8085-exec-4] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] ---> PUT http://item-service/items/stock/deduct HTTP/1.1
17:17:45:217 DEBUG 28648 --- [http-nio-8085-exec-4] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] Content-Length: 34
17:17:45:217 DEBUG 28648 --- [http-nio-8085-exec-4] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] Content-Type: application/json
17:17:45:217 DEBUG 28648 --- [http-nio-8085-exec-4] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] user-info: 1
17:17:45:217 DEBUG 28648 --- [http-nio-8085-exec-4] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] 
17:17:45:217 DEBUG 28648 --- [http-nio-8085-exec-4] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] [{"itemId":"14741770661","num":1}]
17:17:45:217 DEBUG 28648 --- [http-nio-8085-exec-4] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] ---> END HTTP (34-byte body)
17:17:45:263 DEBUG 28648 --- [http-nio-8085-exec-4] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] <--- HTTP/1.1 200 (45ms)
17:17:45:263 DEBUG 28648 --- [http-nio-8085-exec-4] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] connection: keep-alive
17:17:45:263 DEBUG 28648 --- [http-nio-8085-exec-4] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] content-length: 0
17:17:45:263 DEBUG 28648 --- [http-nio-8085-exec-4] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] date: Fri, 28 Jun 2024 09:17:45 GMT
17:17:45:263 DEBUG 28648 --- [http-nio-8085-exec-4] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] keep-alive: timeout=60
17:17:45:264 DEBUG 28648 --- [http-nio-8085-exec-4] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] 
17:17:45:264 DEBUG 28648 --- [http-nio-8085-exec-4] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] <--- END HTTP (0-byte body)
17:17:45:305  INFO 28648 --- [http-nio-8085-exec-4] i.seata.tm.api.DefaultGlobalTransaction  : Suspending current transaction, xid = 192.168.15.215:8099:81601879587349697
17:17:45:305  INFO 28648 --- [http-nio-8085-exec-4] i.seata.tm.api.DefaultGlobalTransaction  : [192.168.15.215:8099:81601879587349697] commit status: Committed
17:17:45:450 DEBUG 28648 --- [http-nio-8085-exec-5] c.h.trade.mapper.OrderMapper.selectById  : ==>  Preparing: SELECT id,total_fee,payment_type,user_id,status,create_time,pay_time,consign_time,end_time,close_time,comment_time,update_time FROM `order` WHERE id=?
17:17:45:450 DEBUG 28648 --- [http-nio-8085-exec-5] c.h.trade.mapper.OrderMapper.selectById  : ==> Parameters: 1806617974778380289(Long)
17:17:45:454 DEBUG 28648 --- [http-nio-8085-exec-5] c.h.trade.mapper.OrderMapper.selectById  : <==      Total: 1
17:17:46:190  INFO 28648 --- [rpcDispatch_RMROLE_1_2_24] i.s.c.r.p.c.RmBranchCommitProcessor      : rm client handle branch commit process:xid=192.168.15.215:8099:81601879587349697,branchId=81601879587349702,branchType=AT,resourceId=jdbc:mysql://192.168.15.215:3306/hm-trade,applicationData={"autoCommit":false,"skipCheckLock":true}
17:17:46:190  INFO 28648 --- [rpcDispatch_RMROLE_1_2_24] io.seata.rm.AbstractRMHandler            : Branch committing: 192.168.15.215:8099:81601879587349697 81601879587349702 jdbc:mysql://192.168.15.215:3306/hm-trade {"autoCommit":false,"skipCheckLock":true}
17:17:46:190  INFO 28648 --- [rpcDispatch_RMROLE_1_2_24] io.seata.rm.AbstractRMHandler            : Branch commit result: PhaseTwo_Committed
17:19:45:776  INFO 28648 --- [http-nio-8085-exec-6] i.seata.tm.api.DefaultGlobalTransaction  : Begin new global transaction [192.168.15.215:8099:81601879587349705]
17:19:45:778 DEBUG 28648 --- [http-nio-8085-exec-6] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] ---> GET http://item-service/items?ids=14741770661 HTTP/1.1
17:19:45:778 DEBUG 28648 --- [http-nio-8085-exec-6] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] user-info: 1
17:19:45:778 DEBUG 28648 --- [http-nio-8085-exec-6] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] ---> END HTTP (0-byte body)
17:19:46:285 DEBUG 28648 --- [http-nio-8085-exec-6] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] <--- HTTP/1.1 200 (506ms)
17:19:46:285 DEBUG 28648 --- [http-nio-8085-exec-6] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] connection: keep-alive
17:19:46:285 DEBUG 28648 --- [http-nio-8085-exec-6] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] content-type: application/json
17:19:46:285 DEBUG 28648 --- [http-nio-8085-exec-6] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] date: Fri, 28 Jun 2024 09:19:46 GMT
17:19:46:285 DEBUG 28648 --- [http-nio-8085-exec-6] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] keep-alive: timeout=60
17:19:46:285 DEBUG 28648 --- [http-nio-8085-exec-6] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] transfer-encoding: chunked
17:19:46:285 DEBUG 28648 --- [http-nio-8085-exec-6] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] 
17:19:46:285 DEBUG 28648 --- [http-nio-8085-exec-6] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] [{"id":"14741770661","name":"康佳（KONKA） LED49UC3 49英寸超薄曲面36核4K HDR人工智能电视","price":144600,"stock":9989,"image":"https://m.360buyimg.com/mobilecms/s720x720_jfs/t16477/84/2032772431/400946/2887be91/5a912776N7e343ec3.jpg!q70.jpg.webp","category":"曲面电视","brand":"康佳","spec":"{}","sold":0,"commentCount":0,"isAD":false,"status":1}]
17:19:46:286 DEBUG 28648 --- [http-nio-8085-exec-6] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] <--- END HTTP (370-byte body)
17:19:46:287 DEBUG 28648 --- [http-nio-8085-exec-6] c.hmall.trade.mapper.OrderMapper.insert  : ==>  Preparing: INSERT INTO `order` ( id, total_fee, payment_type, user_id, status ) VALUES ( ?, ?, ?, ?, ? )
17:19:46:288 DEBUG 28648 --- [http-nio-8085-exec-6] c.hmall.trade.mapper.OrderMapper.insert  : ==> Parameters: 1806618482704400386(Long), 144600(Integer), 3(Integer), 1(Long), 1(Integer)
17:19:46:290 DEBUG 28648 --- [http-nio-8085-exec-6] c.hmall.trade.mapper.OrderMapper.insert  : <==    Updates: 1
17:19:46:291 DEBUG 28648 --- [http-nio-8085-exec-6] c.h.t.mapper.OrderDetailMapper.insert    : ==>  Preparing: INSERT INTO order_detail ( order_id, item_id, num, name, spec, price, image ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
17:19:46:293 DEBUG 28648 --- [http-nio-8085-exec-6] c.h.t.mapper.OrderDetailMapper.insert    : ==> Parameters: 1806618482704400386(Long), 14741770661(Long), 1(Integer), 康佳（KONKA） LED49UC3 49英寸超薄曲面36核4K HDR人工智能电视(String), {}(String), 144600(Integer), https://m.360buyimg.com/mobilecms/s720x720_jfs/t16477/84/2032772431/400946/2887be91/5a912776N7e343ec3.jpg!q70.jpg.webp(String)
17:19:46:298 DEBUG 28648 --- [http-nio-8085-exec-6] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] ---> PUT http://item-service/items/stock/deduct HTTP/1.1
17:19:46:298 DEBUG 28648 --- [http-nio-8085-exec-6] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] Content-Length: 34
17:19:46:298 DEBUG 28648 --- [http-nio-8085-exec-6] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] Content-Type: application/json
17:19:46:298 DEBUG 28648 --- [http-nio-8085-exec-6] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] user-info: 1
17:19:46:299 DEBUG 28648 --- [http-nio-8085-exec-6] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] 
17:19:46:299 DEBUG 28648 --- [http-nio-8085-exec-6] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] [{"itemId":"14741770661","num":1}]
17:19:46:299 DEBUG 28648 --- [http-nio-8085-exec-6] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] ---> END HTTP (34-byte body)
17:19:46:330 DEBUG 28648 --- [http-nio-8085-exec-6] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] <--- HTTP/1.1 200 (31ms)
17:19:46:330 DEBUG 28648 --- [http-nio-8085-exec-6] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] connection: keep-alive
17:19:46:330 DEBUG 28648 --- [http-nio-8085-exec-6] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] content-length: 0
17:19:46:330 DEBUG 28648 --- [http-nio-8085-exec-6] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] date: Fri, 28 Jun 2024 09:19:46 GMT
17:19:46:330 DEBUG 28648 --- [http-nio-8085-exec-6] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] keep-alive: timeout=60
17:19:46:330 DEBUG 28648 --- [http-nio-8085-exec-6] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] 
17:19:46:330 DEBUG 28648 --- [http-nio-8085-exec-6] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] <--- END HTTP (0-byte body)
17:19:46:356  INFO 28648 --- [http-nio-8085-exec-6] i.seata.tm.api.DefaultGlobalTransaction  : Suspending current transaction, xid = 192.168.15.215:8099:81601879587349705
17:19:46:356  INFO 28648 --- [http-nio-8085-exec-6] i.seata.tm.api.DefaultGlobalTransaction  : [192.168.15.215:8099:81601879587349705] commit status: Committed
17:19:46:501 DEBUG 28648 --- [http-nio-8085-exec-8] c.h.trade.mapper.OrderMapper.selectById  : ==>  Preparing: SELECT id,total_fee,payment_type,user_id,status,create_time,pay_time,consign_time,end_time,close_time,comment_time,update_time FROM `order` WHERE id=?
17:19:46:501 DEBUG 28648 --- [http-nio-8085-exec-8] c.h.trade.mapper.OrderMapper.selectById  : ==> Parameters: 1806618482704400386(Long)
17:19:46:503 DEBUG 28648 --- [http-nio-8085-exec-8] c.h.trade.mapper.OrderMapper.selectById  : <==      Total: 1
17:19:47:178  INFO 28648 --- [rpcDispatch_RMROLE_1_3_24] i.s.c.r.p.c.RmBranchCommitProcessor      : rm client handle branch commit process:xid=192.168.15.215:8099:81601879587349705,branchId=81601879587349710,branchType=AT,resourceId=jdbc:mysql://192.168.15.215:3306/hm-trade,applicationData={"autoCommit":false,"skipCheckLock":true}
17:19:47:179  INFO 28648 --- [rpcDispatch_RMROLE_1_3_24] io.seata.rm.AbstractRMHandler            : Branch committing: 192.168.15.215:8099:81601879587349705 81601879587349710 jdbc:mysql://192.168.15.215:3306/hm-trade {"autoCommit":false,"skipCheckLock":true}
17:19:47:179  INFO 28648 --- [rpcDispatch_RMROLE_1_3_24] io.seata.rm.AbstractRMHandler            : Branch commit result: PhaseTwo_Committed
17:21:10:644  INFO 28648 --- [http-nio-8085-exec-10] i.seata.tm.api.DefaultGlobalTransaction  : Begin new global transaction [192.168.15.215:8099:81601879587349713]
17:21:10:646 DEBUG 28648 --- [http-nio-8085-exec-10] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] ---> GET http://item-service/items?ids=14741770661 HTTP/1.1
17:21:10:646 DEBUG 28648 --- [http-nio-8085-exec-10] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] user-info: 1
17:21:10:646 DEBUG 28648 --- [http-nio-8085-exec-10] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] ---> END HTTP (0-byte body)
17:21:11:153 DEBUG 28648 --- [http-nio-8085-exec-10] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] <--- HTTP/1.1 200 (506ms)
17:21:11:153 DEBUG 28648 --- [http-nio-8085-exec-10] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] connection: keep-alive
17:21:11:154 DEBUG 28648 --- [http-nio-8085-exec-10] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] content-type: application/json
17:21:11:154 DEBUG 28648 --- [http-nio-8085-exec-10] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] date: Fri, 28 Jun 2024 09:21:11 GMT
17:21:11:154 DEBUG 28648 --- [http-nio-8085-exec-10] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] keep-alive: timeout=60
17:21:11:154 DEBUG 28648 --- [http-nio-8085-exec-10] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] transfer-encoding: chunked
17:21:11:154 DEBUG 28648 --- [http-nio-8085-exec-10] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] 
17:21:11:154 DEBUG 28648 --- [http-nio-8085-exec-10] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] [{"id":"14741770661","name":"康佳（KONKA） LED49UC3 49英寸超薄曲面36核4K HDR人工智能电视","price":144600,"stock":9988,"image":"https://m.360buyimg.com/mobilecms/s720x720_jfs/t16477/84/2032772431/400946/2887be91/5a912776N7e343ec3.jpg!q70.jpg.webp","category":"曲面电视","brand":"康佳","spec":"{}","sold":0,"commentCount":0,"isAD":false,"status":1}]
17:21:11:154 DEBUG 28648 --- [http-nio-8085-exec-10] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByids] <--- END HTTP (370-byte body)
17:21:11:155 DEBUG 28648 --- [http-nio-8085-exec-10] c.hmall.trade.mapper.OrderMapper.insert  : ==>  Preparing: INSERT INTO `order` ( id, total_fee, payment_type, user_id, status ) VALUES ( ?, ?, ?, ?, ? )
17:21:11:155 DEBUG 28648 --- [http-nio-8085-exec-10] c.hmall.trade.mapper.OrderMapper.insert  : ==> Parameters: 1806618838666592257(Long), 144600(Integer), 3(Integer), 1(Long), 1(Integer)
17:21:11:158 DEBUG 28648 --- [http-nio-8085-exec-10] c.hmall.trade.mapper.OrderMapper.insert  : <==    Updates: 1
17:21:11:158 DEBUG 28648 --- [http-nio-8085-exec-10] c.h.t.mapper.OrderDetailMapper.insert    : ==>  Preparing: INSERT INTO order_detail ( order_id, item_id, num, name, spec, price, image ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
17:21:11:158 DEBUG 28648 --- [http-nio-8085-exec-10] c.h.t.mapper.OrderDetailMapper.insert    : ==> Parameters: 1806618838666592257(Long), 14741770661(Long), 1(Integer), 康佳（KONKA） LED49UC3 49英寸超薄曲面36核4K HDR人工智能电视(String), {}(String), 144600(Integer), https://m.360buyimg.com/mobilecms/s720x720_jfs/t16477/84/2032772431/400946/2887be91/5a912776N7e343ec3.jpg!q70.jpg.webp(String)
17:21:11:162 DEBUG 28648 --- [http-nio-8085-exec-10] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] ---> PUT http://item-service/items/stock/deduct HTTP/1.1
17:21:11:162 DEBUG 28648 --- [http-nio-8085-exec-10] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] Content-Length: 34
17:21:11:162 DEBUG 28648 --- [http-nio-8085-exec-10] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] Content-Type: application/json
17:21:11:162 DEBUG 28648 --- [http-nio-8085-exec-10] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] user-info: 1
17:21:11:162 DEBUG 28648 --- [http-nio-8085-exec-10] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] 
17:21:11:162 DEBUG 28648 --- [http-nio-8085-exec-10] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] [{"itemId":"14741770661","num":1}]
17:21:11:162 DEBUG 28648 --- [http-nio-8085-exec-10] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] ---> END HTTP (34-byte body)
17:21:11:189 DEBUG 28648 --- [http-nio-8085-exec-10] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] <--- HTTP/1.1 200 (26ms)
17:21:11:189 DEBUG 28648 --- [http-nio-8085-exec-10] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] connection: keep-alive
17:21:11:189 DEBUG 28648 --- [http-nio-8085-exec-10] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] content-length: 0
17:21:11:189 DEBUG 28648 --- [http-nio-8085-exec-10] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] date: Fri, 28 Jun 2024 09:21:11 GMT
17:21:11:189 DEBUG 28648 --- [http-nio-8085-exec-10] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] keep-alive: timeout=60
17:21:11:190 DEBUG 28648 --- [http-nio-8085-exec-10] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] 
17:21:11:190 DEBUG 28648 --- [http-nio-8085-exec-10] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] <--- END HTTP (0-byte body)
17:21:11:212  INFO 28648 --- [http-nio-8085-exec-10] i.seata.tm.api.DefaultGlobalTransaction  : Suspending current transaction, xid = 192.168.15.215:8099:81601879587349713
17:21:11:213  INFO 28648 --- [http-nio-8085-exec-10] i.seata.tm.api.DefaultGlobalTransaction  : [192.168.15.215:8099:81601879587349713] commit status: Committed
17:21:11:354 DEBUG 28648 --- [http-nio-8085-exec-1] c.h.trade.mapper.OrderMapper.selectById  : ==>  Preparing: SELECT id,total_fee,payment_type,user_id,status,create_time,pay_time,consign_time,end_time,close_time,comment_time,update_time FROM `order` WHERE id=?
17:21:11:354 DEBUG 28648 --- [http-nio-8085-exec-1] c.h.trade.mapper.OrderMapper.selectById  : ==> Parameters: 1806618838666592257(Long)
17:21:11:355 DEBUG 28648 --- [http-nio-8085-exec-1] c.h.trade.mapper.OrderMapper.selectById  : <==      Total: 1
17:21:12:179  INFO 28648 --- [rpcDispatch_RMROLE_1_4_24] i.s.c.r.p.c.RmBranchCommitProcessor      : rm client handle branch commit process:xid=192.168.15.215:8099:81601879587349713,branchId=81601879587349717,branchType=AT,resourceId=jdbc:mysql://192.168.15.215:3306/hm-trade,applicationData={"autoCommit":false,"skipCheckLock":true}
17:21:12:179  INFO 28648 --- [rpcDispatch_RMROLE_1_4_24] io.seata.rm.AbstractRMHandler            : Branch committing: 192.168.15.215:8099:81601879587349713 81601879587349717 jdbc:mysql://192.168.15.215:3306/hm-trade {"autoCommit":false,"skipCheckLock":true}
17:21:12:179  INFO 28648 --- [rpcDispatch_RMROLE_1_4_24] io.seata.rm.AbstractRMHandler            : Branch commit result: PhaseTwo_Committed
17:42:38:516  INFO 28648 --- [nacos-grpc-client-executor-416] com.alibaba.nacos.common.remote.client   : [8c9b25fe-b63c-4e91-853b-123a17be33d9] Receive server push request, request = NotifySubscriberRequest, requestId = 112
17:42:38:525  INFO 28648 --- [nacos-grpc-client-executor-416] com.alibaba.nacos.common.remote.client   : [8c9b25fe-b63c-4e91-853b-123a17be33d9] Ack server push request, request = NotifySubscriberRequest, requestId = 112
17:44:04:563  INFO 28648 --- [nacos-grpc-client-executor-434] com.alibaba.nacos.common.remote.client   : [8c9b25fe-b63c-4e91-853b-123a17be33d9] Receive server push request, request = NotifySubscriberRequest, requestId = 117
17:44:04:564  INFO 28648 --- [nacos-grpc-client-executor-434] com.alibaba.nacos.common.remote.client   : [8c9b25fe-b63c-4e91-853b-123a17be33d9] Ack server push request, request = NotifySubscriberRequest, requestId = 117
17:44:08:051  WARN 28648 --- [Thread-5] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Start destroying Publisher
17:44:08:051  WARN 28648 --- [Thread-1] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Start destroying common HttpClient
17:44:08:052  WARN 28648 --- [Thread-5] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Destruction of the end
17:44:08:059  WARN 28648 --- [Thread-1] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Destruction of the end
17:44:08:145  INFO 28648 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
17:44:08:790  INFO 28648 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
17:44:09:786  INFO 28648 --- [nacos-grpc-client-executor-436] com.alibaba.nacos.common.remote.client   : [8c9b25fe-b63c-4e91-853b-123a17be33d9] Receive server push request, request = NotifySubscriberRequest, requestId = 119
17:44:09:788  INFO 28648 --- [nacos-grpc-client-executor-436] com.alibaba.nacos.common.remote.client   : [8c9b25fe-b63c-4e91-853b-123a17be33d9] Ack server push request, request = NotifySubscriberRequest, requestId = 119
17:44:09:793  INFO 28648 --- [SpringContextShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registering from Nacos Server now...
17:44:09:797  INFO 28648 --- [SpringContextShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registration finished.
17:44:10:121  INFO 28648 --- [SpringContextShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown rpc client, set status to shutdown
17:44:10:121  INFO 28648 --- [SpringContextShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@262bfaae[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
17:44:10:121  INFO 28648 --- [SpringContextShutdownHook] com.alibaba.nacos.common.remote.client   : Close current connection 1719565778072_192.168.15.235_47061
17:44:10:122  INFO 28648 --- [nacos-grpc-client-executor-438] c.a.n.c.remote.client.grpc.GrpcClient    : [1719565778072_192.168.15.235_47061]Ignore complete event,isRunning:false,isAbandon=false
17:44:10:129  INFO 28648 --- [SpringContextShutdownHook] c.a.n.c.remote.client.grpc.GrpcClient    : Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@6bc69ca5[Running, pool size = 6, active threads = 0, queued tasks = 0, completed tasks = 439]
17:44:10:146  INFO 28648 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
17:44:10:166  INFO 28648 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
17:44:10:169  INFO 28648 --- [SpringContextShutdownHook] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is already stopped
17:44:10:178  INFO 28648 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : channel inactive: [id: 0x069d79b0, L:/192.168.15.235:47033 ! R:/192.168.15.215:8099]
17:44:10:178  INFO 28648 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.netty.NettyClientChannelManager  : return to pool, rm channel:[id: 0x069d79b0, L:/192.168.15.235:47033 ! R:/192.168.15.215:8099]
17:44:10:179  INFO 28648 --- [NettyClientSelector_RMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : channel valid false,channel:[id: 0x069d79b0, L:/192.168.15.235:47033 ! R:/192.168.15.215:8099]
17:44:10:179  INFO 28648 --- [NettyClientSelector_RMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : will destroy channel:[id: 0x069d79b0, L:/192.168.15.235:47033 ! R:/192.168.15.215:8099]
17:44:10:179  INFO 28648 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x069d79b0, L:/192.168.15.235:47033 ! R:/192.168.15.215:8099]) will closed
17:44:10:181  INFO 28648 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x069d79b0, L:/192.168.15.235:47033 ! R:/192.168.15.215:8099]) will closed
